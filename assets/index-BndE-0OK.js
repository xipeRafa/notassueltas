(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var _g={exports:{}},Au={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rT;function eI(){if(rT)return Au;rT=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:s,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Au.Fragment=e,Au.jsx=t,Au.jsxs=t,Au}var iT;function tI(){return iT||(iT=1,_g.exports=eI()),_g.exports}var x=tI(),vg={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function nI(){if(sT)return xe;sT=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=T&&N[T]||N["@@iterator"],typeof N=="function"?N:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,H={};function U(N,ne,he){this.props=N,this.context=ne,this.refs=H,this.updater=he||D}U.prototype.isReactComponent={},U.prototype.setState=function(N,ne){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ne,"setState")},U.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function $(){}$.prototype=U.prototype;function se(N,ne,he){this.props=N,this.context=ne,this.refs=H,this.updater=he||D}var Z=se.prototype=new $;Z.constructor=se,M(Z,U.prototype),Z.isPureReactComponent=!0;var me=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},Ee=Object.prototype.hasOwnProperty;function V(N,ne,he,ae,Te,Ce){return he=Ce.ref,{$$typeof:s,type:N,key:ne,ref:he!==void 0?he:null,props:Ce}}function w(N,ne){return V(N.type,ne,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function P(N){var ne={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(he){return ne[he]})}var L=/\/+/g;function B(N,ne){return typeof N=="object"&&N!==null&&N.key!=null?P(""+N.key):ne.toString(36)}function C(){}function Kt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(ne){N.status==="pending"&&(N.status="fulfilled",N.value=ne)},function(ne){N.status==="pending"&&(N.status="rejected",N.reason=ne)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function gt(N,ne,he,ae,Te){var Ce=typeof N;(Ce==="undefined"||Ce==="boolean")&&(N=null);var Re=!1;if(N===null)Re=!0;else switch(Ce){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(N.$$typeof){case s:case e:Re=!0;break;case _:return Re=N._init,gt(Re(N._payload),ne,he,ae,Te)}}if(Re)return Te=Te(N),Re=ae===""?"."+B(N,0):ae,me(Te)?(he="",Re!=null&&(he=Re.replace(L,"$&/")+"/"),gt(Te,ne,he,"",function(nr){return nr})):Te!=null&&(R(Te)&&(Te=w(Te,he+(Te.key==null||N&&N.key===Te.key?"":(""+Te.key).replace(L,"$&/")+"/")+Re)),ne.push(Te)),1;Re=0;var Bt=ae===""?".":ae+":";if(me(N))for(var nt=0;nt<N.length;nt++)ae=N[nt],Ce=Bt+B(ae,nt),Re+=gt(ae,ne,he,Ce,Te);else if(nt=A(N),typeof nt=="function")for(N=nt.call(N),nt=0;!(ae=N.next()).done;)ae=ae.value,Ce=Bt+B(ae,nt++),Re+=gt(ae,ne,he,Ce,Te);else if(Ce==="object"){if(typeof N.then=="function")return gt(Kt(N),ne,he,ae,Te);throw ne=String(N),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Re}function X(N,ne,he){if(N==null)return N;var ae=[],Te=0;return gt(N,ae,"","",function(Ce){return ne.call(he,Ce,Te++)}),ae}function ue(N){if(N._status===-1){var ne=N._result;ne=ne(),ne.then(function(he){(N._status===0||N._status===-1)&&(N._status=1,N._result=he)},function(he){(N._status===0||N._status===-1)&&(N._status=2,N._result=he)}),N._status===-1&&(N._status=0,N._result=ne)}if(N._status===1)return N._result.default;throw N._result}var ve=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Fe(){}return xe.Children={map:X,forEach:function(N,ne,he){X(N,function(){ne.apply(this,arguments)},he)},count:function(N){var ne=0;return X(N,function(){ne++}),ne},toArray:function(N){return X(N,function(ne){return ne})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},xe.Component=U,xe.Fragment=t,xe.Profiler=a,xe.PureComponent=se,xe.StrictMode=r,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,xe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return fe.H.useMemoCache(N)}},xe.cache=function(N){return function(){return N.apply(null,arguments)}},xe.cloneElement=function(N,ne,he){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ae=M({},N.props),Te=N.key,Ce=void 0;if(ne!=null)for(Re in ne.ref!==void 0&&(Ce=void 0),ne.key!==void 0&&(Te=""+ne.key),ne)!Ee.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(ae[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)ae.children=he;else if(1<Re){for(var Bt=Array(Re),nt=0;nt<Re;nt++)Bt[nt]=arguments[nt+2];ae.children=Bt}return V(N.type,Te,void 0,void 0,Ce,ae)},xe.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},xe.createElement=function(N,ne,he){var ae,Te={},Ce=null;if(ne!=null)for(ae in ne.key!==void 0&&(Ce=""+ne.key),ne)Ee.call(ne,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Te[ae]=ne[ae]);var Re=arguments.length-2;if(Re===1)Te.children=he;else if(1<Re){for(var Bt=Array(Re),nt=0;nt<Re;nt++)Bt[nt]=arguments[nt+2];Te.children=Bt}if(N&&N.defaultProps)for(ae in Re=N.defaultProps,Re)Te[ae]===void 0&&(Te[ae]=Re[ae]);return V(N,Ce,void 0,void 0,null,Te)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(N){return{$$typeof:d,render:N}},xe.isValidElement=R,xe.lazy=function(N){return{$$typeof:_,_payload:{_status:-1,_result:N},_init:ue}},xe.memo=function(N,ne){return{$$typeof:p,type:N,compare:ne===void 0?null:ne}},xe.startTransition=function(N){var ne=fe.T,he={};fe.T=he;try{var ae=N(),Te=fe.S;Te!==null&&Te(he,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Fe,ve)}catch(Ce){ve(Ce)}finally{fe.T=ne}},xe.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},xe.use=function(N){return fe.H.use(N)},xe.useActionState=function(N,ne,he){return fe.H.useActionState(N,ne,he)},xe.useCallback=function(N,ne){return fe.H.useCallback(N,ne)},xe.useContext=function(N){return fe.H.useContext(N)},xe.useDebugValue=function(){},xe.useDeferredValue=function(N,ne){return fe.H.useDeferredValue(N,ne)},xe.useEffect=function(N,ne,he){var ae=fe.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(N,ne)},xe.useId=function(){return fe.H.useId()},xe.useImperativeHandle=function(N,ne,he){return fe.H.useImperativeHandle(N,ne,he)},xe.useInsertionEffect=function(N,ne){return fe.H.useInsertionEffect(N,ne)},xe.useLayoutEffect=function(N,ne){return fe.H.useLayoutEffect(N,ne)},xe.useMemo=function(N,ne){return fe.H.useMemo(N,ne)},xe.useOptimistic=function(N,ne){return fe.H.useOptimistic(N,ne)},xe.useReducer=function(N,ne,he){return fe.H.useReducer(N,ne,he)},xe.useRef=function(N){return fe.H.useRef(N)},xe.useState=function(N){return fe.H.useState(N)},xe.useSyncExternalStore=function(N,ne,he){return fe.H.useSyncExternalStore(N,ne,he)},xe.useTransition=function(){return fe.H.useTransition()},xe.version="19.1.0",xe}var aT;function Ep(){return aT||(aT=1,vg.exports=nI()),vg.exports}var ee=Ep(),Eg={exports:{}},Su={},Tg={exports:{}},bg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function rI(){return oT||(oT=1,function(s){function e(X,ue){var ve=X.length;X.push(ue);e:for(;0<ve;){var Fe=ve-1>>>1,N=X[Fe];if(0<a(N,ue))X[Fe]=ue,X[ve]=N,ve=Fe;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ue=X[0],ve=X.pop();if(ve!==ue){X[0]=ve;e:for(var Fe=0,N=X.length,ne=N>>>1;Fe<ne;){var he=2*(Fe+1)-1,ae=X[he],Te=he+1,Ce=X[Te];if(0>a(ae,ve))Te<N&&0>a(Ce,ae)?(X[Fe]=Ce,X[Te]=ve,Fe=Te):(X[Fe]=ae,X[he]=ve,Fe=he);else if(Te<N&&0>a(Ce,ve))X[Fe]=Ce,X[Te]=ve,Fe=Te;else break e}}return ue}function a(X,ue){var ve=X.sortIndex-ue.sortIndex;return ve!==0?ve:X.id-ue.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();s.unstable_now=function(){return c.now()-d}}var m=[],p=[],_=1,T=null,A=3,D=!1,M=!1,H=!1,U=!1,$=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function me(X){for(var ue=t(p);ue!==null;){if(ue.callback===null)r(p);else if(ue.startTime<=X)r(p),ue.sortIndex=ue.expirationTime,e(m,ue);else break;ue=t(p)}}function fe(X){if(H=!1,me(X),!M)if(t(m)!==null)M=!0,Ee||(Ee=!0,B());else{var ue=t(p);ue!==null&&gt(fe,ue.startTime-X)}}var Ee=!1,V=-1,w=5,R=-1;function P(){return U?!0:!(s.unstable_now()-R<w)}function L(){if(U=!1,Ee){var X=s.unstable_now();R=X;var ue=!0;try{e:{M=!1,H&&(H=!1,se(V),V=-1),D=!0;var ve=A;try{t:{for(me(X),T=t(m);T!==null&&!(T.expirationTime>X&&P());){var Fe=T.callback;if(typeof Fe=="function"){T.callback=null,A=T.priorityLevel;var N=Fe(T.expirationTime<=X);if(X=s.unstable_now(),typeof N=="function"){T.callback=N,me(X),ue=!0;break t}T===t(m)&&r(m),me(X)}else r(m);T=t(m)}if(T!==null)ue=!0;else{var ne=t(p);ne!==null&&gt(fe,ne.startTime-X),ue=!1}}break e}finally{T=null,A=ve,D=!1}ue=void 0}}finally{ue?B():Ee=!1}}}var B;if(typeof Z=="function")B=function(){Z(L)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Kt=C.port2;C.port1.onmessage=L,B=function(){Kt.postMessage(null)}}else B=function(){$(L,0)};function gt(X,ue){V=$(function(){X(s.unstable_now())},ue)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function(X){switch(A){case 1:case 2:case 3:var ue=3;break;default:ue=A}var ve=A;A=ue;try{return X()}finally{A=ve}},s.unstable_requestPaint=function(){U=!0},s.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ve=A;A=X;try{return ue()}finally{A=ve}},s.unstable_scheduleCallback=function(X,ue,ve){var Fe=s.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Fe+ve:Fe):ve=Fe,X){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ve+N,X={id:_++,callback:ue,priorityLevel:X,startTime:ve,expirationTime:N,sortIndex:-1},ve>Fe?(X.sortIndex=ve,e(p,X),t(m)===null&&X===t(p)&&(H?(se(V),V=-1):H=!0,gt(fe,ve-Fe))):(X.sortIndex=N,e(m,X),M||D||(M=!0,Ee||(Ee=!0,B()))),X},s.unstable_shouldYield=P,s.unstable_wrapCallback=function(X){var ue=A;return function(){var ve=A;A=ue;try{return X.apply(this,arguments)}finally{A=ve}}}}(bg)),bg}var lT;function iI(){return lT||(lT=1,Tg.exports=rI()),Tg.exports}var Ag={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function sI(){if(uT)return rn;uT=1;var s=Ep();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:_}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,_)},rn.flushSync=function(m){var p=c.T,_=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=_,r.d.f()}},rn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},rn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},rn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,T=d(_,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:D}):_==="script"&&r.d.X(m,{crossOrigin:T,integrity:A,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},rn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,T=d(_,p.crossOrigin);r.d.L(m,_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rn.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},rn.requestFormReset=function(m){r.d.r(m)},rn.unstable_batchedUpdates=function(m,p){return m(p)},rn.useFormState=function(m,p,_){return c.H.useFormState(m,p,_)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var cT;function aI(){if(cT)return Ag.exports;cT=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ag.exports=sI(),Ag.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function oI(){if(hT)return Su;hT=1;var s=iI(),e=Ep(),t=aI();function r(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(r(188))}function m(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(r(188));return i!==n?null:n}for(var o=n,u=i;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),n;if(g===u)return d(f),i;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,b=f.child;b;){if(b===o){E=!0,o=f,u=g;break}if(b===u){E=!0,u=f,o=g;break}b=b.sibling}if(!E){for(b=g.child;b;){if(b===o){E=!0,o=g,u=f;break}if(b===u){E=!0,u=g,o=f;break}b=b.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function Kt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M:return"Fragment";case U:return"Profiler";case H:return"StrictMode";case fe:return"Suspense";case Ee:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case Z:return(n.displayName||"Context")+".Provider";case se:return(n._context.displayName||"Context")+".Consumer";case me:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return i=n.displayName||null,i!==null?i:Kt(n.type)||"Memo";case w:i=n._payload,n=n._init;try{return Kt(n(i))}catch{}}return null}var gt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Fe=[],N=-1;function ne(n){return{current:n}}function he(n){0>N||(n.current=Fe[N],Fe[N]=null,N--)}function ae(n,i){N++,Fe[N]=n.current,n.current=i}var Te=ne(null),Ce=ne(null),Re=ne(null),Bt=ne(null);function nt(n,i){switch(ae(Re,i),ae(Ce,n),ae(Te,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?VE(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=VE(i),n=NE(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}he(Te),ae(Te,n)}function nr(){he(Te),he(Ce),he(Re)}function pi(n){n.memoizedState!==null&&ae(Bt,n);var i=Te.current,o=NE(i,n.type);i!==o&&(ae(Ce,n),ae(Te,o))}function Cr(n){Ce.current===n&&(he(Te),he(Ce)),Bt.current===n&&(he(Bt),_u._currentValue=ve)}var ys=Object.prototype.hasOwnProperty,_s=s.unstable_scheduleCallback,vs=s.unstable_cancelCallback,gl=s.unstable_shouldYield,Rc=s.unstable_requestPaint,On=s.unstable_now,_d=s.unstable_getCurrentPriorityLevel,pl=s.unstable_ImmediatePriority,Da=s.unstable_UserBlockingPriority,Es=s.unstable_NormalPriority,vd=s.unstable_LowPriority,Ca=s.unstable_IdlePriority,yl=s.log,Ic=s.unstable_setDisableYieldValue,pt=null,Ke=null;function An(n){if(typeof yl=="function"&&Ic(n),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(pt,n)}catch{}}var tn=Math.clz32?Math.clz32:Ts,xc=Math.log,Ed=Math.LN2;function Ts(n){return n>>>=0,n===0?32:31-(xc(n)/Ed|0)|0}var bs=256,As=4194304;function $n(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Va(n,i,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,g=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~g,u!==0?f=$n(u):(E&=b,E!==0?f=$n(E):o||(o=b&~n,o!==0&&(f=$n(o))))):(b=u&~g,b!==0?f=$n(b):E!==0?f=$n(E):o||(o=u&~n,o!==0&&(f=$n(o)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:f}function Ss(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function _l(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vl(){var n=bs;return bs<<=1,(bs&4194048)===0&&(bs=256),n}function El(){var n=As;return As<<=1,(As&62914560)===0&&(As=4194304),n}function Vr(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function Nr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Tl(n,i,o,u,f,g){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var b=n.entanglements,I=n.expirationTimes,F=n.hiddenUpdates;for(o=E&~o;0<o;){var J=31-tn(o),te=1<<J;b[J]=0,I[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var K=G[J];K!==null&&(K.lane&=-536870913)}o&=~te}u!==0&&rr(n,u,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(E&~i))}function rr(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-tn(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function bl(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var u=31-tn(o),f=1<<u;f&i|n[u]&i&&(n[u]|=i),o&=~f}}function yi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Na(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function _i(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:JE(n.type))}function Dc(n,i){var o=ue.p;try{return ue.p=n,i()}finally{ue.p=o}}var at=Math.random().toString(36).slice(2),Nt="__reactFiber$"+at,Rt="__reactProps$"+at,Pn="__reactContainer$"+at,Al="__reactEvents$"+at,Td="__reactListeners$"+at,vi="__reactHandles$"+at,Cc="__reactResources$"+at,ws="__reactMarker$"+at;function Ei(n){delete n[Nt],delete n[Rt],delete n[Al],delete n[Td],delete n[vi]}function Mr(n){var i=n[Nt];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Pn]||o[Nt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=LE(n);n!==null;){if(o=n[Nt])return o;n=LE(n)}return i}n=o,o=n.parentNode}return null}function ir(n){if(n=n[Nt]||n[Pn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function sr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(r(33))}function un(n){var i=n[Cc];return i||(i=n[Cc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(n){n[ws]=!0}var Sl=new Set,Ma={};function Xn(n,i){Or(n,i),Or(n+"Capture",i)}function Or(n,i){for(Ma[n]=i,n=0;n<i.length;n++)Sl.add(i[n])}var Vc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nc={},Rs={};function Mc(n){return ys.call(Rs,n)?!0:ys.call(Nc,n)?!1:Vc.test(n)?Rs[n]=!0:(Nc[n]=!0,!1)}function Ti(n,i,o){if(Mc(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function ar(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function Qt(n,i,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+u)}}var Is,Oc;function Pr(n){if(Is===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Is=i&&i[1]||"",Oc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Is+n+Oc}var Oa=!1;function Pa(n,i){if(!n||Oa)return"";Oa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var G=K}Reflect.construct(n,[],te)}else{try{te.call()}catch(K){G=K}n.call(te.prototype)}}else{try{throw Error()}catch(K){G=K}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],b=g[1];if(E&&b){var I=E.split(`
`),F=b.split(`
`);for(f=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(u===I.length||f===F.length)for(u=I.length-1,f=F.length-1;1<=u&&0<=f&&I[u]!==F[f];)f--;for(;1<=u&&0<=f;u--,f--)if(I[u]!==F[f]){if(u!==1||f!==1)do if(u--,f--,0>f||I[u]!==F[f]){var J=`
`+I[u].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=u&&0<=f);break}}}finally{Oa=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Pr(o):""}function wl(n){switch(n.tag){case 26:case 27:case 5:return Pr(n.type);case 16:return Pr("Lazy");case 13:return Pr("Suspense");case 19:return Pr("SuspenseList");case 0:case 15:return Pa(n.type,!1);case 11:return Pa(n.type.render,!1);case 1:return Pa(n.type,!0);case 31:return Pr("Activity");default:return""}}function La(n){try{var i="";do i+=wl(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function cn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Rl(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bd(n){var i=Rl(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ka(n){n._valueTracker||(n._valueTracker=bd(n))}function Il(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return n&&(u=Rl(n)?n.checked?"true":"false":n.value),n=u,n!==o?(i.setValue(n),!0):!1}function xs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ad=/[\n"\\]/g;function It(n){return n.replace(Ad,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Sn(n,i,o,u,f,g,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+cn(i)):n.value!==""+cn(i)&&(n.value=""+cn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?bi(n,E,cn(i)):o!=null?bi(n,E,cn(o)):u!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+cn(b):n.removeAttribute("name")}function Ds(n,i,o,u,f,g,E,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;o=o!=null?""+cn(o):"",i=i!=null?""+cn(i):o,b||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function bi(n,i,o){i==="number"&&xs(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Lr(n,i,o,u){if(n=n.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=i.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+cn(o),i=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Je(n,i,o){if(i!=null&&(i=""+cn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+cn(o):""}function Cs(n,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(r(92));if(gt(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=cn(i),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Ln(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var Vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pc(n,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,o):typeof o!="number"||o===0||Vs.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function xl(n,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&Pc(n,f,u)}else for(var g in i)i.hasOwnProperty(g)&&Pc(n,g,i[g])}function Dl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(n){return wd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var kr=null;function kn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Br=null,Ur=null;function Cl(n){var i=ir(n);if(i&&(n=i.stateNode)){var o=n[Rt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Sn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+It(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==n&&u.form===n.form){var f=u[Rt]||null;if(!f)throw Error(r(90));Sn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===n.form&&Il(u)}break e;case"textarea":Je(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Lr(n,!!o.multiple,i,!1)}}}var or=!1;function Lc(n,i,o){if(or)return n(i,o);or=!0;try{var u=n(i);return u}finally{if(or=!1,(Br!==null||Ur!==null)&&(Dh(),Br&&(i=Br,n=Ur,Ur=Br=null,Cl(i),n)))for(i=0;i<n.length;i++)Cl(n[i])}}function Ns(n,i){var o=n.stateNode;if(o===null)return null;var u=o[Rt]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(Jn)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{Bn=!1}var lr=null,Ai=null,zr=null;function Vl(){if(zr)return zr;var n,i=Ai,o=i.length,u,f="value"in lr?lr.value:lr.textContent,g=f.length;for(n=0;n<o&&i[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&i[o-u]===f[g-u];u++);return zr=f.slice(n,1<u?1-u:void 0)}function ur(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function cr(){return!0}function Nl(){return!1}function Ut(n){function i(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(o=n[b],this[b]=o?o(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?cr:Nl,this.isPropagationStopped=Nl,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Ut(He),Os=_({},He,{view:0,detail:0}),kc=Ut(Os),za,ja,hr,Ps=_({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hr&&(hr&&n.type==="mousemove"?(za=n.screenX-hr.screenX,ja=n.screenY-hr.screenY):ja=za=0,hr=n),za)},movementY:function(n){return"movementY"in n?n.movementY:ja}}),Un=Ut(Ps),Bc=_({},Ps,{dataTransfer:0}),Rd=Ut(Bc),Ls=_({},Os,{relatedTarget:0}),qa=Ut(Ls),Ml=_({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Fa=Ut(Ml),Uc=_({},He,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ga=Ut(Uc),Id=_({},He,{data:0}),Ol=Ut(Id),ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=jc[n])?!!i[n]:!1}function Bs(){return Pl}var qc=_({},Os,{key:function(n){if(n.key){var i=ks[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ur(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(n){return n.type==="keypress"?ur(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ur(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ha=Ut(qc),Fc=_({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ll=Ut(Fc),jr=_({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),Gc=Ut(jr),Hc=_({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kc=Ut(Hc),Qc=_({},Ps,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ka=Ut(Qc),hn=_({},He,{newState:0,oldState:0}),Yc=Ut(hn),$c=[9,13,27,32],fr=Jn&&"CompositionEvent"in window,h=null;Jn&&"documentMode"in document&&(h=document.documentMode);var y=Jn&&"TextEvent"in window&&!h,v=Jn&&(!fr||h&&8<h&&11>=h),S=" ",z=!1;function Y(n,i){switch(n){case"keyup":return $c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ke=!1;function Mt(n,i){switch(n){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(z=!0,S);case"textInput":return n=i.data,n===S&&z?null:n;default:return null}}function Be(n,i){if(ke)return n==="compositionend"||!fr&&Y(n,i)?(n=Vl(),zr=Ai=lr=null,ke=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!zt[n.type]:i==="textarea"}function qr(n,i,o,u){Br?Ur?Ur.push(u):Ur=[u]:Br=u,i=Ph(i,"onChange"),0<i.length&&(o=new Ua("onChange","change",null,o,u),n.push({event:o,listeners:i}))}var Yt=null,dr=null;function kl(n){RE(n,0)}function Xc(n){var i=sr(n);if(Il(i))return n}function Qy(n,i){if(n==="change")return i}var Yy=!1;if(Jn){var xd;if(Jn){var Dd="oninput"in document;if(!Dd){var $y=document.createElement("div");$y.setAttribute("oninput","return;"),Dd=typeof $y.oninput=="function"}xd=Dd}else xd=!1;Yy=xd&&(!document.documentMode||9<document.documentMode)}function Xy(){Yt&&(Yt.detachEvent("onpropertychange",Jy),dr=Yt=null)}function Jy(n){if(n.propertyName==="value"&&Xc(dr)){var i=[];qr(i,dr,n,kn(n)),Lc(kl,i)}}function Cw(n,i,o){n==="focusin"?(Xy(),Yt=i,dr=o,Yt.attachEvent("onpropertychange",Jy)):n==="focusout"&&Xy()}function Vw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Xc(dr)}function Nw(n,i){if(n==="click")return Xc(i)}function Mw(n,i){if(n==="input"||n==="change")return Xc(i)}function Ow(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var wn=typeof Object.is=="function"?Object.is:Ow;function Bl(n,i){if(wn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!ys.call(i,f)||!wn(n[f],i[f]))return!1}return!0}function Zy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Wy(n,i){var o=Zy(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=i&&u>=i)return{node:o,offset:i-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Zy(o)}}function e_(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?e_(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function t_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=xs(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=xs(n.document)}return i}function Cd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var Pw=Jn&&"documentMode"in document&&11>=document.documentMode,Qa=null,Vd=null,Ul=null,Nd=!1;function n_(n,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Nd||Qa==null||Qa!==xs(u)||(u=Qa,"selectionStart"in u&&Cd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ul&&Bl(Ul,u)||(Ul=u,u=Ph(Vd,"onSelect"),0<u.length&&(i=new Ua("onSelect","select",null,i,o),n.push({event:i,listeners:u}),i.target=Qa)))}function Us(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Ya={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},Md={},r_={};Jn&&(r_=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function zs(n){if(Md[n])return Md[n];if(!Ya[n])return n;var i=Ya[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in r_)return Md[n]=i[o];return n}var i_=zs("animationend"),s_=zs("animationiteration"),a_=zs("animationstart"),Lw=zs("transitionrun"),kw=zs("transitionstart"),Bw=zs("transitioncancel"),o_=zs("transitionend"),l_=new Map,Od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Od.push("scrollEnd");function Zn(n,i){l_.set(n,i),Xn(i,[n])}var u_=new WeakMap;function zn(n,i){if(typeof n=="object"&&n!==null){var o=u_.get(n);return o!==void 0?o:(i={value:n,source:i,stack:La(i)},u_.set(n,i),i)}return{value:n,source:i,stack:La(i)}}var jn=[],$a=0,Pd=0;function Jc(){for(var n=$a,i=Pd=$a=0;i<n;){var o=jn[i];jn[i++]=null;var u=jn[i];jn[i++]=null;var f=jn[i];jn[i++]=null;var g=jn[i];if(jn[i++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&c_(o,f,g)}}function Zc(n,i,o,u){jn[$a++]=n,jn[$a++]=i,jn[$a++]=o,jn[$a++]=u,Pd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Ld(n,i,o,u){return Zc(n,i,o,u),Wc(n)}function Xa(n,i){return Zc(n,null,null,i),Wc(n)}function c_(n,i,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&i!==null&&(f=31-tn(o),n=g.hiddenUpdates,u=n[f],u===null?n[f]=[i]:u.push(i),i.lane=o|536870912),g):null}function Wc(n){if(50<cu)throw cu=0,qm=null,Error(r(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ja={};function Uw(n,i,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(n,i,o,u){return new Uw(n,i,o,u)}function kd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fr(n,i){var o=n.alternate;return o===null?(o=Rn(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function h_(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function eh(n,i,o,u,f,g){var E=0;if(u=n,typeof n=="function")kd(n)&&(E=1);else if(typeof n=="string")E=jR(n,o,Te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=Rn(31,o,i,f),n.elementType=R,n.lanes=g,n;case M:return js(o.children,f,g,i);case H:E=8,f|=24;break;case U:return n=Rn(12,o,i,f|2),n.elementType=U,n.lanes=g,n;case fe:return n=Rn(13,o,i,f),n.elementType=fe,n.lanes=g,n;case Ee:return n=Rn(19,o,i,f),n.elementType=Ee,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case $:case Z:E=10;break e;case se:E=9;break e;case me:E=11;break e;case V:E=14;break e;case w:E=16,u=null;break e}E=29,o=Error(r(130,n===null?"null":typeof n,"")),u=null}return i=Rn(E,o,i,f),i.elementType=n,i.type=u,i.lanes=g,i}function js(n,i,o,u){return n=Rn(7,n,u,i),n.lanes=o,n}function Bd(n,i,o){return n=Rn(6,n,null,i),n.lanes=o,n}function Ud(n,i,o){return i=Rn(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Za=[],Wa=0,th=null,nh=0,qn=[],Fn=0,qs=null,Gr=1,Hr="";function Fs(n,i){Za[Wa++]=nh,Za[Wa++]=th,th=n,nh=i}function f_(n,i,o){qn[Fn++]=Gr,qn[Fn++]=Hr,qn[Fn++]=qs,qs=n;var u=Gr;n=Hr;var f=32-tn(u)-1;u&=~(1<<f),o+=1;var g=32-tn(i)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Gr=1<<32-tn(i)+f|o<<f|u,Hr=g+n}else Gr=1<<g|o<<f|u,Hr=n}function zd(n){n.return!==null&&(Fs(n,1),f_(n,1,0))}function jd(n){for(;n===th;)th=Za[--Wa],Za[Wa]=null,nh=Za[--Wa],Za[Wa]=null;for(;n===qs;)qs=qn[--Fn],qn[Fn]=null,Hr=qn[--Fn],qn[Fn]=null,Gr=qn[--Fn],qn[Fn]=null}var fn=null,yt=null,Ge=!1,Gs=null,mr=!1,qd=Error(r(519));function Hs(n){var i=Error(r(418,""));throw ql(zn(i,n)),qd}function d_(n){var i=n.stateNode,o=n.type,u=n.memoizedProps;switch(i[Nt]=n,i[Rt]=u,o){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(o=0;o<fu.length;o++)Me(fu[o],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Ds(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ka(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Cs(i,u.value,u.defaultValue,u.children),ka(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||CE(i.textContent,o)?(u.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),u.onScroll!=null&&Me("scroll",i),u.onScrollEnd!=null&&Me("scrollend",i),u.onClick!=null&&(i.onclick=Lh),i=!0):i=!1,i||Hs(n)}function m_(n){for(fn=n.return;fn;)switch(fn.tag){case 5:case 13:mr=!1;return;case 27:case 3:mr=!0;return;default:fn=fn.return}}function zl(n){if(n!==fn)return!1;if(!Ge)return m_(n),Ge=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||ig(n.type,n.memoizedProps)),o=!o),o&&yt&&Hs(n),m_(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){yt=er(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}yt=null}}else i===27?(i=yt,Ui(n.type)?(n=lg,lg=null,yt=n):yt=i):yt=fn?er(n.stateNode.nextSibling):null;return!0}function jl(){yt=fn=null,Ge=!1}function g_(){var n=Gs;return n!==null&&(vn===null?vn=n:vn.push.apply(vn,n),Gs=null),n}function ql(n){Gs===null?Gs=[n]:Gs.push(n)}var Fd=ne(null),Ks=null,Kr=null;function Si(n,i,o){ae(Fd,i._currentValue),i._currentValue=o}function Qr(n){n._currentValue=Fd.current,he(Fd)}function Gd(n,i,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===o)break;n=n.return}}function Hd(n,i,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;e:for(;g!==null;){var b=g;g=f;for(var I=0;I<i.length;I++)if(b.context===i[I]){g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),Gd(g.return,o,n),u||(E=null);break e}g=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Gd(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Fl(n,i,o,u){n=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var b=f.type;wn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Bt.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(_u):n=[_u])}f=f.return}n!==null&&Hd(i,n,o,u),i.flags|=262144}function rh(n){for(n=n.firstContext;n!==null;){if(!wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Qs(n){Ks=n,Kr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nn(n){return p_(Ks,n)}function ih(n,i){return Ks===null&&Qs(n),p_(n,i)}function p_(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Kr===null){if(n===null)throw Error(r(308));Kr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Kr=Kr.next=i;return o}var zw=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},jw=s.unstable_scheduleCallback,qw=s.unstable_NormalPriority,Pt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kd(){return{controller:new zw,data:new Map,refCount:0}}function Gl(n){n.refCount--,n.refCount===0&&jw(qw,function(){n.controller.abort()})}var Hl=null,Qd=0,eo=0,to=null;function Fw(n,i){if(Hl===null){var o=Hl=[];Qd=0,eo=$m(),to={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Qd++,i.then(y_,y_),i}function y_(){if(--Qd===0&&Hl!==null){to!==null&&(to.status="fulfilled");var n=Hl;Hl=null,eo=0,to=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function Gw(n,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var __=X.S;X.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Fw(n,i),__!==null&&__(n,i)};var Ys=ne(null);function Yd(){var n=Ys.current;return n!==null?n:rt.pooledCache}function sh(n,i){i===null?ae(Ys,Ys.current):ae(Ys,i.pool)}function v_(){var n=Yd();return n===null?null:{parent:Pt._currentValue,pool:n}}var Kl=Error(r(460)),E_=Error(r(474)),ah=Error(r(542)),$d={then:function(){}};function T_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function oh(){}function b_(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(oh,oh),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,S_(n),n;default:if(typeof i.status=="string")i.then(oh,oh);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,S_(n),n}throw Ql=i,Kl}}var Ql=null;function A_(){if(Ql===null)throw Error(r(459));var n=Ql;return Ql=null,n}function S_(n){if(n===Kl||n===ah)throw Error(r(483))}var wi=!1;function Xd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ri(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ii(n,i,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Qe&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=Wc(n),c_(n,null,o),i}return Zc(n,u,i,o),Wc(n)}function Yl(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,bl(n,o)}}function Zd(n,i){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=i:g=g.next=i}else f=g=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var Wd=!1;function $l(){if(Wd){var n=to;if(n!==null)throw n}}function Xl(n,i,o,u){Wd=!1;var f=n.updateQueue;wi=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var I=b,F=I.next;I.next=null,E===null?g=F:E.next=F,E=I;var J=n.alternate;J!==null&&(J=J.updateQueue,b=J.lastBaseUpdate,b!==E&&(b===null?J.firstBaseUpdate=F:b.next=F,J.lastBaseUpdate=I))}if(g!==null){var te=f.baseState;E=0,J=F=I=null,b=g;do{var G=b.lane&-536870913,K=G!==b.lane;if(K?(Ue&G)===G:(u&G)===G){G!==0&&G===eo&&(Wd=!0),J!==null&&(J=J.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var we=n,be=b;G=i;var et=o;switch(be.tag){case 1:if(we=be.payload,typeof we=="function"){te=we.call(et,te,G);break e}te=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,G=typeof we=="function"?we.call(et,te,G):we,G==null)break e;te=_({},te,G);break e;case 2:wi=!0}}G=b.callback,G!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[G]:K.push(G))}else K={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},J===null?(F=J=K,I=te):J=J.next=K,E|=G;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;K=b,b=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);J===null&&(I=te),f.baseState=I,f.firstBaseUpdate=F,f.lastBaseUpdate=J,g===null&&(f.shared.lanes=0),Pi|=E,n.lanes=E,n.memoizedState=te}}function w_(n,i){if(typeof n!="function")throw Error(r(191,n));n.call(i)}function R_(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)w_(o[n],i)}var no=ne(null),lh=ne(0);function I_(n,i){n=ei,ae(lh,n),ae(no,i),ei=n|i.baseLanes}function em(){ae(lh,ei),ae(no,no.current)}function tm(){ei=lh.current,he(no),he(lh)}var xi=0,De=null,Ze=null,xt=null,uh=!1,ro=!1,$s=!1,ch=0,Jl=0,io=null,Hw=0;function Tt(){throw Error(r(321))}function nm(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!wn(n[o],i[o]))return!1;return!0}function rm(n,i,o,u,f,g){return xi=g,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?cv:hv,$s=!1,g=o(u,f),$s=!1,ro&&(g=D_(i,o,u,f)),x_(n),g}function x_(n){X.H=ph;var i=Ze!==null&&Ze.next!==null;if(xi=0,xt=Ze=De=null,uh=!1,Jl=0,io=null,i)throw Error(r(300));n===null||jt||(n=n.dependencies,n!==null&&rh(n)&&(jt=!0))}function D_(n,i,o,u){De=n;var f=0;do{if(ro&&(io=null),Jl=0,ro=!1,25<=f)throw Error(r(301));if(f+=1,xt=Ze=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=Zw,g=i(o,u)}while(ro);return g}function Kw(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?Zl(i):i,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(De.flags|=1024),i}function im(){var n=ch!==0;return ch=0,n}function sm(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function am(n){if(uh){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}uh=!1}xi=0,xt=Ze=De=null,ro=!1,Jl=ch=0,io=null}function yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?De.memoizedState=xt=n:xt=xt.next=n,xt}function Dt(){if(Ze===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var i=xt===null?De.memoizedState:xt.next;if(i!==null)xt=i,Ze=n;else{if(n===null)throw De.alternate===null?Error(r(467)):Error(r(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},xt===null?De.memoizedState=xt=n:xt=xt.next=n}return xt}function om(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(n){var i=Jl;return Jl+=1,io===null&&(io=[]),n=b_(io,n,i),i=De,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?cv:hv),n}function hh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Zl(n);if(n.$$typeof===Z)return nn(n)}throw Error(r(438,String(n)))}function lm(n){var i=null,o=De.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=om(),De.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),u=0;u<n;u++)o[u]=P;return i.index++,o}function Yr(n,i){return typeof i=="function"?i(n):i}function fh(n){var i=Dt();return um(i,Ze,n)}function um(n,i,o){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=n.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}i.baseQueue=f=g,u.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{i=f.next;var b=E=null,I=null,F=i,J=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(Ue&te)===te:(xi&te)===te){var G=F.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===eo&&(J=!0);else if((xi&G)===G){F=F.next,G===eo&&(J=!0);continue}else te={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(b=I=te,E=g):I=I.next=te,De.lanes|=G,Pi|=G;te=F.action,$s&&o(g,te),g=F.hasEagerState?F.eagerState:o(g,te)}else G={lane:te,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(b=I=G,E=g):I=I.next=G,De.lanes|=te,Pi|=te;F=F.next}while(F!==null&&F!==i);if(I===null?E=g:I.next=b,!wn(g,n.memoizedState)&&(jt=!0,J&&(o=to,o!==null)))throw o;n.memoizedState=g,n.baseState=E,n.baseQueue=I,u.lastRenderedState=g}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function cm(n){var i=Dt(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,g=i.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=n(g,E.action),E=E.next;while(E!==f);wn(g,i.memoizedState)||(jt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,u]}function C_(n,i,o){var u=De,f=Dt(),g=Ge;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=i();var E=!wn((Ze||f).memoizedState,o);E&&(f.memoizedState=o,jt=!0),f=f.queue;var b=M_.bind(null,u,f,n);if(Wl(2048,8,b,[n]),f.getSnapshot!==i||E||xt!==null&&xt.memoizedState.tag&1){if(u.flags|=2048,so(9,dh(),N_.bind(null,u,f,o,i),null),rt===null)throw Error(r(349));g||(xi&124)!==0||V_(u,i,o)}return o}function V_(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=De.updateQueue,i===null?(i=om(),De.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function N_(n,i,o,u){i.value=o,i.getSnapshot=u,O_(i)&&P_(n)}function M_(n,i,o){return o(function(){O_(i)&&P_(n)})}function O_(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!wn(n,o)}catch{return!0}}function P_(n){var i=Xa(n,2);i!==null&&Vn(i,n,2)}function hm(n){var i=yn();if(typeof n=="function"){var o=n;if(n=o(),$s){An(!0);try{o()}finally{An(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:n},i}function L_(n,i,o,u){return n.baseState=o,um(n,Ze,typeof u=="function"?u:Yr)}function Qw(n,i,o,u,f){if(gh(n))throw Error(r(485));if(n=i.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};X.T!==null?o(!0):g.isTransition=!1,u(g),o=i.pending,o===null?(g.next=i.pending=g,k_(i,g)):(g.next=o.next,i.pending=o.next=g)}}function k_(n,i){var o=i.action,u=i.payload,f=n.state;if(i.isTransition){var g=X.T,E={};X.T=E;try{var b=o(f,u),I=X.S;I!==null&&I(E,b),B_(n,i,b)}catch(F){fm(n,i,F)}finally{X.T=g}}else try{g=o(f,u),B_(n,i,g)}catch(F){fm(n,i,F)}}function B_(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){U_(n,i,u)},function(u){return fm(n,i,u)}):U_(n,i,o)}function U_(n,i,o){i.status="fulfilled",i.value=o,z_(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,k_(n,o)))}function fm(n,i,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,z_(i),i=i.next;while(i!==u)}n.action=null}function z_(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function j_(n,i){return i}function q_(n,i){if(Ge){var o=rt.formState;if(o!==null){e:{var u=De;if(Ge){if(yt){t:{for(var f=yt,g=mr;f.nodeType!==8;){if(!g){f=null;break t}if(f=er(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){yt=er(f.nextSibling),u=f.data==="F!";break e}}Hs(u)}u=!1}u&&(i=o[0])}}return o=yn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:j_,lastRenderedState:i},o.queue=u,o=ov.bind(null,De,u),u.dispatch=o,u=hm(!1),g=ym.bind(null,De,!1,u.queue),u=yn(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,o=Qw.bind(null,De,f,g,o),f.dispatch=o,u.memoizedState=n,[i,o,!1]}function F_(n){var i=Dt();return G_(i,Ze,n)}function G_(n,i,o){if(i=um(n,i,j_)[0],n=fh(Yr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Zl(i)}catch(E){throw E===Kl?ah:E}else u=i;i=Dt();var f=i.queue,g=f.dispatch;return o!==i.memoizedState&&(De.flags|=2048,so(9,dh(),Yw.bind(null,f,o),null)),[u,g,n]}function Yw(n,i){n.action=i}function H_(n){var i=Dt(),o=Ze;if(o!==null)return G_(i,o,n);Dt(),i=i.memoizedState,o=Dt();var u=o.queue.dispatch;return o.memoizedState=n,[i,u,!1]}function so(n,i,o,u){return n={tag:n,create:o,deps:u,inst:i,next:null},i=De.updateQueue,i===null&&(i=om(),De.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,i.lastEffect=n),n}function dh(){return{destroy:void 0,resource:void 0}}function K_(){return Dt().memoizedState}function mh(n,i,o,u){var f=yn();u=u===void 0?null:u,De.flags|=n,f.memoizedState=so(1|i,dh(),o,u)}function Wl(n,i,o,u){var f=Dt();u=u===void 0?null:u;var g=f.memoizedState.inst;Ze!==null&&u!==null&&nm(u,Ze.memoizedState.deps)?f.memoizedState=so(i,g,o,u):(De.flags|=n,f.memoizedState=so(1|i,g,o,u))}function Q_(n,i){mh(8390656,8,n,i)}function Y_(n,i){Wl(2048,8,n,i)}function $_(n,i){return Wl(4,2,n,i)}function X_(n,i){return Wl(4,4,n,i)}function J_(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Z_(n,i,o){o=o!=null?o.concat([n]):null,Wl(4,4,J_.bind(null,i,n),o)}function dm(){}function W_(n,i){var o=Dt();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&nm(i,u[1])?u[0]:(o.memoizedState=[n,i],n)}function ev(n,i){var o=Dt();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&nm(i,u[1]))return u[0];if(u=n(),$s){An(!0);try{n()}finally{An(!1)}}return o.memoizedState=[u,i],u}function mm(n,i,o){return o===void 0||(xi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=rE(),De.lanes|=n,Pi|=n,o)}function tv(n,i,o,u){return wn(o,i)?o:no.current!==null?(n=mm(n,o,u),wn(n,i)||(jt=!0),n):(xi&42)===0?(jt=!0,n.memoizedState=o):(n=rE(),De.lanes|=n,Pi|=n,i)}function nv(n,i,o,u,f){var g=ue.p;ue.p=g!==0&&8>g?g:8;var E=X.T,b={};X.T=b,ym(n,!1,i,o);try{var I=f(),F=X.S;if(F!==null&&F(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var J=Gw(I,u);eu(n,i,J,Cn(n))}else eu(n,i,u,Cn(n))}catch(te){eu(n,i,{then:function(){},status:"rejected",reason:te},Cn())}finally{ue.p=g,X.T=E}}function $w(){}function gm(n,i,o,u){if(n.tag!==5)throw Error(r(476));var f=rv(n).queue;nv(n,f,i,ve,o===null?$w:function(){return iv(n),o(u)})}function rv(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:ve},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function iv(n){var i=rv(n).next.queue;eu(n,i,{},Cn())}function pm(){return nn(_u)}function sv(){return Dt().memoizedState}function av(){return Dt().memoizedState}function Xw(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=Cn();n=Ri(o);var u=Ii(i,n,o);u!==null&&(Vn(u,i,o),Yl(u,i,o)),i={cache:Kd()},n.payload=i;return}i=i.return}}function Jw(n,i,o){var u=Cn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},gh(n)?lv(i,o):(o=Ld(n,i,o,u),o!==null&&(Vn(o,n,u),uv(o,i,u)))}function ov(n,i,o){var u=Cn();eu(n,i,o,u)}function eu(n,i,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(gh(n))lv(i,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,b=g(E,o);if(f.hasEagerState=!0,f.eagerState=b,wn(b,E))return Zc(n,i,f,0),rt===null&&Jc(),!1}catch{}finally{}if(o=Ld(n,i,f,u),o!==null)return Vn(o,n,u),uv(o,i,u),!0}return!1}function ym(n,i,o,u){if(u={lane:2,revertLane:$m(),action:u,hasEagerState:!1,eagerState:null,next:null},gh(n)){if(i)throw Error(r(479))}else i=Ld(n,o,u,2),i!==null&&Vn(i,n,2)}function gh(n){var i=n.alternate;return n===De||i!==null&&i===De}function lv(n,i){ro=uh=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function uv(n,i,o){if((o&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,bl(n,o)}}var ph={readContext:nn,use:hh,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},cv={readContext:nn,use:hh,useCallback:function(n,i){return yn().memoizedState=[n,i===void 0?null:i],n},useContext:nn,useEffect:Q_,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,mh(4194308,4,J_.bind(null,i,n),o)},useLayoutEffect:function(n,i){return mh(4194308,4,n,i)},useInsertionEffect:function(n,i){mh(4,2,n,i)},useMemo:function(n,i){var o=yn();i=i===void 0?null:i;var u=n();if($s){An(!0);try{n()}finally{An(!1)}}return o.memoizedState=[u,i],u},useReducer:function(n,i,o){var u=yn();if(o!==void 0){var f=o(i);if($s){An(!0);try{o(i)}finally{An(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=Jw.bind(null,De,n),[u.memoizedState,n]},useRef:function(n){var i=yn();return n={current:n},i.memoizedState=n},useState:function(n){n=hm(n);var i=n.queue,o=ov.bind(null,De,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:dm,useDeferredValue:function(n,i){var o=yn();return mm(o,n,i)},useTransition:function(){var n=hm(!1);return n=nv.bind(null,De,n.queue,!0,!1),yn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var u=De,f=yn();if(Ge){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),rt===null)throw Error(r(349));(Ue&124)!==0||V_(u,i,o)}f.memoizedState=o;var g={value:o,getSnapshot:i};return f.queue=g,Q_(M_.bind(null,u,g,n),[n]),u.flags|=2048,so(9,dh(),N_.bind(null,u,g,o,i),null),o},useId:function(){var n=yn(),i=rt.identifierPrefix;if(Ge){var o=Hr,u=Gr;o=(u&~(1<<32-tn(u)-1)).toString(32)+o,i=""+i+"R"+o,o=ch++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=Hw++,i=""+i+"r"+o.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:pm,useFormState:q_,useActionState:q_,useOptimistic:function(n){var i=yn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=ym.bind(null,De,!0,o),o.dispatch=i,[n,i]},useMemoCache:lm,useCacheRefresh:function(){return yn().memoizedState=Xw.bind(null,De)}},hv={readContext:nn,use:hh,useCallback:W_,useContext:nn,useEffect:Y_,useImperativeHandle:Z_,useInsertionEffect:$_,useLayoutEffect:X_,useMemo:ev,useReducer:fh,useRef:K_,useState:function(){return fh(Yr)},useDebugValue:dm,useDeferredValue:function(n,i){var o=Dt();return tv(o,Ze.memoizedState,n,i)},useTransition:function(){var n=fh(Yr)[0],i=Dt().memoizedState;return[typeof n=="boolean"?n:Zl(n),i]},useSyncExternalStore:C_,useId:sv,useHostTransitionStatus:pm,useFormState:F_,useActionState:F_,useOptimistic:function(n,i){var o=Dt();return L_(o,Ze,n,i)},useMemoCache:lm,useCacheRefresh:av},Zw={readContext:nn,use:hh,useCallback:W_,useContext:nn,useEffect:Y_,useImperativeHandle:Z_,useInsertionEffect:$_,useLayoutEffect:X_,useMemo:ev,useReducer:cm,useRef:K_,useState:function(){return cm(Yr)},useDebugValue:dm,useDeferredValue:function(n,i){var o=Dt();return Ze===null?mm(o,n,i):tv(o,Ze.memoizedState,n,i)},useTransition:function(){var n=cm(Yr)[0],i=Dt().memoizedState;return[typeof n=="boolean"?n:Zl(n),i]},useSyncExternalStore:C_,useId:sv,useHostTransitionStatus:pm,useFormState:H_,useActionState:H_,useOptimistic:function(n,i){var o=Dt();return Ze!==null?L_(o,Ze,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:lm,useCacheRefresh:av},ao=null,tu=0;function yh(n){var i=tu;return tu+=1,ao===null&&(ao=[]),b_(ao,n,i)}function nu(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function _h(n,i){throw i.$$typeof===T?Error(r(525)):(n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function fv(n){var i=n._init;return i(n._payload)}function dv(n){function i(k,O){if(n){var q=k.deletions;q===null?(k.deletions=[O],k.flags|=16):q.push(O)}}function o(k,O){if(!n)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function u(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function f(k,O){return k=Fr(k,O),k.index=0,k.sibling=null,k}function g(k,O,q){return k.index=q,n?(q=k.alternate,q!==null?(q=q.index,q<O?(k.flags|=67108866,O):q):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function E(k){return n&&k.alternate===null&&(k.flags|=67108866),k}function b(k,O,q,W){return O===null||O.tag!==6?(O=Bd(q,k.mode,W),O.return=k,O):(O=f(O,q),O.return=k,O)}function I(k,O,q,W){var ge=q.type;return ge===M?J(k,O,q.props.children,W,q.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&fv(ge)===O.type)?(O=f(O,q.props),nu(O,q),O.return=k,O):(O=eh(q.type,q.key,q.props,null,k.mode,W),nu(O,q),O.return=k,O)}function F(k,O,q,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=Ud(q,k.mode,W),O.return=k,O):(O=f(O,q.children||[]),O.return=k,O)}function J(k,O,q,W,ge){return O===null||O.tag!==7?(O=js(q,k.mode,W,ge),O.return=k,O):(O=f(O,q),O.return=k,O)}function te(k,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Bd(""+O,k.mode,q),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return q=eh(O.type,O.key,O.props,null,k.mode,q),nu(q,O),q.return=k,q;case D:return O=Ud(O,k.mode,q),O.return=k,O;case w:var W=O._init;return O=W(O._payload),te(k,O,q)}if(gt(O)||B(O))return O=js(O,k.mode,q,null),O.return=k,O;if(typeof O.then=="function")return te(k,yh(O),q);if(O.$$typeof===Z)return te(k,ih(k,O),q);_h(k,O)}return null}function G(k,O,q,W){var ge=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:b(k,O,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===ge?I(k,O,q,W):null;case D:return q.key===ge?F(k,O,q,W):null;case w:return ge=q._init,q=ge(q._payload),G(k,O,q,W)}if(gt(q)||B(q))return ge!==null?null:J(k,O,q,W,null);if(typeof q.then=="function")return G(k,O,yh(q),W);if(q.$$typeof===Z)return G(k,O,ih(k,q),W);_h(k,q)}return null}function K(k,O,q,W,ge){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(q)||null,b(O,k,""+W,ge);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return k=k.get(W.key===null?q:W.key)||null,I(O,k,W,ge);case D:return k=k.get(W.key===null?q:W.key)||null,F(O,k,W,ge);case w:var Ve=W._init;return W=Ve(W._payload),K(k,O,q,W,ge)}if(gt(W)||B(W))return k=k.get(q)||null,J(O,k,W,ge,null);if(typeof W.then=="function")return K(k,O,q,yh(W),ge);if(W.$$typeof===Z)return K(k,O,q,ih(O,W),ge);_h(O,W)}return null}function we(k,O,q,W){for(var ge=null,Ve=null,_e=O,Ae=O=0,Ft=null;_e!==null&&Ae<q.length;Ae++){_e.index>Ae?(Ft=_e,_e=null):Ft=_e.sibling;var je=G(k,_e,q[Ae],W);if(je===null){_e===null&&(_e=Ft);break}n&&_e&&je.alternate===null&&i(k,_e),O=g(je,O,Ae),Ve===null?ge=je:Ve.sibling=je,Ve=je,_e=Ft}if(Ae===q.length)return o(k,_e),Ge&&Fs(k,Ae),ge;if(_e===null){for(;Ae<q.length;Ae++)_e=te(k,q[Ae],W),_e!==null&&(O=g(_e,O,Ae),Ve===null?ge=_e:Ve.sibling=_e,Ve=_e);return Ge&&Fs(k,Ae),ge}for(_e=u(_e);Ae<q.length;Ae++)Ft=K(_e,k,Ae,q[Ae],W),Ft!==null&&(n&&Ft.alternate!==null&&_e.delete(Ft.key===null?Ae:Ft.key),O=g(Ft,O,Ae),Ve===null?ge=Ft:Ve.sibling=Ft,Ve=Ft);return n&&_e.forEach(function(Gi){return i(k,Gi)}),Ge&&Fs(k,Ae),ge}function be(k,O,q,W){if(q==null)throw Error(r(151));for(var ge=null,Ve=null,_e=O,Ae=O=0,Ft=null,je=q.next();_e!==null&&!je.done;Ae++,je=q.next()){_e.index>Ae?(Ft=_e,_e=null):Ft=_e.sibling;var Gi=G(k,_e,je.value,W);if(Gi===null){_e===null&&(_e=Ft);break}n&&_e&&Gi.alternate===null&&i(k,_e),O=g(Gi,O,Ae),Ve===null?ge=Gi:Ve.sibling=Gi,Ve=Gi,_e=Ft}if(je.done)return o(k,_e),Ge&&Fs(k,Ae),ge;if(_e===null){for(;!je.done;Ae++,je=q.next())je=te(k,je.value,W),je!==null&&(O=g(je,O,Ae),Ve===null?ge=je:Ve.sibling=je,Ve=je);return Ge&&Fs(k,Ae),ge}for(_e=u(_e);!je.done;Ae++,je=q.next())je=K(_e,k,Ae,je.value,W),je!==null&&(n&&je.alternate!==null&&_e.delete(je.key===null?Ae:je.key),O=g(je,O,Ae),Ve===null?ge=je:Ve.sibling=je,Ve=je);return n&&_e.forEach(function(WR){return i(k,WR)}),Ge&&Fs(k,Ae),ge}function et(k,O,q,W){if(typeof q=="object"&&q!==null&&q.type===M&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:e:{for(var ge=q.key;O!==null;){if(O.key===ge){if(ge=q.type,ge===M){if(O.tag===7){o(k,O.sibling),W=f(O,q.props.children),W.return=k,k=W;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&fv(ge)===O.type){o(k,O.sibling),W=f(O,q.props),nu(W,q),W.return=k,k=W;break e}o(k,O);break}else i(k,O);O=O.sibling}q.type===M?(W=js(q.props.children,k.mode,W,q.key),W.return=k,k=W):(W=eh(q.type,q.key,q.props,null,k.mode,W),nu(W,q),W.return=k,k=W)}return E(k);case D:e:{for(ge=q.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){o(k,O.sibling),W=f(O,q.children||[]),W.return=k,k=W;break e}else{o(k,O);break}else i(k,O);O=O.sibling}W=Ud(q,k.mode,W),W.return=k,k=W}return E(k);case w:return ge=q._init,q=ge(q._payload),et(k,O,q,W)}if(gt(q))return we(k,O,q,W);if(B(q)){if(ge=B(q),typeof ge!="function")throw Error(r(150));return q=ge.call(q),be(k,O,q,W)}if(typeof q.then=="function")return et(k,O,yh(q),W);if(q.$$typeof===Z)return et(k,O,ih(k,q),W);_h(k,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,O!==null&&O.tag===6?(o(k,O.sibling),W=f(O,q),W.return=k,k=W):(o(k,O),W=Bd(q,k.mode,W),W.return=k,k=W),E(k)):o(k,O)}return function(k,O,q,W){try{tu=0;var ge=et(k,O,q,W);return ao=null,ge}catch(_e){if(_e===Kl||_e===ah)throw _e;var Ve=Rn(29,_e,null,k.mode);return Ve.lanes=W,Ve.return=k,Ve}finally{}}}var oo=dv(!0),mv=dv(!1),Gn=ne(null),gr=null;function Di(n){var i=n.alternate;ae(Lt,Lt.current&1),ae(Gn,n),gr===null&&(i===null||no.current!==null||i.memoizedState!==null)&&(gr=n)}function gv(n){if(n.tag===22){if(ae(Lt,Lt.current),ae(Gn,n),gr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(gr=n)}}else Ci()}function Ci(){ae(Lt,Lt.current),ae(Gn,Gn.current)}function $r(n){he(Gn),gr===n&&(gr=null),he(Lt)}var Lt=ne(0);function vh(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||og(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function _m(n,i,o,u){i=n.memoizedState,o=o(u,i),o=o==null?i:_({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var vm={enqueueSetState:function(n,i,o){n=n._reactInternals;var u=Cn(),f=Ri(u);f.payload=i,o!=null&&(f.callback=o),i=Ii(n,f,u),i!==null&&(Vn(i,n,u),Yl(i,n,u))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var u=Cn(),f=Ri(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=Ii(n,f,u),i!==null&&(Vn(i,n,u),Yl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Cn(),u=Ri(o);u.tag=2,i!=null&&(u.callback=i),i=Ii(n,u,o),i!==null&&(Vn(i,n,o),Yl(i,n,o))}};function pv(n,i,o,u,f,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,E):i.prototype&&i.prototype.isPureReactComponent?!Bl(o,u)||!Bl(f,g):!0}function yv(n,i,o,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==n&&vm.enqueueReplaceState(i,i.state,null)}function Xs(n,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(n=n.defaultProps){o===i&&(o=_({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var Eh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function _v(n){Eh(n)}function vv(n){console.error(n)}function Ev(n){Eh(n)}function Th(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Tv(n,i,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Em(n,i,o){return o=Ri(o),o.tag=3,o.payload={element:null},o.callback=function(){Th(n,i)},o}function bv(n){return n=Ri(n),n.tag=3,n}function Av(n,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;n.payload=function(){return f(g)},n.callback=function(){Tv(i,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Tv(i,o,u),typeof f!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function Ww(n,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Fl(i,o,f,!0),o=Gn.current,o!==null){switch(o.tag){case 13:return gr===null?Gm():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===$d?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),Km(n,u,f)),!1;case 22:return o.flags|=65536,u===$d?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),Km(n,u,f)),!1}throw Error(r(435,o.tag))}return Km(n,u,f),Gm(),!1}if(Ge)return i=Gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==qd&&(n=Error(r(422),{cause:u}),ql(zn(n,o)))):(u!==qd&&(i=Error(r(423),{cause:u}),ql(zn(i,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=zn(u,o),f=Em(n.stateNode,u,f),Zd(n,f),_t!==4&&(_t=2)),!1;var g=Error(r(520),{cause:u});if(g=zn(g,o),uu===null?uu=[g]:uu.push(g),_t!==4&&(_t=2),i===null)return!0;u=zn(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Em(o.stateNode,u,n),Zd(o,n),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Li===null||!Li.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=bv(f),Av(f,n,o,u),Zd(o,f),!1}o=o.return}while(o!==null);return!1}var Sv=Error(r(461)),jt=!1;function $t(n,i,o,u){i.child=n===null?mv(i,null,o,u):oo(i,n.child,o,u)}function wv(n,i,o,u,f){o=o.render;var g=i.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return Qs(i),u=rm(n,i,o,E,g,f),b=im(),n!==null&&!jt?(sm(n,i,f),Xr(n,i,f)):(Ge&&b&&zd(i),i.flags|=1,$t(n,i,u,f),i.child)}function Rv(n,i,o,u,f){if(n===null){var g=o.type;return typeof g=="function"&&!kd(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,Iv(n,i,g,u,f)):(n=eh(o.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,!xm(n,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Bl,o(E,u)&&n.ref===i.ref)return Xr(n,i,f)}return i.flags|=1,n=Fr(g,u),n.ref=i.ref,n.return=i,i.child=n}function Iv(n,i,o,u,f){if(n!==null){var g=n.memoizedProps;if(Bl(g,u)&&n.ref===i.ref)if(jt=!1,i.pendingProps=u=g,xm(n,f))(n.flags&131072)!==0&&(jt=!0);else return i.lanes=n.lanes,Xr(n,i,f)}return Tm(n,i,o,u,f)}function xv(n,i,o){var u=i.pendingProps,f=u.children,g=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,n!==null){for(f=i.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~u}else i.childLanes=0,i.child=null;return Dv(n,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&sh(i,g!==null?g.cachePool:null),g!==null?I_(i,g):em(),gv(i);else return i.lanes=i.childLanes=536870912,Dv(n,i,g!==null?g.baseLanes|o:o,o)}else g!==null?(sh(i,g.cachePool),I_(i,g),Ci(),i.memoizedState=null):(n!==null&&sh(i,null),em(),Ci());return $t(n,i,f,o),i.child}function Dv(n,i,o,u){var f=Yd();return f=f===null?null:{parent:Pt._currentValue,pool:f},i.memoizedState={baseLanes:o,cachePool:f},n!==null&&sh(i,null),em(),gv(i),n!==null&&Fl(n,i,u,!0),null}function bh(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function Tm(n,i,o,u,f){return Qs(i),o=rm(n,i,o,u,void 0,f),u=im(),n!==null&&!jt?(sm(n,i,f),Xr(n,i,f)):(Ge&&u&&zd(i),i.flags|=1,$t(n,i,o,f),i.child)}function Cv(n,i,o,u,f,g){return Qs(i),i.updateQueue=null,o=D_(i,u,o,f),x_(n),u=im(),n!==null&&!jt?(sm(n,i,g),Xr(n,i,g)):(Ge&&u&&zd(i),i.flags|=1,$t(n,i,o,g),i.child)}function Vv(n,i,o,u,f){if(Qs(i),i.stateNode===null){var g=Ja,E=o.contextType;typeof E=="object"&&E!==null&&(g=nn(E)),g=new o(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=vm,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},Xd(i),E=o.contextType,g.context=typeof E=="object"&&E!==null?nn(E):Ja,g.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(_m(i,o,E,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&vm.enqueueReplaceState(g,g.state,null),Xl(i,u,g,f),$l(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){g=i.stateNode;var b=i.memoizedProps,I=Xs(o,b);g.props=I;var F=g.context,J=o.contextType;E=Ja,typeof J=="object"&&J!==null&&(E=nn(J));var te=o.getDerivedStateFromProps;J=typeof te=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||F!==E)&&yv(i,g,u,E),wi=!1;var G=i.memoizedState;g.state=G,Xl(i,u,g,f),$l(),F=i.memoizedState,b||G!==F||wi?(typeof te=="function"&&(_m(i,o,te,u),F=i.memoizedState),(I=wi||pv(i,o,I,u,G,F,E))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=F),g.props=u,g.state=F,g.context=E,u=I):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,Jd(n,i),E=i.memoizedProps,J=Xs(o,E),g.props=J,te=i.pendingProps,G=g.context,F=o.contextType,I=Ja,typeof F=="object"&&F!==null&&(I=nn(F)),b=o.getDerivedStateFromProps,(F=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==te||G!==I)&&yv(i,g,u,I),wi=!1,G=i.memoizedState,g.state=G,Xl(i,u,g,f),$l();var K=i.memoizedState;E!==te||G!==K||wi||n!==null&&n.dependencies!==null&&rh(n.dependencies)?(typeof b=="function"&&(_m(i,o,b,u),K=i.memoizedState),(J=wi||pv(i,o,J,u,G,K,I)||n!==null&&n.dependencies!==null&&rh(n.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,K,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,K,I)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=K),g.props=u,g.state=K,g.context=I,u=J):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),u=!1)}return g=u,bh(n,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,n!==null&&u?(i.child=oo(i,n.child,null,f),i.child=oo(i,null,o,f)):$t(n,i,o,f),i.memoizedState=g.state,n=i.child):n=Xr(n,i,f),n}function Nv(n,i,o,u){return jl(),i.flags|=256,$t(n,i,o,u),i.child}var bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Am(n){return{baseLanes:n,cachePool:v_()}}function Sm(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Hn),n}function Mv(n,i,o){var u=i.pendingProps,f=!1,g=(i.flags&128)!==0,E;if((E=g)||(E=n!==null&&n.memoizedState===null?!1:(Lt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ge){if(f?Di(i):Ci(),Ge){var b=yt,I;if(I=b){e:{for(I=b,b=mr;I.nodeType!==8;){if(!b){b=null;break e}if(I=er(I.nextSibling),I===null){b=null;break e}}b=I}b!==null?(i.memoizedState={dehydrated:b,treeContext:qs!==null?{id:Gr,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},I=Rn(18,null,null,0),I.stateNode=b,I.return=i,i.child=I,fn=i,yt=null,I=!0):I=!1}I||Hs(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return og(b)?i.lanes=32:i.lanes=536870912,null;$r(i)}return b=u.children,u=u.fallback,f?(Ci(),f=i.mode,b=Ah({mode:"hidden",children:b},f),u=js(u,f,o,null),b.return=i,u.return=i,b.sibling=u,i.child=b,f=i.child,f.memoizedState=Am(o),f.childLanes=Sm(n,E,o),i.memoizedState=bm,u):(Di(i),wm(i,b))}if(I=n.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(g)i.flags&256?(Di(i),i.flags&=-257,i=Rm(n,i,o)):i.memoizedState!==null?(Ci(),i.child=n.child,i.flags|=128,i=null):(Ci(),f=u.fallback,b=i.mode,u=Ah({mode:"visible",children:u.children},b),f=js(f,b,o,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,oo(i,n.child,null,o),u=i.child,u.memoizedState=Am(o),u.childLanes=Sm(n,E,o),i.memoizedState=bm,i=f);else if(Di(i),og(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var F=E.dgst;E=F,u=Error(r(419)),u.stack="",u.digest=E,ql({value:u,source:null,stack:null}),i=Rm(n,i,o)}else if(jt||Fl(n,i,o,!1),E=(o&n.childLanes)!==0,jt||E){if(E=rt,E!==null&&(u=o&-o,u=(u&42)!==0?1:yi(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==I.retryLane))throw I.retryLane=u,Xa(n,u),Vn(E,n,u),Sv;b.data==="$?"||Gm(),i=Rm(n,i,o)}else b.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=I.treeContext,yt=er(b.nextSibling),fn=i,Ge=!0,Gs=null,mr=!1,n!==null&&(qn[Fn++]=Gr,qn[Fn++]=Hr,qn[Fn++]=qs,Gr=n.id,Hr=n.overflow,qs=i),i=wm(i,u.children),i.flags|=4096);return i}return f?(Ci(),f=u.fallback,b=i.mode,I=n.child,F=I.sibling,u=Fr(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,F!==null?f=Fr(F,f):(f=js(f,b,o,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,b=n.child.memoizedState,b===null?b=Am(o):(I=b.cachePool,I!==null?(F=Pt._currentValue,I=I.parent!==F?{parent:F,pool:F}:I):I=v_(),b={baseLanes:b.baseLanes|o,cachePool:I}),f.memoizedState=b,f.childLanes=Sm(n,E,o),i.memoizedState=bm,u):(Di(i),o=n.child,n=o.sibling,o=Fr(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=o,i.memoizedState=null,o)}function wm(n,i){return i=Ah({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Ah(n,i){return n=Rn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Rm(n,i,o){return oo(i,n.child,null,o),n=wm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Ov(n,i,o){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),Gd(n.return,i,o)}function Im(n,i,o,u,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function Pv(n,i,o){var u=i.pendingProps,f=u.revealOrder,g=u.tail;if($t(n,i,u.children,o),u=Lt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ov(n,o,i);else if(n.tag===19)Ov(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(ae(Lt,u),f){case"forwards":for(o=i.child,f=null;o!==null;)n=o.alternate,n!==null&&vh(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),Im(i,!1,f,o,g);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&vh(n)===null){i.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Im(i,!0,o,null,g);break;case"together":Im(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Xr(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),Pi|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(Fl(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,o=Fr(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=Fr(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function xm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&rh(n)))}function eR(n,i,o){switch(i.tag){case 3:nt(i,i.stateNode.containerInfo),Si(i,Pt,n.memoizedState.cache),jl();break;case 27:case 5:pi(i);break;case 4:nt(i,i.stateNode.containerInfo);break;case 10:Si(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Di(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Mv(n,i,o):(Di(i),n=Xr(n,i,o),n!==null?n.sibling:null);Di(i);break;case 19:var f=(n.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Fl(n,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return Pv(n,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(Lt,Lt.current),u)break;return null;case 22:case 23:return i.lanes=0,xv(n,i,o);case 24:Si(i,Pt,n.memoizedState.cache)}return Xr(n,i,o)}function Lv(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)jt=!0;else{if(!xm(n,o)&&(i.flags&128)===0)return jt=!1,eR(n,i,o);jt=(n.flags&131072)!==0}else jt=!1,Ge&&(i.flags&1048576)!==0&&f_(i,nh,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")kd(u)?(n=Xs(u,n),i.tag=1,i=Vv(null,i,u,n,o)):(i.tag=0,i=Tm(null,i,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===me){i.tag=11,i=wv(null,i,u,n,o);break e}else if(f===V){i.tag=14,i=Rv(null,i,u,n,o);break e}}throw i=Kt(u)||u,Error(r(306,i,""))}}return i;case 0:return Tm(n,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=Xs(u,i.pendingProps),Vv(n,i,u,f,o);case 3:e:{if(nt(i,i.stateNode.containerInfo),n===null)throw Error(r(387));u=i.pendingProps;var g=i.memoizedState;f=g.element,Jd(n,i),Xl(i,u,null,o);var E=i.memoizedState;if(u=E.cache,Si(i,Pt,u),u!==g.cache&&Hd(i,[Pt],o,!0),$l(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=Nv(n,i,u,o);break e}else if(u!==f){f=zn(Error(r(424)),i),ql(f),i=Nv(n,i,u,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(yt=er(n.firstChild),fn=i,Ge=!0,Gs=null,mr=!0,o=mv(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(jl(),u===f){i=Xr(n,i,o);break e}$t(n,i,u,o)}i=i.child}return i;case 26:return bh(n,i),n===null?(o=zE(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ge||(o=i.type,n=i.pendingProps,u=kh(Re.current).createElement(o),u[Nt]=i,u[Rt]=n,Jt(u,o,n),Et(u),i.stateNode=u):i.memoizedState=zE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return pi(i),n===null&&Ge&&(u=i.stateNode=kE(i.type,i.pendingProps,Re.current),fn=i,mr=!0,f=yt,Ui(i.type)?(lg=f,yt=er(u.firstChild)):yt=f),$t(n,i,i.pendingProps.children,o),bh(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ge&&((f=u=yt)&&(u=xR(u,i.type,i.pendingProps,mr),u!==null?(i.stateNode=u,fn=i,yt=er(u.firstChild),mr=!1,f=!0):f=!1),f||Hs(i)),pi(i),f=i.type,g=i.pendingProps,E=n!==null?n.memoizedProps:null,u=g.children,ig(f,g)?u=null:E!==null&&ig(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=rm(n,i,Kw,null,null,o),_u._currentValue=f),bh(n,i),$t(n,i,u,o),i.child;case 6:return n===null&&Ge&&((n=o=yt)&&(o=DR(o,i.pendingProps,mr),o!==null?(i.stateNode=o,fn=i,yt=null,n=!0):n=!1),n||Hs(i)),null;case 13:return Mv(n,i,o);case 4:return nt(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=oo(i,null,u,o):$t(n,i,u,o),i.child;case 11:return wv(n,i,i.type,i.pendingProps,o);case 7:return $t(n,i,i.pendingProps,o),i.child;case 8:return $t(n,i,i.pendingProps.children,o),i.child;case 12:return $t(n,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Si(i,i.type,u.value),$t(n,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Qs(i),f=nn(f),u=u(f),i.flags|=1,$t(n,i,u,o),i.child;case 14:return Rv(n,i,i.type,i.pendingProps,o);case 15:return Iv(n,i,i.type,i.pendingProps,o);case 19:return Pv(n,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},n===null?(o=Ah(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Fr(n.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return xv(n,i,o);case 24:return Qs(i),u=nn(Pt),n===null?(f=Yd(),f===null&&(f=rt,g=Kd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),i.memoizedState={parent:u,cache:f},Xd(i),Si(i,Pt,f)):((n.lanes&o)!==0&&(Jd(n,i),Xl(i,null,null,o),$l()),f=n.memoizedState,g=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Si(i,Pt,u)):(u=g.cache,Si(i,Pt,u),u!==f.cache&&Hd(i,[Pt],o,!0))),$t(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Jr(n){n.flags|=4}function kv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!HE(i)){if(i=Gn.current,i!==null&&((Ue&4194048)===Ue?gr!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==gr))throw Ql=$d,E_;n.flags|=8192}}function Sh(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?El():536870912,n.lanes|=i,ho|=i)}function ru(n,i){if(!Ge)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ft(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(i)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,i}function tR(n,i,o){var u=i.pendingProps;switch(jd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(i),null;case 1:return ft(i),null;case 3:return o=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Qr(Pt),nr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(zl(i)?Jr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,g_())),ft(i),null;case 26:return o=i.memoizedState,n===null?(Jr(i),o!==null?(ft(i),kv(i,o)):(ft(i),i.flags&=-16777217)):o?o!==n.memoizedState?(Jr(i),ft(i),kv(i,o)):(ft(i),i.flags&=-16777217):(n.memoizedProps!==u&&Jr(i),ft(i),i.flags&=-16777217),null;case 27:Cr(i),o=Re.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Jr(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return ft(i),null}n=Te.current,zl(i)?d_(i):(n=kE(f,u,o),i.stateNode=n,Jr(i))}return ft(i),null;case 5:if(Cr(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Jr(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return ft(i),null}if(n=Te.current,zl(i))d_(i);else{switch(f=kh(Re.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[Nt]=i,n[Rt]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Jt(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Jr(i)}}return ft(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&Jr(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(n=Re.current,zl(i)){if(n=i.stateNode,o=i.memoizedProps,u=null,f=fn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Nt]=i,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||CE(n.nodeValue,o)),n||Hs(i)}else n=kh(n).createTextNode(u),n[Nt]=i,i.stateNode=n}return ft(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=zl(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Nt]=i}else jl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),f=!1}else f=g_(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?($r(i),i):($r(i),null)}if($r(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),Sh(i,i.updateQueue),ft(i),null;case 4:return nr(),n===null&&Wm(i.stateNode.containerInfo),ft(i),null;case 10:return Qr(i.type),ft(i),null;case 19:if(he(Lt),f=i.memoizedState,f===null)return ft(i),null;if(u=(i.flags&128)!==0,g=f.rendering,g===null)if(u)ru(f,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(g=vh(n),g!==null){for(i.flags|=128,ru(f,!1),n=g.updateQueue,i.updateQueue=n,Sh(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)h_(o,n),o=o.sibling;return ae(Lt,Lt.current&1|2),i.child}n=n.sibling}f.tail!==null&&On()>Ih&&(i.flags|=128,u=!0,ru(f,!1),i.lanes=4194304)}else{if(!u)if(n=vh(g),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Sh(i,n),ru(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ge)return ft(i),null}else 2*On()-f.renderingStartTime>Ih&&o!==536870912&&(i.flags|=128,u=!0,ru(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(n=f.last,n!==null?n.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=On(),i.sibling=null,n=Lt.current,ae(Lt,u?n&1|2:n&1),i):(ft(i),null);case 22:case 23:return $r(i),tm(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(ft(i),i.subtreeFlags&6&&(i.flags|=8192)):ft(i),o=i.updateQueue,o!==null&&Sh(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),n!==null&&he(Ys),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Qr(Pt),ft(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function nR(n,i){switch(jd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Qr(Pt),nr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Cr(i),null;case 13:if($r(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));jl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return he(Lt),null;case 4:return nr(),null;case 10:return Qr(i.type),null;case 22:case 23:return $r(i),tm(),n!==null&&he(Ys),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Qr(Pt),null;case 25:return null;default:return null}}function Bv(n,i){switch(jd(i),i.tag){case 3:Qr(Pt),nr();break;case 26:case 27:case 5:Cr(i);break;case 4:nr();break;case 13:$r(i);break;case 19:he(Lt);break;case 10:Qr(i.type);break;case 22:case 23:$r(i),tm(),n!==null&&he(Ys);break;case 24:Qr(Pt)}}function iu(n,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(b){tt(i,i.return,b)}}function Vi(n,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&n)===n){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=i;var I=o,F=b;try{F()}catch(J){tt(f,I,J)}}}u=u.next}while(u!==g)}}catch(J){tt(i,i.return,J)}}function Uv(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{R_(i,o)}catch(u){tt(n,n.return,u)}}}function zv(n,i,o){o.props=Xs(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){tt(n,i,u)}}function su(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){tt(n,i,f)}}function pr(n,i){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){tt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(n,i,f)}else o.current=null}function jv(n){var i=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){tt(n,n.return,f)}}function Dm(n,i,o){try{var u=n.stateNode;AR(u,n.type,o,i),u[Rt]=i}catch(f){tt(n,n.return,f)}}function qv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ui(n.type)||n.tag===4}function Cm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||qv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ui(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Vm(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Lh));else if(u!==4&&(u===27&&Ui(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(Vm(n,i,o),n=n.sibling;n!==null;)Vm(n,i,o),n=n.sibling}function wh(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(u!==4&&(u===27&&Ui(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(wh(n,i,o),n=n.sibling;n!==null;)wh(n,i,o),n=n.sibling}function Fv(n){var i=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Jt(i,u,o),i[Nt]=n,i[Rt]=o}catch(g){tt(n,n.return,g)}}var Zr=!1,bt=!1,Nm=!1,Gv=typeof WeakSet=="function"?WeakSet:Set,qt=null;function rR(n,i){if(n=n.containerInfo,ng=Fh,n=t_(n),Cd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,b=-1,I=-1,F=0,J=0,te=n,G=null;t:for(;;){for(var K;te!==o||f!==0&&te.nodeType!==3||(b=E+f),te!==g||u!==0&&te.nodeType!==3||(I=E+u),te.nodeType===3&&(E+=te.nodeValue.length),(K=te.firstChild)!==null;)G=te,te=K;for(;;){if(te===n)break t;if(G===o&&++F===f&&(b=E),G===g&&++J===u&&(I=E),(K=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=K}o=b===-1||I===-1?null:{start:b,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(rg={focusedElem:n,selectionRange:o},Fh=!1,qt=i;qt!==null;)if(i=qt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,qt=n;else for(;qt!==null;){switch(i=qt,g=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=i,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var we=Xs(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(we,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(be){tt(o,o.return,be)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)ag(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ag(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=i.sibling,n!==null){n.return=i.return,qt=n;break}qt=i.return}}function Hv(n,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ni(n,o),u&4&&iu(5,o);break;case 1:if(Ni(n,o),u&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(E){tt(o,o.return,E)}else{var f=Xs(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){tt(o,o.return,E)}}u&64&&Uv(o),u&512&&su(o,o.return);break;case 3:if(Ni(n,o),u&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{R_(n,i)}catch(E){tt(o,o.return,E)}}break;case 27:i===null&&u&4&&Fv(o);case 26:case 5:Ni(n,o),i===null&&u&4&&jv(o),u&512&&su(o,o.return);break;case 12:Ni(n,o);break;case 13:Ni(n,o),u&4&&Yv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=fR.bind(null,o),CR(n,o))));break;case 22:if(u=o.memoizedState!==null||Zr,!u){i=i!==null&&i.memoizedState!==null||bt,f=Zr;var g=bt;Zr=u,(bt=i)&&!g?Mi(n,o,(o.subtreeFlags&8772)!==0):Ni(n,o),Zr=f,bt=g}break;case 30:break;default:Ni(n,o)}}function Kv(n){var i=n.alternate;i!==null&&(n.alternate=null,Kv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ei(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ot=null,_n=!1;function Wr(n,i,o){for(o=o.child;o!==null;)Qv(n,i,o),o=o.sibling}function Qv(n,i,o){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:bt||pr(o,i),Wr(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:bt||pr(o,i);var u=ot,f=_n;Ui(o.type)&&(ot=o.stateNode,_n=!1),Wr(n,i,o),mu(o.stateNode),ot=u,_n=f;break;case 5:bt||pr(o,i);case 6:if(u=ot,f=_n,ot=null,Wr(n,i,o),ot=u,_n=f,ot!==null)if(_n)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(o.stateNode)}catch(g){tt(o,i,g)}else try{ot.removeChild(o.stateNode)}catch(g){tt(o,i,g)}break;case 18:ot!==null&&(_n?(n=ot,PE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),bu(n)):PE(ot,o.stateNode));break;case 4:u=ot,f=_n,ot=o.stateNode.containerInfo,_n=!0,Wr(n,i,o),ot=u,_n=f;break;case 0:case 11:case 14:case 15:bt||Vi(2,o,i),bt||Vi(4,o,i),Wr(n,i,o);break;case 1:bt||(pr(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&zv(o,i,u)),Wr(n,i,o);break;case 21:Wr(n,i,o);break;case 22:bt=(u=bt)||o.memoizedState!==null,Wr(n,i,o),bt=u;break;default:Wr(n,i,o)}}function Yv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{bu(n)}catch(o){tt(i,i.return,o)}}function iR(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Gv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Gv),i;default:throw Error(r(435,n.tag))}}function Mm(n,i){var o=iR(n);i.forEach(function(u){var f=dR.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function In(n,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=n,E=i,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(Ui(b.type)){ot=b.stateNode,_n=!1;break e}break;case 5:ot=b.stateNode,_n=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,_n=!0;break e}b=b.return}if(ot===null)throw Error(r(160));Qv(g,E,f),ot=null,_n=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)$v(i,n),i=i.sibling}var Wn=null;function $v(n,i){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:In(i,n),xn(n),u&4&&(Vi(3,n,n.return),iu(3,n),Vi(5,n,n.return));break;case 1:In(i,n),xn(n),u&512&&(bt||o===null||pr(o,o.return)),u&64&&Zr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Wn;if(In(i,n),xn(n),u&512&&(bt||o===null||pr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[ws]||g[Nt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Jt(g,u,o),g[Nt]=n,Et(g),u=g;break e;case"link":var E=FE("link","href",f).get(u+(o.href||""));if(E){for(var b=0;b<E.length;b++)if(g=E[b],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(b,1);break t}}g=f.createElement(u),Jt(g,u,o),f.head.appendChild(g);break;case"meta":if(E=FE("meta","content",f).get(u+(o.content||""))){for(b=0;b<E.length;b++)if(g=E[b],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(b,1);break t}}g=f.createElement(u),Jt(g,u,o),f.head.appendChild(g);break;default:throw Error(r(468,u))}g[Nt]=n,Et(g),u=g}n.stateNode=u}else GE(f,n.type,n.stateNode);else n.stateNode=qE(f,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?GE(f,n.type,n.stateNode):qE(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Dm(n,n.memoizedProps,o.memoizedProps)}break;case 27:In(i,n),xn(n),u&512&&(bt||o===null||pr(o,o.return)),o!==null&&u&4&&Dm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(In(i,n),xn(n),u&512&&(bt||o===null||pr(o,o.return)),n.flags&32){f=n.stateNode;try{Ln(f,"")}catch(K){tt(n,n.return,K)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Dm(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Nm=!0);break;case 6:if(In(i,n),xn(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(K){tt(n,n.return,K)}}break;case 3:if(zh=null,f=Wn,Wn=Bh(i.containerInfo),In(i,n),Wn=f,xn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{bu(i.containerInfo)}catch(K){tt(n,n.return,K)}Nm&&(Nm=!1,Xv(n));break;case 4:u=Wn,Wn=Bh(n.stateNode.containerInfo),In(i,n),xn(n),Wn=u;break;case 12:In(i,n),xn(n);break;case 13:In(i,n),xn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Um=On()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Mm(n,u)));break;case 22:f=n.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,F=Zr,J=bt;if(Zr=F||f,bt=J||I,In(i,n),bt=J,Zr=F,xn(n),u&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||I||Zr||bt||Js(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){I=o=i;try{if(g=I.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=I.stateNode;var te=I.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){tt(I,I.return,K)}}}else if(i.tag===6){if(o===null){I=i;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(K){tt(I,I.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Mm(n,o))));break;case 19:In(i,n),xn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Mm(n,u)));break;case 30:break;case 21:break;default:In(i,n),xn(n)}}function xn(n){var i=n.flags;if(i&2){try{for(var o,u=n.return;u!==null;){if(qv(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,g=Cm(n);wh(n,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(Ln(E,""),o.flags&=-33);var b=Cm(n);wh(n,b,E);break;case 3:case 4:var I=o.stateNode.containerInfo,F=Cm(n);Vm(n,F,I);break;default:throw Error(r(161))}}catch(J){tt(n,n.return,J)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Xv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Xv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ni(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hv(n,i.alternate,i),i=i.sibling}function Js(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Vi(4,i,i.return),Js(i);break;case 1:pr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&zv(i,i.return,o),Js(i);break;case 27:mu(i.stateNode);case 26:case 5:pr(i,i.return),Js(i);break;case 22:i.memoizedState===null&&Js(i);break;case 30:Js(i);break;default:Js(i)}n=n.sibling}}function Mi(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,g=i,E=g.flags;switch(g.tag){case 0:case 11:case 15:Mi(f,g,o),iu(4,g);break;case 1:if(Mi(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){tt(u,u.return,F)}if(u=g,f=u.updateQueue,f!==null){var b=u.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)w_(I[f],b)}catch(F){tt(u,u.return,F)}}o&&E&64&&Uv(g),su(g,g.return);break;case 27:Fv(g);case 26:case 5:Mi(f,g,o),o&&u===null&&E&4&&jv(g),su(g,g.return);break;case 12:Mi(f,g,o);break;case 13:Mi(f,g,o),o&&E&4&&Yv(f,g);break;case 22:g.memoizedState===null&&Mi(f,g,o),su(g,g.return);break;case 30:break;default:Mi(f,g,o)}i=i.sibling}}function Om(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Gl(o))}function Pm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Gl(n))}function yr(n,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Jv(n,i,o,u),i=i.sibling}function Jv(n,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:yr(n,i,o,u),f&2048&&iu(9,i);break;case 1:yr(n,i,o,u);break;case 3:yr(n,i,o,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Gl(n)));break;case 12:if(f&2048){yr(n,i,o,u),n=i.stateNode;try{var g=i.memoizedProps,E=g.id,b=g.onPostCommit;typeof b=="function"&&b(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){tt(i,i.return,I)}}else yr(n,i,o,u);break;case 13:yr(n,i,o,u);break;case 23:break;case 22:g=i.stateNode,E=i.alternate,i.memoizedState!==null?g._visibility&2?yr(n,i,o,u):au(n,i):g._visibility&2?yr(n,i,o,u):(g._visibility|=2,lo(n,i,o,u,(i.subtreeFlags&10256)!==0)),f&2048&&Om(E,i);break;case 24:yr(n,i,o,u),f&2048&&Pm(i.alternate,i);break;default:yr(n,i,o,u)}}function lo(n,i,o,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=n,E=i,b=o,I=u,F=E.flags;switch(E.tag){case 0:case 11:case 15:lo(g,E,b,I,f),iu(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?lo(g,E,b,I,f):au(g,E):(J._visibility|=2,lo(g,E,b,I,f)),f&&F&2048&&Om(E.alternate,E);break;case 24:lo(g,E,b,I,f),f&&F&2048&&Pm(E.alternate,E);break;default:lo(g,E,b,I,f)}i=i.sibling}}function au(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,u=i,f=u.flags;switch(u.tag){case 22:au(o,u),f&2048&&Om(u.alternate,u);break;case 24:au(o,u),f&2048&&Pm(u.alternate,u);break;default:au(o,u)}i=i.sibling}}var ou=8192;function uo(n){if(n.subtreeFlags&ou)for(n=n.child;n!==null;)Zv(n),n=n.sibling}function Zv(n){switch(n.tag){case 26:uo(n),n.flags&ou&&n.memoizedState!==null&&FR(Wn,n.memoizedState,n.memoizedProps);break;case 5:uo(n);break;case 3:case 4:var i=Wn;Wn=Bh(n.stateNode.containerInfo),uo(n),Wn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=ou,ou=16777216,uo(n),ou=i):uo(n));break;default:uo(n)}}function Wv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function lu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];qt=u,tE(u,n)}Wv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)eE(n),n=n.sibling}function eE(n){switch(n.tag){case 0:case 11:case 15:lu(n),n.flags&2048&&Vi(9,n,n.return);break;case 3:lu(n);break;case 12:lu(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Rh(n)):lu(n);break;default:lu(n)}}function Rh(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];qt=u,tE(u,n)}Wv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Vi(8,i,i.return),Rh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Rh(i));break;default:Rh(i)}n=n.sibling}}function tE(n,i){for(;qt!==null;){var o=qt;switch(o.tag){case 0:case 11:case 15:Vi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Gl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,qt=u;else e:for(o=n;qt!==null;){u=qt;var f=u.sibling,g=u.return;if(Kv(u),u===o){qt=null;break e}if(f!==null){f.return=g,qt=f;break e}qt=g}}}var sR={getCacheForType:function(n){var i=nn(Pt),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},aR=typeof WeakMap=="function"?WeakMap:Map,Qe=0,rt=null,Ne=null,Ue=0,Ye=0,Dn=null,Oi=!1,co=!1,Lm=!1,ei=0,_t=0,Pi=0,Zs=0,km=0,Hn=0,ho=0,uu=null,vn=null,Bm=!1,Um=0,Ih=1/0,xh=null,Li=null,Xt=0,ki=null,fo=null,mo=0,zm=0,jm=null,nE=null,cu=0,qm=null;function Cn(){if((Qe&2)!==0&&Ue!==0)return Ue&-Ue;if(X.T!==null){var n=eo;return n!==0?n:$m()}return _i()}function rE(){Hn===0&&(Hn=(Ue&536870912)===0||Ge?vl():536870912);var n=Gn.current;return n!==null&&(n.flags|=32),Hn}function Vn(n,i,o){(n===rt&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)&&(go(n,0),Bi(n,Ue,Hn,!1)),Nr(n,o),((Qe&2)===0||n!==rt)&&(n===rt&&((Qe&2)===0&&(Zs|=o),_t===4&&Bi(n,Ue,Hn,!1)),_r(n))}function iE(n,i,o){if((Qe&6)!==0)throw Error(r(327));var u=!o&&(i&124)===0&&(i&n.expiredLanes)===0||Ss(n,i),f=u?uR(n,i):Hm(n,i,!0),g=u;do{if(f===0){co&&!u&&Bi(n,i,0,!1);break}else{if(o=n.current.alternate,g&&!oR(o)){f=Hm(n,i,!1),g=!1;continue}if(f===2){if(g=i,n.errorRecoveryDisabledLanes&g)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var b=n;f=uu;var I=b.current.memoizedState.isDehydrated;if(I&&(go(b,E).flags|=256),E=Hm(b,E,!1),E!==2){if(Lm&&!I){b.errorRecoveryDisabledLanes|=g,Zs|=g,f=4;break e}g=vn,vn=f,g!==null&&(vn===null?vn=g:vn.push.apply(vn,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){go(n,0),Bi(n,i,0,!0);break}e:{switch(u=n,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Bi(u,i,Hn,!Oi);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Um+300-On(),10<f)){if(Bi(u,i,Hn,!Oi),Va(u,0,!0)!==0)break e;u.timeoutHandle=ME(sE.bind(null,u,o,vn,xh,Bm,i,Hn,Zs,ho,Oi,g,2,-0,0),f);break e}sE(u,o,vn,xh,Bm,i,Hn,Zs,ho,Oi,g,0,-0,0)}}break}while(!0);_r(n)}function sE(n,i,o,u,f,g,E,b,I,F,J,te,G,K){if(n.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(yu={stylesheets:null,count:0,unsuspend:qR},Zv(i),te=GR(),te!==null)){n.cancelPendingCommit=te(fE.bind(null,n,i,g,o,u,f,E,b,I,J,1,G,K)),Bi(n,g,E,!F);return}fE(n,i,g,o,u,f,E,b,I)}function oR(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!wn(g(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bi(n,i,o,u){i&=~km,i&=~Zs,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var g=31-tn(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&rr(n,o,i)}function Dh(){return(Qe&6)===0?(hu(0),!1):!0}function Fm(){if(Ne!==null){if(Ye===0)var n=Ne.return;else n=Ne,Kr=Ks=null,am(n),ao=null,tu=0,n=Ne;for(;n!==null;)Bv(n.alternate,n),n=n.return;Ne=null}}function go(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,wR(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Fm(),rt=n,Ne=o=Fr(n.current,null),Ue=i,Ye=0,Dn=null,Oi=!1,co=Ss(n,i),Lm=!1,ho=Hn=km=Zs=Pi=_t=0,vn=uu=null,Bm=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-tn(u),g=1<<f;i|=n[f],u&=~g}return ei=i,Jc(),o}function aE(n,i){De=null,X.H=ph,i===Kl||i===ah?(i=A_(),Ye=3):i===E_?(i=A_(),Ye=4):Ye=i===Sv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Dn=i,Ne===null&&(_t=1,Th(n,zn(i,n.current)))}function oE(){var n=X.H;return X.H=ph,n===null?ph:n}function lE(){var n=X.A;return X.A=sR,n}function Gm(){_t=4,Oi||(Ue&4194048)!==Ue&&Gn.current!==null||(co=!0),(Pi&134217727)===0&&(Zs&134217727)===0||rt===null||Bi(rt,Ue,Hn,!1)}function Hm(n,i,o){var u=Qe;Qe|=2;var f=oE(),g=lE();(rt!==n||Ue!==i)&&(xh=null,go(n,i)),i=!1;var E=_t;e:do try{if(Ye!==0&&Ne!==null){var b=Ne,I=Dn;switch(Ye){case 8:Fm(),E=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(i=!0);var F=Ye;if(Ye=0,Dn=null,po(n,b,I,F),o&&co){E=0;break e}break;default:F=Ye,Ye=0,Dn=null,po(n,b,I,F)}}lR(),E=_t;break}catch(J){aE(n,J)}while(!0);return i&&n.shellSuspendCounter++,Kr=Ks=null,Qe=u,X.H=f,X.A=g,Ne===null&&(rt=null,Ue=0,Jc()),E}function lR(){for(;Ne!==null;)uE(Ne)}function uR(n,i){var o=Qe;Qe|=2;var u=oE(),f=lE();rt!==n||Ue!==i?(xh=null,Ih=On()+500,go(n,i)):co=Ss(n,i);e:do try{if(Ye!==0&&Ne!==null){i=Ne;var g=Dn;t:switch(Ye){case 1:Ye=0,Dn=null,po(n,i,g,1);break;case 2:case 9:if(T_(g)){Ye=0,Dn=null,cE(i);break}i=function(){Ye!==2&&Ye!==9||rt!==n||(Ye=7),_r(n)},g.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:T_(g)?(Ye=0,Dn=null,cE(i)):(Ye=0,Dn=null,po(n,i,g,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var b=Ne;if(!E||HE(E)){Ye=0,Dn=null;var I=b.sibling;if(I!==null)Ne=I;else{var F=b.return;F!==null?(Ne=F,Ch(F)):Ne=null}break t}}Ye=0,Dn=null,po(n,i,g,5);break;case 6:Ye=0,Dn=null,po(n,i,g,6);break;case 8:Fm(),_t=6;break e;default:throw Error(r(462))}}cR();break}catch(J){aE(n,J)}while(!0);return Kr=Ks=null,X.H=u,X.A=f,Qe=o,Ne!==null?0:(rt=null,Ue=0,Jc(),_t)}function cR(){for(;Ne!==null&&!gl();)uE(Ne)}function uE(n){var i=Lv(n.alternate,n,ei);n.memoizedProps=n.pendingProps,i===null?Ch(n):Ne=i}function cE(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=Cv(o,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=Cv(o,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:am(i);default:Bv(o,i),i=Ne=h_(i,ei),i=Lv(o,i,ei)}n.memoizedProps=n.pendingProps,i===null?Ch(n):Ne=i}function po(n,i,o,u){Kr=Ks=null,am(i),ao=null,tu=0;var f=i.return;try{if(Ww(n,f,i,o,Ue)){_t=1,Th(n,zn(o,n.current)),Ne=null;return}}catch(g){if(f!==null)throw Ne=f,g;_t=1,Th(n,zn(o,n.current)),Ne=null;return}i.flags&32768?(Ge||u===1?n=!0:co||(Ue&536870912)!==0?n=!1:(Oi=n=!0,(u===2||u===9||u===3||u===6)&&(u=Gn.current,u!==null&&u.tag===13&&(u.flags|=16384))),hE(i,n)):Ch(i)}function Ch(n){var i=n;do{if((i.flags&32768)!==0){hE(i,Oi);return}n=i.return;var o=tR(i.alternate,i,ei);if(o!==null){Ne=o;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=n}while(i!==null);_t===0&&(_t=5)}function hE(n,i){do{var o=nR(n.alternate,n);if(o!==null){o.flags&=32767,Ne=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=o}while(n!==null);_t=6,Ne=null}function fE(n,i,o,u,f,g,E,b,I){n.cancelPendingCommit=null;do Vh();while(Xt!==0);if((Qe&6)!==0)throw Error(r(327));if(i!==null){if(i===n.current)throw Error(r(177));if(g=i.lanes|i.childLanes,g|=Pd,Tl(n,o,g,E,b,I),n===rt&&(Ne=rt=null,Ue=0),fo=i,ki=n,mo=o,zm=g,jm=f,nE=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,mR(Es,function(){return yE(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,f=ue.p,ue.p=2,E=Qe,Qe|=4;try{rR(n,i,o)}finally{Qe=E,ue.p=f,X.T=u}}Xt=1,dE(),mE(),gE()}}function dE(){if(Xt===1){Xt=0;var n=ki,i=fo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=ue.p;ue.p=2;var f=Qe;Qe|=4;try{$v(i,n);var g=rg,E=t_(n.containerInfo),b=g.focusedElem,I=g.selectionRange;if(E!==b&&b&&b.ownerDocument&&e_(b.ownerDocument.documentElement,b)){if(I!==null&&Cd(b)){var F=I.start,J=I.end;if(J===void 0&&(J=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(J,b.value.length);else{var te=b.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var K=G.getSelection(),we=b.textContent.length,be=Math.min(I.start,we),et=I.end===void 0?be:Math.min(I.end,we);!K.extend&&be>et&&(E=et,et=be,be=E);var k=Wy(b,be),O=Wy(b,et);if(k&&O&&(K.rangeCount!==1||K.anchorNode!==k.node||K.anchorOffset!==k.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var q=te.createRange();q.setStart(k.node,k.offset),K.removeAllRanges(),be>et?(K.addRange(q),K.extend(O.node,O.offset)):(q.setEnd(O.node,O.offset),K.addRange(q))}}}}for(te=[],K=b;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var W=te[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Fh=!!ng,rg=ng=null}finally{Qe=f,ue.p=u,X.T=o}}n.current=i,Xt=2}}function mE(){if(Xt===2){Xt=0;var n=ki,i=fo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=ue.p;ue.p=2;var f=Qe;Qe|=4;try{Hv(n,i.alternate,i)}finally{Qe=f,ue.p=u,X.T=o}}Xt=3}}function gE(){if(Xt===4||Xt===3){Xt=0,Rc();var n=ki,i=fo,o=mo,u=nE;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Xt=5:(Xt=0,fo=ki=null,pE(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Li=null),Na(o),i=i.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(pt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=X.T,f=ue.p,ue.p=2,X.T=null;try{for(var g=n.onRecoverableError,E=0;E<u.length;E++){var b=u[E];g(b.value,{componentStack:b.stack})}}finally{X.T=i,ue.p=f}}(mo&3)!==0&&Vh(),_r(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===qm?cu++:(cu=0,qm=n):cu=0,hu(0)}}function pE(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Gl(i)))}function Vh(n){return dE(),mE(),gE(),yE()}function yE(){if(Xt!==5)return!1;var n=ki,i=zm;zm=0;var o=Na(mo),u=X.T,f=ue.p;try{ue.p=32>o?32:o,X.T=null,o=jm,jm=null;var g=ki,E=mo;if(Xt=0,fo=ki=null,mo=0,(Qe&6)!==0)throw Error(r(331));var b=Qe;if(Qe|=4,eE(g.current),Jv(g,g.current,E,o),Qe=b,hu(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(pt,g)}catch{}return!0}finally{ue.p=f,X.T=u,pE(n,i)}}function _E(n,i,o){i=zn(o,i),i=Em(n.stateNode,i,2),n=Ii(n,i,2),n!==null&&(Nr(n,2),_r(n))}function tt(n,i,o){if(n.tag===3)_E(n,n,o);else for(;i!==null;){if(i.tag===3){_E(i,n,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Li===null||!Li.has(u))){n=zn(o,n),o=bv(2),u=Ii(i,o,2),u!==null&&(Av(o,u,i,n),Nr(u,2),_r(u));break}}i=i.return}}function Km(n,i,o){var u=n.pingCache;if(u===null){u=n.pingCache=new aR;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(Lm=!0,f.add(o),n=hR.bind(null,n,i,o),i.then(n,n))}function hR(n,i,o){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,rt===n&&(Ue&o)===o&&(_t===4||_t===3&&(Ue&62914560)===Ue&&300>On()-Um?(Qe&2)===0&&go(n,0):km|=o,ho===Ue&&(ho=0)),_r(n)}function vE(n,i){i===0&&(i=El()),n=Xa(n,i),n!==null&&(Nr(n,i),_r(n))}function fR(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),vE(n,o)}function dR(n,i){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),vE(n,o)}function mR(n,i){return _s(n,i)}var Nh=null,yo=null,Qm=!1,Mh=!1,Ym=!1,Ws=0;function _r(n){n!==yo&&n.next===null&&(yo===null?Nh=yo=n:yo=yo.next=n),Mh=!0,Qm||(Qm=!0,pR())}function hu(n,i){if(!Ym&&Mh){Ym=!0;do for(var o=!1,u=Nh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,b=u.pingedLanes;g=(1<<31-tn(42|n)+1)-1,g&=f&~(E&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,AE(u,g))}else g=Ue,g=Va(u,u===rt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ss(u,g)||(o=!0,AE(u,g));u=u.next}while(o);Ym=!1}}function gR(){EE()}function EE(){Mh=Qm=!1;var n=0;Ws!==0&&(SR()&&(n=Ws),Ws=0);for(var i=On(),o=null,u=Nh;u!==null;){var f=u.next,g=TE(u,i);g===0?(u.next=null,o===null?Nh=f:o.next=f,f===null&&(yo=o)):(o=u,(n!==0||(g&3)!==0)&&(Mh=!0)),u=f}hu(n)}function TE(n,i){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var E=31-tn(g),b=1<<E,I=f[E];I===-1?((b&o)===0||(b&u)!==0)&&(f[E]=_l(b,i)):I<=i&&(n.expiredLanes|=b),g&=~b}if(i=rt,o=Ue,o=Va(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===i&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&vs(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Ss(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(u!==null&&vs(u),Na(o)){case 2:case 8:o=Da;break;case 32:o=Es;break;case 268435456:o=Ca;break;default:o=Es}return u=bE.bind(null,n),o=_s(o,u),n.callbackPriority=i,n.callbackNode=o,i}return u!==null&&u!==null&&vs(u),n.callbackPriority=2,n.callbackNode=null,2}function bE(n,i){if(Xt!==0&&Xt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Vh()&&n.callbackNode!==o)return null;var u=Ue;return u=Va(n,n===rt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(iE(n,u,i),TE(n,On()),n.callbackNode!=null&&n.callbackNode===o?bE.bind(null,n):null)}function AE(n,i){if(Vh())return null;iE(n,i,!0)}function pR(){RR(function(){(Qe&6)!==0?_s(pl,gR):EE()})}function $m(){return Ws===0&&(Ws=vl()),Ws}function SE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ba(""+n)}function wE(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function yR(n,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var g=SE((f[Rt]||null).action),E=u.submitter;E&&(i=(i=E[Rt]||null)?SE(i.formAction):E.getAttribute("formAction"),i!==null&&(g=i,E=null));var b=new Ua("action","action",null,u,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ws!==0){var I=E?wE(f,E):new FormData(f);gm(o,{pending:!0,data:I,method:f.method,action:g},null,I)}}else typeof g=="function"&&(b.preventDefault(),I=E?wE(f,E):new FormData(f),gm(o,{pending:!0,data:I,method:f.method,action:g},g,I))},currentTarget:f}]})}}for(var Xm=0;Xm<Od.length;Xm++){var Jm=Od[Xm],_R=Jm.toLowerCase(),vR=Jm[0].toUpperCase()+Jm.slice(1);Zn(_R,"on"+vR)}Zn(i_,"onAnimationEnd"),Zn(s_,"onAnimationIteration"),Zn(a_,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(Lw,"onTransitionRun"),Zn(kw,"onTransitionStart"),Zn(Bw,"onTransitionCancel"),Zn(o_,"onTransitionEnd"),Or("onMouseEnter",["mouseout","mouseover"]),Or("onMouseLeave",["mouseout","mouseover"]),Or("onPointerEnter",["pointerout","pointerover"]),Or("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ER=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fu));function RE(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var g=void 0;if(i)for(var E=u.length-1;0<=E;E--){var b=u[E],I=b.instance,F=b.currentTarget;if(b=b.listener,I!==g&&f.isPropagationStopped())break e;g=b,f.currentTarget=F;try{g(f)}catch(J){Eh(J)}f.currentTarget=null,g=I}else for(E=0;E<u.length;E++){if(b=u[E],I=b.instance,F=b.currentTarget,b=b.listener,I!==g&&f.isPropagationStopped())break e;g=b,f.currentTarget=F;try{g(f)}catch(J){Eh(J)}f.currentTarget=null,g=I}}}}function Me(n,i){var o=i[Al];o===void 0&&(o=i[Al]=new Set);var u=n+"__bubble";o.has(u)||(IE(i,n,2,!1),o.add(u))}function Zm(n,i,o){var u=0;i&&(u|=4),IE(o,n,u,i)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function Wm(n){if(!n[Oh]){n[Oh]=!0,Sl.forEach(function(o){o!=="selectionchange"&&(ER.has(o)||Zm(o,!1,n),Zm(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Oh]||(i[Oh]=!0,Zm("selectionchange",!1,i))}}function IE(n,i,o,u){switch(JE(i)){case 2:var f=QR;break;case 8:f=YR;break;default:f=dg}o=f.bind(null,i,o,n),f=void 0,!Bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,o,{capture:!0,passive:f}):n.addEventListener(i,o,!0):f!==void 0?n.addEventListener(i,o,{passive:f}):n.addEventListener(i,o,!1)}function eg(n,i,o,u,f){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=u.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Mr(b),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){u=g=E;continue e}b=b.parentNode}}u=u.return}Lc(function(){var F=g,J=kn(o),te=[];e:{var G=l_.get(n);if(G!==void 0){var K=Ua,we=n;switch(n){case"keypress":if(ur(o)===0)break e;case"keydown":case"keyup":K=Ha;break;case"focusin":we="focus",K=qa;break;case"focusout":we="blur",K=qa;break;case"beforeblur":case"afterblur":K=qa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Rd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Gc;break;case i_:case s_:case a_:K=Fa;break;case o_:K=Kc;break;case"scroll":case"scrollend":K=kc;break;case"wheel":K=Ka;break;case"copy":case"cut":case"paste":K=Ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ll;break;case"toggle":case"beforetoggle":K=Yc}var be=(i&4)!==0,et=!be&&(n==="scroll"||n==="scrollend"),k=be?G!==null?G+"Capture":null:G;be=[];for(var O=F,q;O!==null;){var W=O;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||k===null||(W=Ns(O,k),W!=null&&be.push(du(O,W,q))),et)break;O=O.return}0<be.length&&(G=new K(G,we,null,o,J),te.push({event:G,listeners:be}))}}if((i&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",G&&o!==kr&&(we=o.relatedTarget||o.fromElement)&&(Mr(we)||we[Pn]))break e;if((K||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,K?(we=o.relatedTarget||o.toElement,K=F,we=we?Mr(we):null,we!==null&&(et=l(we),be=we.tag,we!==et||be!==5&&be!==27&&be!==6)&&(we=null)):(K=null,we=F),K!==we)){if(be=Un,W="onMouseLeave",k="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(be=Ll,W="onPointerLeave",k="onPointerEnter",O="pointer"),et=K==null?G:sr(K),q=we==null?G:sr(we),G=new be(W,O+"leave",K,o,J),G.target=et,G.relatedTarget=q,W=null,Mr(J)===F&&(be=new be(k,O+"enter",we,o,J),be.target=q,be.relatedTarget=et,W=be),et=W,K&&we)t:{for(be=K,k=we,O=0,q=be;q;q=_o(q))O++;for(q=0,W=k;W;W=_o(W))q++;for(;0<O-q;)be=_o(be),O--;for(;0<q-O;)k=_o(k),q--;for(;O--;){if(be===k||k!==null&&be===k.alternate)break t;be=_o(be),k=_o(k)}be=null}else be=null;K!==null&&xE(te,G,K,be,!1),we!==null&&et!==null&&xE(te,et,we,be,!0)}}e:{if(G=F?sr(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var ge=Qy;else if(Ot(G))if(Yy)ge=Mw;else{ge=Vw;var Ve=Cw}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Dl(F.elementType)&&(ge=Qy):ge=Nw;if(ge&&(ge=ge(n,F))){qr(te,ge,o,J);break e}Ve&&Ve(n,G,F),n==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&bi(G,"number",G.value)}switch(Ve=F?sr(F):window,n){case"focusin":(Ot(Ve)||Ve.contentEditable==="true")&&(Qa=Ve,Vd=F,Ul=null);break;case"focusout":Ul=Vd=Qa=null;break;case"mousedown":Nd=!0;break;case"contextmenu":case"mouseup":case"dragend":Nd=!1,n_(te,o,J);break;case"selectionchange":if(Pw)break;case"keydown":case"keyup":n_(te,o,J)}var _e;if(fr)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else ke?Y(n,o)&&(Ae="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(v&&o.locale!=="ko"&&(ke||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&ke&&(_e=Vl()):(lr=J,Ai="value"in lr?lr.value:lr.textContent,ke=!0)),Ve=Ph(F,Ae),0<Ve.length&&(Ae=new Ol(Ae,n,null,o,J),te.push({event:Ae,listeners:Ve}),_e?Ae.data=_e:(_e=oe(o),_e!==null&&(Ae.data=_e)))),(_e=y?Mt(n,o):Be(n,o))&&(Ae=Ph(F,"onBeforeInput"),0<Ae.length&&(Ve=new Ol("onBeforeInput","beforeinput",null,o,J),te.push({event:Ve,listeners:Ae}),Ve.data=_e)),yR(te,n,F,o,J)}RE(te,i)})}function du(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Ph(n,i){for(var o=i+"Capture",u=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Ns(n,o),f!=null&&u.unshift(du(n,f,g)),f=Ns(n,i),f!=null&&u.push(du(n,f,g))),n.tag===3)return u;n=n.return}return[]}function _o(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function xE(n,i,o,u,f){for(var g=i._reactName,E=[];o!==null&&o!==u;){var b=o,I=b.alternate,F=b.stateNode;if(b=b.tag,I!==null&&I===u)break;b!==5&&b!==26&&b!==27||F===null||(I=F,f?(F=Ns(o,g),F!=null&&E.unshift(du(o,F,I))):f||(F=Ns(o,g),F!=null&&E.push(du(o,F,I)))),o=o.return}E.length!==0&&n.push({event:i,listeners:E})}var TR=/\r\n?/g,bR=/\u0000|\uFFFD/g;function DE(n){return(typeof n=="string"?n:""+n).replace(TR,`
`).replace(bR,"")}function CE(n,i){return i=DE(i),DE(n)===i}function Lh(){}function We(n,i,o,u,f,g){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Ln(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Ln(n,""+u);break;case"className":ar(n,"class",u);break;case"tabIndex":ar(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(n,o,u);break;case"style":xl(n,u,g);break;case"data":if(i!=="object"){ar(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ba(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&We(n,i,"name",f.name,f,null),We(n,i,"formEncType",f.formEncType,f,null),We(n,i,"formMethod",f.formMethod,f,null),We(n,i,"formTarget",f.formTarget,f,null)):(We(n,i,"encType",f.encType,f,null),We(n,i,"method",f.method,f,null),We(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ba(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Lh);break;case"onScroll":u!=null&&Me("scroll",n);break;case"onScrollEnd":u!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Ba(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Me("beforetoggle",n),Me("toggle",n),Ti(n,"popover",u);break;case"xlinkActuate":Qt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Qt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Qt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Qt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Qt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Qt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ti(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Sd.get(o)||o,Ti(n,o,u))}}function tg(n,i,o,u,f,g){switch(o){case"style":xl(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Ln(n,u):(typeof u=="number"||typeof u=="bigint")&&Ln(n,""+u);break;case"onScroll":u!=null&&Me("scroll",n);break;case"onScrollEnd":u!=null&&Me("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Lh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ma.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),g=n[Rt]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(i,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Ti(n,o,u)}}}function Jt(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(n,i,g,E,o,null)}}f&&We(n,i,"srcSet",o.srcSet,o,null),u&&We(n,i,"src",o.src,o,null);return;case"input":Me("invalid",n);var b=g=E=f=null,I=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":f=J;break;case"type":E=J;break;case"checked":I=J;break;case"defaultChecked":F=J;break;case"value":g=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,i));break;default:We(n,i,u,J,o,null)}}Ds(n,g,b,I,F,E,f,!1),ka(n);return;case"select":Me("invalid",n),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(b=o[f],b!=null))switch(f){case"value":g=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:We(n,i,f,b,o,null)}i=g,o=E,n.multiple=!!u,i!=null?Lr(n,!!u,i,!1):o!=null&&Lr(n,!!u,o,!0);return;case"textarea":Me("invalid",n),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(b=o[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":f=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:We(n,i,E,b,o,null)}Cs(n,u,f,g),ka(n);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(n,i,I,u,o,null)}return;case"dialog":Me("beforetoggle",n),Me("toggle",n),Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(u=0;u<fu.length;u++)Me(fu[u],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(n,i,F,u,o,null)}return;default:if(Dl(i)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&tg(n,i,J,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&We(n,i,b,u,o,null))}function AR(n,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,b=null,I=null,F=null,J=null;for(K in o){var te=o[K];if(o.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=te;default:u.hasOwnProperty(K)||We(n,i,K,null,u,te)}}for(var G in u){var K=u[G];if(te=o[G],u.hasOwnProperty(G)&&(K!=null||te!=null))switch(G){case"type":g=K;break;case"name":f=K;break;case"checked":F=K;break;case"defaultChecked":J=K;break;case"value":E=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:K!==te&&We(n,i,G,K,u,te)}}Sn(n,E,b,I,F,J,g,f);return;case"select":K=E=b=G=null;for(g in o)if(I=o[g],o.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":K=I;default:u.hasOwnProperty(g)||We(n,i,g,null,u,I)}for(f in u)if(g=u[f],I=o[f],u.hasOwnProperty(f)&&(g!=null||I!=null))switch(f){case"value":G=g;break;case"defaultValue":b=g;break;case"multiple":E=g;default:g!==I&&We(n,i,f,g,u,I)}i=b,o=E,u=K,G!=null?Lr(n,!!o,G,!1):!!u!=!!o&&(i!=null?Lr(n,!!o,i,!0):Lr(n,!!o,o?[]:"",!1));return;case"textarea":K=G=null;for(b in o)if(f=o[b],o.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(n,i,b,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":G=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&We(n,i,E,f,u,g)}Je(n,G,K);return;case"option":for(var we in o)if(G=o[we],o.hasOwnProperty(we)&&G!=null&&!u.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:We(n,i,we,null,u,G)}for(I in u)if(G=u[I],K=o[I],u.hasOwnProperty(I)&&G!==K&&(G!=null||K!=null))switch(I){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(n,i,I,G,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)G=o[be],o.hasOwnProperty(be)&&G!=null&&!u.hasOwnProperty(be)&&We(n,i,be,null,u,G);for(F in u)if(G=u[F],K=o[F],u.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:We(n,i,F,G,u,K)}return;default:if(Dl(i)){for(var et in o)G=o[et],o.hasOwnProperty(et)&&G!==void 0&&!u.hasOwnProperty(et)&&tg(n,i,et,void 0,u,G);for(J in u)G=u[J],K=o[J],!u.hasOwnProperty(J)||G===K||G===void 0&&K===void 0||tg(n,i,J,G,u,K);return}}for(var k in o)G=o[k],o.hasOwnProperty(k)&&G!=null&&!u.hasOwnProperty(k)&&We(n,i,k,null,u,G);for(te in u)G=u[te],K=o[te],!u.hasOwnProperty(te)||G===K||G==null&&K==null||We(n,i,te,G,u,K)}var ng=null,rg=null;function kh(n){return n.nodeType===9?n:n.ownerDocument}function VE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function NE(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function ig(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var sg=null;function SR(){var n=window.event;return n&&n.type==="popstate"?n===sg?!1:(sg=n,!0):(sg=null,!1)}var ME=typeof setTimeout=="function"?setTimeout:void 0,wR=typeof clearTimeout=="function"?clearTimeout:void 0,OE=typeof Promise=="function"?Promise:void 0,RR=typeof queueMicrotask=="function"?queueMicrotask:typeof OE<"u"?function(n){return OE.resolve(null).then(n).catch(IR)}:ME;function IR(n){setTimeout(function(){throw n})}function Ui(n){return n==="head"}function PE(n,i){var o=i,u=0,f=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=n.ownerDocument;if(o&1&&mu(E.documentElement),o&2&&mu(E.body),o&4)for(o=E.head,mu(o),E=o.firstChild;E;){var b=E.nextSibling,I=E.nodeName;E[ws]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=b}}if(f===0){n.removeChild(g),bu(i);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);bu(i)}function ag(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ag(o),Ei(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function xR(n,i,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ws])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=er(n.nextSibling),n===null)break}return null}function DR(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=er(n.nextSibling),n===null))return null;return n}function og(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function CR(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function er(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var lg=null;function LE(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function kE(n,i,o){switch(i=kh(o),n){case"html":if(n=i.documentElement,!n)throw Error(r(452));return n;case"head":if(n=i.head,!n)throw Error(r(453));return n;case"body":if(n=i.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function mu(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ei(n)}var Kn=new Map,BE=new Set;function Bh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ti=ue.d;ue.d={f:VR,r:NR,D:MR,C:OR,L:PR,m:LR,X:BR,S:kR,M:UR};function VR(){var n=ti.f(),i=Dh();return n||i}function NR(n){var i=ir(n);i!==null&&i.tag===5&&i.type==="form"?iv(i):ti.r(n)}var vo=typeof document>"u"?null:document;function UE(n,i,o){var u=vo;if(u&&typeof i=="string"&&i){var f=It(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),BE.has(f)||(BE.add(f),n={rel:n,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),Jt(i,"link",n),Et(i),u.head.appendChild(i)))}}function MR(n){ti.D(n),UE("dns-prefetch",n,null)}function OR(n,i){ti.C(n,i),UE("preconnect",n,i)}function PR(n,i,o){ti.L(n,i,o);var u=vo;if(u&&n&&i){var f='link[rel="preload"][as="'+It(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+It(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+It(o.imageSizes)+'"]')):f+='[href="'+It(n)+'"]';var g=f;switch(i){case"style":g=Eo(n);break;case"script":g=To(n)}Kn.has(g)||(n=_({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Kn.set(g,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(gu(g))||i==="script"&&u.querySelector(pu(g))||(i=u.createElement("link"),Jt(i,"link",n),Et(i),u.head.appendChild(i)))}}function LR(n,i){ti.m(n,i);var o=vo;if(o&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+It(u)+'"][href="'+It(n)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=To(n)}if(!Kn.has(g)&&(n=_({rel:"modulepreload",href:n},i),Kn.set(g,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(pu(g)))return}u=o.createElement("link"),Jt(u,"link",n),Et(u),o.head.appendChild(u)}}}function kR(n,i,o){ti.S(n,i,o);var u=vo;if(u&&n){var f=un(u).hoistableStyles,g=Eo(n);i=i||"default";var E=f.get(g);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(gu(g)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Kn.get(g))&&ug(n,o);var I=E=u.createElement("link");Et(I),Jt(I,"link",n),I._p=new Promise(function(F,J){I.onload=F,I.onerror=J}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Uh(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(g,E)}}}function BR(n,i){ti.X(n,i);var o=vo;if(o&&n){var u=un(o).hoistableScripts,f=To(n),g=u.get(f);g||(g=o.querySelector(pu(f)),g||(n=_({src:n,async:!0},i),(i=Kn.get(f))&&cg(n,i),g=o.createElement("script"),Et(g),Jt(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function UR(n,i){ti.M(n,i);var o=vo;if(o&&n){var u=un(o).hoistableScripts,f=To(n),g=u.get(f);g||(g=o.querySelector(pu(f)),g||(n=_({src:n,async:!0,type:"module"},i),(i=Kn.get(f))&&cg(n,i),g=o.createElement("script"),Et(g),Jt(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function zE(n,i,o,u){var f=(f=Re.current)?Bh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Eo(o.href),o=un(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Eo(o.href);var g=un(f).hoistableStyles,E=g.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,E),(g=f.querySelector(gu(n)))&&!g._p&&(E.instance=g,E.state.loading=5),Kn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Kn.set(n,o),g||zR(f,n,o,E.state))),i&&u===null)throw Error(r(528,""));return E}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=To(o),o=un(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Eo(n){return'href="'+It(n)+'"'}function gu(n){return'link[rel="stylesheet"]['+n+"]"}function jE(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function zR(n,i,o,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Jt(i,"link",o),Et(i),n.head.appendChild(i))}function To(n){return'[src="'+It(n)+'"]'}function pu(n){return"script[async]"+n}function qE(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+It(o.href)+'"]');if(u)return i.instance=u,Et(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Et(u),Jt(u,"style",f),Uh(u,o.precedence,n),i.instance=u;case"stylesheet":f=Eo(o.href);var g=n.querySelector(gu(f));if(g)return i.state.loading|=4,i.instance=g,Et(g),g;u=jE(o),(f=Kn.get(f))&&ug(u,f),g=(n.ownerDocument||n).createElement("link"),Et(g);var E=g;return E._p=new Promise(function(b,I){E.onload=b,E.onerror=I}),Jt(g,"link",u),i.state.loading|=4,Uh(g,o.precedence,n),i.instance=g;case"script":return g=To(o.src),(f=n.querySelector(pu(g)))?(i.instance=f,Et(f),f):(u=o,(f=Kn.get(g))&&(u=_({},o),cg(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Et(f),Jt(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Uh(u,o.precedence,n));return i.instance}function Uh(n,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===i)g=b;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function ug(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function cg(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var zh=null;function FE(n,i,o){if(zh===null){var u=new Map,f=zh=new Map;f.set(o,u)}else f=zh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var g=o[f];if(!(g[ws]||g[Nt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(i)||"";E=n+E;var b=u.get(E);b?b.push(g):u.set(E,[g])}}return u}function GE(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function jR(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function HE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var yu=null;function qR(){}function FR(n,i,o){if(yu===null)throw Error(r(475));var u=yu;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Eo(o.href),g=n.querySelector(gu(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=jh.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=g,Et(g);return}g=n.ownerDocument||n,o=jE(o),(f=Kn.get(f))&&ug(o,f),g=g.createElement("link"),Et(g);var E=g;E._p=new Promise(function(b,I){E.onload=b,E.onerror=I}),Jt(g,"link",o),i.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=jh.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function GR(){if(yu===null)throw Error(r(475));var n=yu;return n.stylesheets&&n.count===0&&hg(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&hg(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function jh(){if(this.count--,this.count===0){if(this.stylesheets)hg(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var qh=null;function hg(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,qh=new Map,i.forEach(HR,n),qh=null,jh.call(n))}function HR(n,i){if(!(i.state.loading&4)){var o=qh.get(n);if(o)var u=o.get(null);else{o=new Map,qh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=i.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=jh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var _u={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function KR(n,i,o,u,f,g,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.hiddenUpdates=Vr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function KE(n,i,o,u,f,g,E,b,I,F,J,te){return n=new KR(n,i,o,E,b,I,F,te),i=1,g===!0&&(i|=24),g=Rn(3,null,null,i),n.current=g,g.stateNode=n,i=Kd(),i.refCount++,n.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:i},Xd(g),n}function QE(n){return n?(n=Ja,n):Ja}function YE(n,i,o,u,f,g){f=QE(f),u.context===null?u.context=f:u.pendingContext=f,u=Ri(i),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Ii(n,u,i),o!==null&&(Vn(o,n,i),Yl(o,n,i))}function $E(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function fg(n,i){$E(n,i),(n=n.alternate)&&$E(n,i)}function XE(n){if(n.tag===13){var i=Xa(n,67108864);i!==null&&Vn(i,n,67108864),fg(n,67108864)}}var Fh=!0;function QR(n,i,o,u){var f=X.T;X.T=null;var g=ue.p;try{ue.p=2,dg(n,i,o,u)}finally{ue.p=g,X.T=f}}function YR(n,i,o,u){var f=X.T;X.T=null;var g=ue.p;try{ue.p=8,dg(n,i,o,u)}finally{ue.p=g,X.T=f}}function dg(n,i,o,u){if(Fh){var f=mg(u);if(f===null)eg(n,i,u,Gh,o),ZE(n,u);else if(XR(f,n,i,o,u))u.stopPropagation();else if(ZE(n,u),i&4&&-1<$R.indexOf(n)){for(;f!==null;){var g=ir(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=$n(g.pendingLanes);if(E!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var I=1<<31-tn(E);b.entanglements[1]|=I,E&=~I}_r(g),(Qe&6)===0&&(Ih=On()+500,hu(0))}}break;case 13:b=Xa(g,2),b!==null&&Vn(b,g,2),Dh(),fg(g,2)}if(g=mg(u),g===null&&eg(n,i,u,Gh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else eg(n,i,u,null,o)}}function mg(n){return n=kn(n),gg(n)}var Gh=null;function gg(n){if(Gh=null,n=Mr(n),n!==null){var i=l(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=c(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Gh=n,null}function JE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_d()){case pl:return 2;case Da:return 8;case Es:case vd:return 32;case Ca:return 268435456;default:return 32}default:return 32}}var pg=!1,zi=null,ji=null,qi=null,vu=new Map,Eu=new Map,Fi=[],$R="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZE(n,i){switch(n){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":vu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(i.pointerId)}}function Tu(n,i,o,u,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},i!==null&&(i=ir(i),i!==null&&XE(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function XR(n,i,o,u,f){switch(i){case"focusin":return zi=Tu(zi,n,i,o,u,f),!0;case"dragenter":return ji=Tu(ji,n,i,o,u,f),!0;case"mouseover":return qi=Tu(qi,n,i,o,u,f),!0;case"pointerover":var g=f.pointerId;return vu.set(g,Tu(vu.get(g)||null,n,i,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Eu.set(g,Tu(Eu.get(g)||null,n,i,o,u,f)),!0}return!1}function WE(n){var i=Mr(n.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){n.blockedOn=i,Dc(n.priority,function(){if(o.tag===13){var u=Cn();u=yi(u);var f=Xa(o,u);f!==null&&Vn(f,o,u),fg(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Hh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=mg(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);kr=u,o.target.dispatchEvent(u),kr=null}else return i=ir(o),i!==null&&XE(i),n.blockedOn=o,!1;i.shift()}return!0}function eT(n,i,o){Hh(n)&&o.delete(i)}function JR(){pg=!1,zi!==null&&Hh(zi)&&(zi=null),ji!==null&&Hh(ji)&&(ji=null),qi!==null&&Hh(qi)&&(qi=null),vu.forEach(eT),Eu.forEach(eT)}function Kh(n,i){n.blockedOn===i&&(n.blockedOn=null,pg||(pg=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,JR)))}var Qh=null;function tT(n){Qh!==n&&(Qh=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Qh===n&&(Qh=null);for(var i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(gg(u||o)===null)continue;break}var g=ir(o);g!==null&&(n.splice(i,3),i-=3,gm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function bu(n){function i(I){return Kh(I,n)}zi!==null&&Kh(zi,n),ji!==null&&Kh(ji,n),qi!==null&&Kh(qi,n),vu.forEach(i),Eu.forEach(i);for(var o=0;o<Fi.length;o++){var u=Fi[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Fi.length&&(o=Fi[0],o.blockedOn===null);)WE(o),o.blockedOn===null&&Fi.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[Rt]||null;if(typeof g=="function")E||tT(o);else if(E){var b=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[Rt]||null)b=E.formAction;else if(gg(f)!==null)continue}else b=E.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),tT(o)}}}function yg(n){this._internalRoot=n}Yh.prototype.render=yg.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,u=Cn();YE(o,u,n,i,null,null)},Yh.prototype.unmount=yg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;YE(n.current,2,null,n,null,null),Dh(),i[Pn]=null}};function Yh(n){this._internalRoot=n}Yh.prototype.unstable_scheduleHydration=function(n){if(n){var i=_i();n={blockedOn:null,target:n,priority:i};for(var o=0;o<Fi.length&&i!==0&&i<Fi[o].priority;o++);Fi.splice(o,0,n),o===0&&WE(n)}};var nT=e.version;if(nT!=="19.1.0")throw Error(r(527,nT,"19.1.0"));ue.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=m(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var ZR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{pt=$h.inject(ZR),Ke=$h}catch{}}return Su.createRoot=function(n,i){if(!a(n))throw Error(r(299));var o=!1,u="",f=_v,g=vv,E=Ev,b=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=KE(n,1,!1,null,null,o,u,f,g,E,b,null),n[Pn]=i.current,Wm(n),new yg(i)},Su.hydrateRoot=function(n,i,o){if(!a(n))throw Error(r(299));var u=!1,f="",g=_v,E=vv,b=Ev,I=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),i=KE(n,1,!0,i,o??null,u,f,g,E,b,I,F),i.context=QE(null),o=i.current,u=Cn(),u=yi(u),f=Ri(u),f.callback=null,Ii(o,f,u),o=u,i.current.lanes=o,Nr(i,o),_r(i),n[Pn]=i.current,Wm(n),new Yh(i)},Su.version="19.1.0",Su}var fT;function lI(){if(fT)return Eg.exports;fT=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Eg.exports=oI(),Eg.exports}var uI=lI(),wu={},dT;function cI(){if(dT)return wu;dT=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.parse=c,wu.serialize=p;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function c(A,D){const M=new l,H=A.length;if(H<2)return M;const U=(D==null?void 0:D.decode)||_;let $=0;do{const se=A.indexOf("=",$);if(se===-1)break;const Z=A.indexOf(";",$),me=Z===-1?H:Z;if(se>me){$=A.lastIndexOf(";",se-1)+1;continue}const fe=d(A,$,se),Ee=m(A,se,fe),V=A.slice(fe,Ee);if(M[V]===void 0){let w=d(A,se+1,me),R=m(A,me,w);const P=U(A.slice(w,R));M[V]=P}$=me+1}while($<H);return M}function d(A,D,M){do{const H=A.charCodeAt(D);if(H!==32&&H!==9)return D}while(++D<M);return M}function m(A,D,M){for(;D>M;){const H=A.charCodeAt(--D);if(H!==32&&H!==9)return D+1}return M}function p(A,D,M){const H=(M==null?void 0:M.encode)||encodeURIComponent;if(!s.test(A))throw new TypeError(`argument name is invalid: ${A}`);const U=H(D);if(!e.test(U))throw new TypeError(`argument val is invalid: ${D}`);let $=A+"="+U;if(!M)return $;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);$+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);$+="; Domain="+M.domain}if(M.path){if(!r.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);$+="; Path="+M.path}if(M.expires){if(!T(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);$+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&($+="; HttpOnly"),M.secure&&($+="; Secure"),M.partitioned&&($+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return $}function _(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function T(A){return a.call(A)==="[object Date]"}return wu}cI();var mT="popstate";function hI(s={}){function e(r,a){let{pathname:l,search:c,hash:d}=r.location;return Ug("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Fu(a)}return dI(e,t,null,s)}function dt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function wr(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fI(){return Math.random().toString(36).substring(2,10)}function gT(s,e){return{usr:s.state,key:s.key,idx:e}}function Ug(s,e,t=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?sl(e):e,state:t,key:e&&e.key||r||fI()}}function Fu({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function sl(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function dI(s,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",m=null,p=_();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let U=_(),$=U==null?null:U-p;p=U,m&&m({action:d,location:H.location,delta:$})}function A(U,$){d="PUSH";let se=Ug(H.location,U,$);p=_()+1;let Z=gT(se,p),me=H.createHref(se);try{c.pushState(Z,"",me)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;a.location.assign(me)}l&&m&&m({action:d,location:H.location,delta:1})}function D(U,$){d="REPLACE";let se=Ug(H.location,U,$);p=_();let Z=gT(se,p),me=H.createHref(se);c.replaceState(Z,"",me),l&&m&&m({action:d,location:H.location,delta:0})}function M(U){let $=a.location.origin!=="null"?a.location.origin:a.location.href,se=typeof U=="string"?U:Fu(U);return se=se.replace(/ $/,"%20"),dt($,`No window.location.(origin|href) available to create URL for href: ${se}`),new URL(se,$)}let H={get action(){return d},get location(){return s(a,c)},listen(U){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(mT,T),m=U,()=>{a.removeEventListener(mT,T),m=null}},createHref(U){return e(a,U)},createURL:M,encodeLocation(U){let $=M(U);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:D,go(U){return c.go(U)}};return H}function sb(s,e,t="/"){return mI(s,e,t,!1)}function mI(s,e,t,r){let a=typeof e=="string"?sl(e):e,l=ai(a.pathname||"/",t);if(l==null)return null;let c=ab(s);gI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=RI(l);d=SI(c[m],p,r)}return d}function ab(s,e=[],t=[],r=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(dt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=ii([r,m.relativePath]),_=t.concat(m);l.children&&l.children.length>0&&(dt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),ab(l.children,e,_,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:bI(p,l.index),routesMeta:_})};return s.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of ob(l.path))a(l,c,m)}),e}function ob(s){let e=s.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=ob(r.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>s.startsWith("/")&&m===""?"/":m)}function gI(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:AI(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var pI=/^:[\w-]+$/,yI=3,_I=2,vI=1,EI=10,TI=-2,pT=s=>s==="*";function bI(s,e){let t=s.split("/"),r=t.length;return t.some(pT)&&(r+=TI),e&&(r+=_I),t.filter(a=>!pT(a)).reduce((a,l)=>a+(pI.test(l)?yI:l===""?vI:EI),r)}function AI(s,e){return s.length===e.length&&s.slice(0,-1).every((r,a)=>r===e[a])?s[s.length-1]-e[e.length-1]:0}function SI(s,e,t=!1){let{routesMeta:r}=s,a={},l="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],p=d===r.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=yf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},_),A=m.route;if(!T&&p&&t&&!r[r.length-1].route.index&&(T=yf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:ii([l,T.pathname]),pathnameBase:CI(ii([l,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(l=ii([l,T.pathnameBase]))}return c}function yf(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,r]=wI(s.path,s.caseSensitive,s.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:T},A)=>{if(_==="*"){let M=d[A]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const D=d[A];return T&&!D?p[_]=void 0:p[_]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:s}}function wI(s,e=!1,t=!0){wr(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function RI(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wr(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ai(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=s.charAt(t);return r&&r!=="/"?null:s.slice(t)||"/"}function II(s,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof s=="string"?sl(s):s;return{pathname:t?t.startsWith("/")?t:xI(t,e):e,search:VI(r),hash:NI(a)}}function xI(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Sg(s,e,t,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DI(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function lb(s){let e=DI(s);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function ub(s,e,t,r=!1){let a;typeof s=="string"?a=sl(s):(a={...s},dt(!a.pathname||!a.pathname.includes("?"),Sg("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),Sg("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),Sg("#","search","hash",a)));let l=s===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!r&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),T-=1;a.pathname=A.join("/")}d=T>=0?e[T]:"/"}let m=II(a,d),p=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||_)&&(m.pathname+="/"),m}var ii=s=>s.join("/").replace(/\/\/+/g,"/"),CI=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),VI=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,NI=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function MI(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var cb=["POST","PUT","PATCH","DELETE"];new Set(cb);var OI=["GET",...cb];new Set(OI);var al=ee.createContext(null);al.displayName="DataRouter";var qf=ee.createContext(null);qf.displayName="DataRouterState";var hb=ee.createContext({isTransitioning:!1});hb.displayName="ViewTransition";var PI=ee.createContext(new Map);PI.displayName="Fetchers";var LI=ee.createContext(null);LI.displayName="Await";var Dr=ee.createContext(null);Dr.displayName="Navigation";var uc=ee.createContext(null);uc.displayName="Location";var hi=ee.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var Tp=ee.createContext(null);Tp.displayName="RouteError";function kI(s,{relative:e}={}){dt(cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ee.useContext(Dr),{hash:a,pathname:l,search:c}=hc(s,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ii([t,l])),r.createHref({pathname:d,search:c,hash:a})}function cc(){return ee.useContext(uc)!=null}function Aa(){return dt(cc(),"useLocation() may be used only in the context of a <Router> component."),ee.useContext(uc).location}var fb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function db(s){ee.useContext(Dr).static||ee.useLayoutEffect(s)}function BI(){let{isDataRoute:s}=ee.useContext(hi);return s?JI():UI()}function UI(){dt(cc(),"useNavigate() may be used only in the context of a <Router> component.");let s=ee.useContext(al),{basename:e,navigator:t}=ee.useContext(Dr),{matches:r}=ee.useContext(hi),{pathname:a}=Aa(),l=JSON.stringify(lb(r)),c=ee.useRef(!1);return db(()=>{c.current=!0}),ee.useCallback((m,p={})=>{if(wr(c.current,fb),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=ub(m,JSON.parse(l),a,p.relative==="path");s==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ii([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,l,a,s])}ee.createContext(null);function hc(s,{relative:e}={}){let{matches:t}=ee.useContext(hi),{pathname:r}=Aa(),a=JSON.stringify(lb(t));return ee.useMemo(()=>ub(s,JSON.parse(a),r,e==="path"),[s,a,r,e])}function zI(s,e){return mb(s,e)}function mb(s,e,t,r){var se;dt(cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=ee.useContext(Dr),{matches:c}=ee.useContext(hi),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let Z=T&&T.path||"";gb(p,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let A=Aa(),D;if(e){let Z=typeof e=="string"?sl(e):e;dt(_==="/"||((se=Z.pathname)==null?void 0:se.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),D=Z}else D=A;let M=D.pathname||"/",H=M;if(_!=="/"){let Z=_.replace(/^\//,"").split("/");H="/"+M.replace(/^\//,"").split("/").slice(Z.length).join("/")}let U=!l&&t&&t.matches&&t.matches.length>0?t.matches:sb(s,{pathname:H});wr(T||U!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),wr(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=HI(U&&U.map(Z=>Object.assign({},Z,{params:Object.assign({},m,Z.params),pathname:ii([_,a.encodeLocation?a.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?_:ii([_,a.encodeLocation?a.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),c,t,r);return e&&$?ee.createElement(uc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},$):$}function jI(){let s=XI(),e=MI(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",s),c=ee.createElement(ee.Fragment,null,ee.createElement("p",null," Hey developer "),ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ee.createElement("code",{style:l},"ErrorBoundary")," or"," ",ee.createElement("code",{style:l},"errorElement")," prop on your route.")),ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),t?ee.createElement("pre",{style:a},t):null,c)}var qI=ee.createElement(jI,null),FI=class extends ee.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?ee.createElement(hi.Provider,{value:this.props.routeContext},ee.createElement(Tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GI({routeContext:s,match:e,children:t}){let r=ee.useContext(al);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ee.createElement(hi.Provider,{value:s},t)}function HI(s,e=[],t=null,r=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let a=s,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:_,errors:T}=t,A=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||A){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,_)=>{let T,A=!1,D=null,M=null;t&&(T=l&&p.route.id?l[p.route.id]:void 0,D=p.route.errorElement||qI,c&&(d<0&&_===0?(gb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,M=null):d===_&&(A=!0,M=p.route.hydrateFallbackElement||null)));let H=e.concat(a.slice(0,_+1)),U=()=>{let $;return T?$=D:A?$=M:p.route.Component?$=ee.createElement(p.route.Component,null):p.route.element?$=p.route.element:$=m,ee.createElement(GI,{match:p,routeContext:{outlet:m,matches:H,isDataRoute:t!=null},children:$})};return t&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?ee.createElement(FI,{location:t.location,revalidation:t.revalidation,component:D,error:T,children:U(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):U()},null)}function bp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KI(s){let e=ee.useContext(al);return dt(e,bp(s)),e}function QI(s){let e=ee.useContext(qf);return dt(e,bp(s)),e}function YI(s){let e=ee.useContext(hi);return dt(e,bp(s)),e}function Ap(s){let e=YI(s),t=e.matches[e.matches.length-1];return dt(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function $I(){return Ap("useRouteId")}function XI(){var r;let s=ee.useContext(Tp),e=QI("useRouteError"),t=Ap("useRouteError");return s!==void 0?s:(r=e.errors)==null?void 0:r[t]}function JI(){let{router:s}=KI("useNavigate"),e=Ap("useNavigate"),t=ee.useRef(!1);return db(()=>{t.current=!0}),ee.useCallback(async(a,l={})=>{wr(t.current,fb),t.current&&(typeof a=="number"?s.navigate(a):await s.navigate(a,{fromRouteId:e,...l}))},[s,e])}var yT={};function gb(s,e,t){!e&&!yT[s]&&(yT[s]=!0,wr(!1,t))}ee.memo(ZI);function ZI({routes:s,future:e,state:t}){return mb(s,void 0,t,e)}function xo(s){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WI({basename:s="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){dt(!cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=s.replace(/^\/*/,"/"),d=ee.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=sl(t));let{pathname:m="/",search:p="",hash:_="",state:T=null,key:A="default"}=t,D=ee.useMemo(()=>{let M=ai(m,c);return M==null?null:{location:{pathname:M,search:p,hash:_,state:T,key:A},navigationType:r}},[c,m,p,_,T,A,r]);return wr(D!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:ee.createElement(Dr.Provider,{value:d},ee.createElement(uc.Provider,{children:e,value:D}))}function e1({children:s,location:e}){return zI(zg(s),e)}function zg(s,e=[]){let t=[];return ee.Children.forEach(s,(r,a)=>{if(!ee.isValidElement(r))return;let l=[...e,a];if(r.type===ee.Fragment){t.push.apply(t,zg(r.props.children,l));return}dt(r.type===xo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=zg(r.props.children,l)),t.push(c)}),t}var sf="get",af="application/x-www-form-urlencoded";function Ff(s){return s!=null&&typeof s.tagName=="string"}function t1(s){return Ff(s)&&s.tagName.toLowerCase()==="button"}function n1(s){return Ff(s)&&s.tagName.toLowerCase()==="form"}function r1(s){return Ff(s)&&s.tagName.toLowerCase()==="input"}function i1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function s1(s,e){return s.button===0&&(!e||e==="_self")&&!i1(s)}var Xh=null;function a1(){if(Xh===null)try{new FormData(document.createElement("form"),0),Xh=!1}catch{Xh=!0}return Xh}var o1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wg(s){return s!=null&&!o1.has(s)?(wr(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${af}"`),null):s}function l1(s,e){let t,r,a,l,c;if(n1(s)){let d=s.getAttribute("action");r=d?ai(d,e):null,t=s.getAttribute("method")||sf,a=wg(s.getAttribute("enctype"))||af,l=new FormData(s)}else if(t1(s)||r1(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||d.getAttribute("action");if(r=m?ai(m,e):null,t=s.getAttribute("formmethod")||d.getAttribute("method")||sf,a=wg(s.getAttribute("formenctype"))||wg(d.getAttribute("enctype"))||af,l=new FormData(d,s),!a1()){let{name:p,type:_,value:T}=s;if(_==="image"){let A=p?`${p}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else p&&l.append(p,T)}}else{if(Ff(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sf,r=null,a=af,c=s}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Sp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function u1(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function c1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function h1(s,e,t){let r=await Promise.all(s.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await u1(l,t);return c.links?c.links():[]}return[]}));return g1(r.flat(1).filter(c1).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function _T(s,e,t,r,a,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,d=(m,p)=>{var _;return t[p].pathname!==m.pathname||((_=t[p].route.path)==null?void 0:_.endsWith("*"))&&t[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{var T;let _=r.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let A=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function f1(s,e,{includeHydrateFallback:t}={}){return d1(s.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function d1(s){return[...new Set(s)]}function m1(s){let e={},t=Object.keys(s).sort();for(let r of t)e[r]=s[r];return e}function g1(s,e){let t=new Set;return new Set(e),s.reduce((r,a)=>{let l=JSON.stringify(m1(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}var p1=new Set([100,101,204,205]);function y1(s,e){let t=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t.pathname==="/"?t.pathname="_root.data":e&&ai(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function pb(){let s=ee.useContext(al);return Sp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function _1(){let s=ee.useContext(qf);return Sp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var wp=ee.createContext(void 0);wp.displayName="FrameworkContext";function yb(){let s=ee.useContext(wp);return Sp(s,"You must render this element inside a <HydratedRouter> element"),s}function v1(s,e){let t=ee.useContext(wp),[r,a]=ee.useState(!1),[l,c]=ee.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:_,onTouchStart:T}=e,A=ee.useRef(null);ee.useEffect(()=>{if(s==="render"&&c(!0),s==="viewport"){let H=$=>{$.forEach(se=>{c(se.isIntersecting)})},U=new IntersectionObserver(H,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[s]),ee.useEffect(()=>{if(r){let H=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(H)}}},[r]);let D=()=>{a(!0)},M=()=>{a(!1),c(!1)};return t?s!=="intent"?[l,A,{}]:[l,A,{onFocus:Ru(d,D),onBlur:Ru(m,M),onMouseEnter:Ru(p,D),onMouseLeave:Ru(_,M),onTouchStart:Ru(T,D)}]:[!1,A,{}]}function Ru(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function E1({page:s,...e}){let{router:t}=pb(),r=ee.useMemo(()=>sb(t.routes,s,t.basename),[t.routes,s,t.basename]);return r?ee.createElement(b1,{page:s,matches:r,...e}):null}function T1(s){let{manifest:e,routeModules:t}=yb(),[r,a]=ee.useState([]);return ee.useEffect(()=>{let l=!1;return h1(s,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[s,e,t]),r}function b1({page:s,matches:e,...t}){let r=Aa(),{manifest:a,routeModules:l}=yb(),{basename:c}=pb(),{loaderData:d,matches:m}=_1(),p=ee.useMemo(()=>_T(s,e,m,a,r,"data"),[s,e,m,a,r]),_=ee.useMemo(()=>_T(s,e,m,a,r,"assets"),[s,e,m,a,r]),T=ee.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let M=new Set,H=!1;if(e.forEach($=>{var Z;let se=a.routes[$.route.id];!se||!se.hasLoader||(!p.some(me=>me.route.id===$.route.id)&&$.route.id in d&&((Z=l[$.route.id])!=null&&Z.shouldRevalidate)||se.hasClientLoader?H=!0:M.add($.route.id))}),M.size===0)return[];let U=y1(s,c);return H&&M.size>0&&U.searchParams.set("_routes",e.filter($=>M.has($.route.id)).map($=>$.route.id).join(",")),[U.pathname+U.search]},[c,d,r,a,p,e,s,l]),A=ee.useMemo(()=>f1(_,a),[_,a]),D=T1(_);return ee.createElement(ee.Fragment,null,T.map(M=>ee.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),A.map(M=>ee.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),D.map(({key:M,link:H})=>ee.createElement("link",{key:M,...H})))}function A1(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var _b=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_b&&(window.__reactRouterVersion="7.5.3")}catch{}function S1({basename:s,children:e,window:t}){let r=ee.useRef();r.current==null&&(r.current=hI({window:t,v5Compat:!0}));let a=r.current,[l,c]=ee.useState({action:a.action,location:a.location}),d=ee.useCallback(m=>{ee.startTransition(()=>c(m))},[c]);return ee.useLayoutEffect(()=>a.listen(d),[a,d]),ee.createElement(WI,{basename:s,children:e,location:l.location,navigationType:l.action,navigator:a})}var vb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eb=ee.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:_,viewTransition:T,...A},D){let{basename:M}=ee.useContext(Dr),H=typeof p=="string"&&vb.test(p),U,$=!1;if(typeof p=="string"&&H&&(U=p,_b))try{let R=new URL(window.location.href),P=p.startsWith("//")?new URL(R.protocol+p):new URL(p),L=ai(P.pathname,M);P.origin===R.origin&&L!=null?p=L+P.search+P.hash:$=!0}catch{wr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=kI(p,{relative:a}),[Z,me,fe]=v1(r,A),Ee=I1(p,{replace:c,state:d,target:m,preventScrollReset:_,relative:a,viewTransition:T});function V(R){e&&e(R),R.defaultPrevented||Ee(R)}let w=ee.createElement("a",{...A,...fe,href:U||se,onClick:$||l?e:V,ref:A1(D,me),target:m,"data-discover":!H&&t==="render"?"true":void 0});return Z&&!H?ee.createElement(ee.Fragment,null,w,ee.createElement(E1,{page:se})):w});Eb.displayName="Link";var jg=ee.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},_){let T=hc(c,{relative:p.relative}),A=Aa(),D=ee.useContext(qf),{navigator:M,basename:H}=ee.useContext(Dr),U=D!=null&&N1(T)&&d===!0,$=M.encodeLocation?M.encodeLocation(T).pathname:T.pathname,se=A.pathname,Z=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(se=se.toLowerCase(),Z=Z?Z.toLowerCase():null,$=$.toLowerCase()),Z&&H&&(Z=ai(Z,H)||Z);const me=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let fe=se===$||!a&&se.startsWith($)&&se.charAt(me)==="/",Ee=Z!=null&&(Z===$||!a&&Z.startsWith($)&&Z.charAt($.length)==="/"),V={isActive:fe,isPending:Ee,isTransitioning:U},w=fe?e:void 0,R;typeof r=="function"?R=r(V):R=[r,fe?"active":null,Ee?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(V):l;return ee.createElement(Eb,{...p,"aria-current":w,className:R,ref:_,style:P,to:c,viewTransition:d},typeof m=="function"?m(V):m)});jg.displayName="NavLink";var w1=ee.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=sf,action:d,onSubmit:m,relative:p,preventScrollReset:_,viewTransition:T,...A},D)=>{let M=C1(),H=V1(d,{relative:p}),U=c.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&vb.test(d),se=Z=>{if(m&&m(Z),Z.defaultPrevented)return;Z.preventDefault();let me=Z.nativeEvent.submitter,fe=(me==null?void 0:me.getAttribute("formmethod"))||c;M(me||Z.currentTarget,{fetcherKey:e,method:fe,navigate:t,replace:a,state:l,relative:p,preventScrollReset:_,viewTransition:T})};return ee.createElement("form",{ref:D,method:U,action:H,onSubmit:r?m:se,...A,"data-discover":!$&&s==="render"?"true":void 0})});w1.displayName="Form";function R1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tb(s){let e=ee.useContext(al);return dt(e,R1(s)),e}function I1(s,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=BI(),m=Aa(),p=hc(s,{relative:l});return ee.useCallback(_=>{if(s1(_,e)){_.preventDefault();let T=t!==void 0?t:Fu(m)===Fu(p);d(s,{replace:T,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,t,r,e,s,a,l,c])}var x1=0,D1=()=>`__${String(++x1)}__`;function C1(){let{router:s}=Tb("useSubmit"),{basename:e}=ee.useContext(Dr),t=$I();return ee.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=l1(r,e);if(a.navigate===!1){let _=a.fetcherKey||D1();await s.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await s.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[s,e,t])}function V1(s,{relative:e}={}){let{basename:t}=ee.useContext(Dr),r=ee.useContext(hi);dt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...hc(s||".",{relative:e})},c=Aa();if(s==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!s||s===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ii([t,l.pathname])),Fu(l)}function N1(s,e={}){let t=ee.useContext(hb);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Tb("useViewTransitionState"),a=hc(s,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ai(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=ai(t.nextLocation.pathname,r)||t.nextLocation.pathname;return yf(a.pathname,c)!=null||yf(a.pathname,l)!=null}new TextEncoder;[...p1];const M1="https://xipeRafa.github.io/notassueltas/assets/rc1-CHY_KE40.png";function O1(){return x.jsxs("footer",{children:["CONTACTO:",x.jsx("br",{}),"ifo  ",x.jsx("span",{children:" 662 111 1111"}),x.jsx("br",{}),x.jsx("hr",{}),"correo@gmail.com ",x.jsx("br",{}),x.jsx("br",{}),x.jsx("a",{href:"",target:"_blank",children:"FACEBOOK "}),x.jsx("hr",{}),"Horario: ",x.jsx("br",{}),"Lunes a Viernes de 8 am a 8 pm ",x.jsx("br",{}),"Sabados de 8 am a 4 pm",x.jsx("br",{}),x.jsx("hr",{}),"hello!!!",x.jsx("br",{}),"Hermosillo, Sonora ",x.jsx("br",{})]})}function P1(){const[s,e]=ee.useState(!0),t=window.innerWidth,r=()=>{t<999&&e(!0)};return x.jsxs("div",{className:"navBar",children:[x.jsxs("div",{onClick:()=>e(!s),className:"hamburger",children:[x.jsxs("div",{className:"menu-bar",children:[x.jsx("div",{className:"uno"}),x.jsx("div",{className:"dos"}),x.jsx("div",{className:"tres"})]}),x.jsx("span",{className:"menuX",children:s?"MENU":""})]}),x.jsxs("div",{className:s?"menu ":"menu display",onClick:r,children:[x.jsx(jg,{to:"/notassueltas",onClick:()=>window.scrollTo(0,0),children:" Inicio "}),x.jsx(jg,{to:"/notassueltas/CENACULOS",onClick:()=>window.scrollTo(0,0),children:" holis "})]})]})}const L1="https://xipeRafa.github.io/notassueltas/assets/3-Cfv6L4eV.png",k1="https://xipeRafa.github.io/notassueltas/assets/1-D8c8AK5Z.webp",B1="https://xipeRafa.github.io/notassueltas/assets/2-CR4aUqwq.webp",U1="https://xipeRafa.github.io/notassueltas/assets/3-D5YeKDRP.webp";function z1(){const[s,e]=ee.useState(!0),[t,r]=ee.useState(1);return x.jsxs(x.Fragment,{children:[s?x.jsxs("p",{className:"servicios1",children:[x.jsx("h4",{children:"Porque Consagrarse a Jess a travs de Mara?"}),"La esencia de esta Consagracin es realizar la Renovacin personal y consciente de nuestros compromisos Bautismales, ",x.jsx("br",{}),"que es la consagracin por excelencia. Todo bautizado ha sido elegido por Dios para ser sus hijos por medio de la gracia, ",x.jsx("br",{}),"debido a la redencin de Cristo, en el Concilio Vaticano II, en la Constitucin Lumen Gentium, Numeral 10, se nos dice que:",x.jsx("br",{}),x.jsx("b",{children:"Nosotros Hemos Sido Consagrados por el Bautismo, Regenerados por la Gracia"}),x.jsx("br",{})," ",x.jsx("br",{}),"Luego entonces la consagracin...",x.jsx("p",{className:s?"leerMas":"d-none",onClick:()=>e(!s),children:"Leer Mas.."})]}):x.jsxs("p",{className:"servicios1",children:["La esencia de esta Consagracin es realizar la Renovacin personal y consciente de nuestros compromisos Bautismales, ",x.jsx("br",{}),"que es la consagracin por excelencia. Todo bautizado ha sido elegido por Dios para ser sus hijos por medio de la gracia, ",x.jsx("br",{}),"debido a la redencin de Cristo, en el Concilio Vaticano II, en la Constitucin Lumen Gentium, Numeral 10, se nos dice que:",x.jsx("br",{}),x.jsx("b",{children:"Nosotros Hemos Sido Consagrados por el Bautismo, Regenerados por la Gracia"}),x.jsx("br",{})," ",x.jsx("br",{}),"Luego entonces la consagracin en s misma es la renovacin de los compromisos Bautismales y esto significa que esta ",x.jsx("br",{}),"consagracin no es que te aada compromisos por el hecho de consagrarte a Jess por Mara; si no que ms bien te ayuda a ",x.jsx("br",{}),"vivirlos de una manera ms consciente y adecuada, pues los compromisos ya los tenemos solo por el hecho de ser Bautizados.",x.jsx("br",{}),"A lo que esta consagracin te lleva es, ms bien a darnos cuenta, tener la conciencia, las herramientas y los elementos para",x.jsx("br",{}),"poder vivir adecuadamente estos compromisos bautismales.",x.jsx("br",{}),x.jsx("br",{}),"Consagrarse = Renovar nuestros compromisos Bautismales buscando ser coherentes en nuestras vidas como bautizados.",x.jsx("br",{}),"San Luis Mara Grignion de Monfort en su libro el Tratado de la verdadera Devocin, que es el libro base para realizar ",x.jsx("br",{}),"este proceso de preparacin de esta consagracin, nos establece con toda claridad que esta consagracin tiene como ",x.jsx("br",{}),"fundamento el bautismo ",x.jsx("br",{}),x.jsx("br",{}),"Numeral 120... La Perfecta Consagracin a Jesucristo; es por lo mismo una Perfecta y ",x.jsx("br",{}),"total Consagracin de s Mismo a la Santsima Virgen Mara.",x.jsx("br",{}),x.jsx("p",{className:s?"d-none":"leerMas",onClick:()=>{e(!s),window.scrollTo(0,0)},children:"Leer Menos.."})]}),x.jsx("hr",{}),x.jsx("img",{className:"g4",src:L1}),x.jsx("div",{className:t!==1?"d-none":"servicioLabel",children:"Imagen 1"}),x.jsx("div",{className:t!==2?"d-none":"servicioLabel",children:"Imagen 2"}),x.jsx("div",{className:t!==3?"d-none":"servicioLabel",children:"Imagen 3"}),x.jsxs("div",{className:"gallery",children:[x.jsx("button",{onClick:()=>{t>1&&r(t-1)},children:" "}),x.jsx("img",{className:t!==1?"d-none":"",src:k1}),x.jsx("img",{className:t!==2?"d-none":"",src:B1}),x.jsx("img",{className:t!==3?"d-none":"",src:U1}),x.jsx("button",{onClick:()=>{t<3?r(t+1):r(1)},children:"  "})]}),x.jsxs("div",{className:"barras",children:[x.jsx("div",{className:t!==1?"claro":"oscuro"}),x.jsx("div",{className:t!==2?"claro":"oscuro"}),x.jsx("div",{className:t!==3?"claro":"oscuro"})]})]})}const j1="https://xipeRafa.github.io/notassueltas/assets/mom-C6ZqROTu.webp",q1="https://xipeRafa.github.io/notassueltas/assets/large-CnfOGzzs.webp";function F1(){return x.jsx(x.Fragment,{children:x.jsxs("header",{children:[x.jsx("h2",{children:"NOTAS SUELTAS"}),x.jsx("span",{children:"* NS *"}),x.jsx("br",{}),x.jsx("br",{}),x.jsx("p",{children:"Ready to Build !!"}),x.jsxs("div",{className:"sombra imgsHeader",children:[x.jsx("img",{className:"imgsHeader1",src:q1}),x.jsx("img",{className:"imgsHeader2",src:j1})]}),x.jsx("br",{}),x.jsx("p",{children:'"La vida es muy peligrosa. No por las personas que hacen el mal, sino por las que se sientan a ver lo que pasa". Albert Einstein.'}),x.jsx("p",{children:'"Cuando las oportunidades no llamen a tu puerta, construye una". Milton Berle.'}),x.jsx("p",{children:'"La vida es un viaje de autodescubrimiento, atrvete a explorar". Anas Nin.'}),x.jsx("p",{children:'La vida es la constante sorpresa de saber que existo". R. Tagore.'})]})})}function G1(){const[s,e]=ee.useState("1"),[t,r]=ee.useState("5");return x.jsxs(x.Fragment,{children:[x.jsx("h4",{className:"t1",children:"Qu tiene de Especial esta Consagracin?"}),x.jsxs("p",{className:"texto1",children:["Es la nica recomendada por los papas.",x.jsx("br",{})," (Numeral 48 Redentoris Mater). Por lo que como Movimiento Laical y/o grupo somos tambin difusores de una consagracin",x.jsx("br",{}),"que ya es patrimonio de nuestra Iglesia catlica Universal,",x.jsx("br",{}),"San Juan Pablo Segundo fue Canonizado viviendo esta espiritualidad",x.jsx("br",{}),"y digamos que la espiritualidad que logro la Santidad de San Juan Pablo II, ",x.jsx("br",{}),"fue precisamente esta consagracin Total a Jess Por Medio de Mara,",x.jsx("br",{}),"de ah el lema apostlico de su papado Totus Tuus Mara (Todo tuyo Mara)",x.jsx("br",{}),x.jsx("br",{}),"Aunque existen varias y diferentes consagraciones, quizs unas de carcter ms devocional, est, la de San Luis nos",x.jsx("br",{}),"lleva especialmente a eso, a la necesidad de la Renovacin de los compromisos Bautismales, por lo que para ello",x.jsx("br",{}),"debemos estar dispuestos a renunciar al mundo, al demonio y a la carne y efectivamente a renunciar a la ",x.jsx("br",{}),"vida de pecado para entregarnos a Jesucristo. Sin embargo, esta consagracin de Monfort propone un itinerario",x.jsx("br",{}),"para realizarla y no solo nos dice, renunciar a esta vida de pecado; sino que le dice, Venga que yo lo voy a acompaar",x.jsx("br",{}),"durante el proceso para que usted pueda hacer estas renuncias y esta entrega a Jesucristo y propone el periodo de 33 das ",x.jsx("br",{}),"para realizar dicho proceso de consagracin.",x.jsx("br",{}),x.jsx("br",{}),"Otra caracterstica propia de esta devocin, es que cuenta con un proceso de preparacin serio,",x.jsx("br",{}),"el mismo San Luis Mara Grignion de Monfort dice en su libro del Tratado de la verdadera Devocin",x.jsx("br",{}),"(libro en el cual se basa toda la consagracin) en sus numerales 227 al 230, lo siguiente : quienes deseen abrazar",x.jsx("br",{}),"esta devocin particular, dedicaran 12 das para vaciarse del espritu del mundo, donde trabajaremos ese espritu mundano",x.jsx("br",{}),"que es contrario al de Jesucristo y 3 semanas para llenarse de Jesucristo por medio de la Santsima Virgen Mara, ",x.jsx("br",{}),"entonces son 12 das donde trabajaremos en ese espritu mundano donde es todo lo opuesto al Espritu de Jesucristo.",x.jsx("br",{})]}),x.jsx("h4",{className:"t1",children:"Caractersticas de esta Consagracin"}),x.jsx("hr",{}),x.jsxs("div",{className:"buttonsContainer",children:[x.jsx("button",{className:s==="1"?"bg-dark":"bg-ligth",onClick:()=>e("1"),children:"1"}),x.jsx("button",{className:s==="2"?"bg-dark":"bg-ligth",onClick:()=>e("2"),children:"2"}),x.jsx("button",{className:s==="3"?"bg-dark":"bg-ligth",onClick:()=>e("3"),children:"3"})]}),x.jsx("div",{className:s!=="1"?"d-none":"displayX",children:x.jsx("div",{children:x.jsx("h3",{children:"1.- Consagracion Monfortiana es la renovacin de los compromisos bautismales, distinto a una simple devocin."})})}),x.jsx("div",{className:s!=="2"?"d-none":"displayX",children:x.jsx("div",{children:x.jsx("h3",{children:"2.- Esta recomendada por los papas y es ya patrimonio de nuestra Iglesia catlica Universal."})})}),x.jsx("div",{className:s!=="3"?"d-none":"displayX",children:x.jsx("div",{children:x.jsx("h3",{children:"3.- Exije una seria preparacin."})})}),x.jsx("h4",{className:"t1",children:"JxM"}),x.jsxs("div",{className:"inicioContainer",children:[x.jsx("div",{className:"titulo",children:x.jsx("h2",{children:"Caractersticas de esta Consagracin"})}),x.jsxs("div",{className:"buttonsContainer",children:[x.jsx("button",{className:s==="4"?"bg-dark":"bg-ligth",onClick:()=>r("4"),children:"4"}),x.jsx("button",{className:s==="5"?"bg-dark":"bg-ligth",onClick:()=>r("5"),children:"5"}),x.jsx("button",{className:s==="6"?"bg-dark":"bg-ligth",onClick:()=>r("6"),children:"6"})]}),x.jsx("div",{className:t!=="4"?"d-none":"displayX",children:x.jsx("div",{children:x.jsxs("h3",{children:["4.- Es Cristocntrica, Mara no es el centro, Cristo es el centro, lo que pasa es que all donde esta Cristo esta Mara, y Mara esta en el corazn de Cristo y por eso es imposible separarlos. Por tanto, si establecemos la solida devocin a la Santsima Virgen, es solo para establecer mas perfectamente la de Jesucristo y ofrecer un medio Fcil y Seguro para encontrar al Seor, Si la devocin a la Santsima Virgen nos apartase de Jesucristo,",x.jsx("br",{}),"habra que rechazarla como ilusin diablica, pero como ya se ha demostrado, sucede todo lo contrario, esta devocin nos es necesaria para hallar perfectamente a Jesucristo y amarlo con ternura y servirlo con fidelidad.",x.jsx("br",{}),"Entonces Cristo es el Centro, pero cuando nos enamoramos de la Virgen ella, solo sabe sealarnos a Cristo, cuando nos entregamos a Mara, ella lo nico que sabe hacer es llevarnos en sus brazos hasta su hijo. Como dice San Luis Mara Grignion de Montfort:",x.jsx("br",{}),"Mara es como el rio que siempre llega al mar, que es Cristo",x.jsx("br",{}),"Si yo digo Mara, ella dice Jess. ",x.jsx("br",{}),'"Hagan lo que l les diga" (Jn 2,1-12)']})})}),x.jsx("div",{className:t!=="5"?"d-none":"displayX",children:x.jsx("div",{children:x.jsxs("h3",{children:["5.- Totalidad de la entrega. Esta consagracin exige que entreguemos todo a Jess por Mara; no significa que tenemos que ser sacerdotes, ni ser religiosas, ni significa que tendremos que cambiar nuestro Estado de vida; No, lo nico que significa es que vamos a asumir de verdad esto",x.jsx("br",{}),"que asumimos en el bautismo, o que dijeron nuestros padrinos en el bautismo por nosotros, le pertenecemos completamente a Cristo. Entonces en la consagracin San Luis Mara Grignion de Monfort nos dice que: hemos de entregarle a la Santsima Virgen Mara y por medio de ella a Jess; nuestro cuerpo, nuestra alma, nuestros bienes interiores, nuestros bienes exteriores, ",x.jsx("br",{}),"todo cuanto tenemos y todo cuanto tendremos, de manera que uno se consagra y le dice al Seor, todo es tuyo, encrgate tu, yo voy a seguir administrando los bienes, que tengo pero ya s que no me pertenecen, ya s que los voy a utilizar para extender el reino y voy a dejar de pensar simplemente en mi egosmo, y voy a empezar a pensar en la extensin del Reino, por eso es tan bella esta Consagracin."]})})}),x.jsx("div",{className:t!=="6"?"d-none":"displayX",children:x.jsx("div",{children:x.jsxs("h3",{children:["6.- Unin con Jess y con Mara - Nos lleva a vivir estrechamente unido a Jess por medio de Mara, en eso consiste finalmente la santidad. La Santidad consiste en unirnos a Jess, y por esta ocasin lo vamos a hacer por medio de Mara, y porque por medio de Mara?, porque no ha habido creatura que haya estado tan ms estrechamente unida a Dios. ",x.jsx("br",{}),x.jsx("br",{}),"Hija del padre de una manera del todo predilecta, porque el padre la escogi para encarnar a su Divino hijo en sus entraas. Madre del Hijo, quien puede decir que es madre de Dios?, la santsima Virgen es la nica creatura que puede decir, ",x.jsx("br",{}),x.jsx("br",{}),"que es madre de Dios. Ella encarno en sus entraas al Verbo Eterno del Padre. Esposa del Espritu Santo, titulo devocional y metafrico, dado por varios a santos... el Espritu Santo descendi sobre Ella. Por medio de Ella es la manera ms fcil, corta y segura de llegar a Jess."]})})})]})]})}const H1=()=>{};var vT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=function(s){const e=[];let t=0;for(let r=0;r<s.length;r++){let a=s.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},K1=function(s){const e=[];let t=0,r=0;for(;t<s.length;){const a=s[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=s[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=s[t++],c=s[t++],d=s[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=s[t++],c=s[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Ab={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<s.length;a+=3){const l=s[a],c=a+1<s.length,d=c?s[a+1]:0,m=a+2<s.length,p=m?s[a+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let A=(d&15)<<2|p>>6,D=p&63;m||(D=64,c||(A=64)),r.push(t[_],t[T],t[A],t[D])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(bb(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):K1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<s.length;){const l=t[s.charAt(a++)],d=a<s.length?t[s.charAt(a)]:0;++a;const p=a<s.length?t[s.charAt(a)]:64;++a;const T=a<s.length?t[s.charAt(a)]:64;if(++a,l==null||d==null||p==null||T==null)throw new Q1;const A=l<<2|d>>4;if(r.push(A),p!==64){const D=d<<4&240|p>>2;if(r.push(D),T!==64){const M=p<<6&192|T;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Q1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y1=function(s){const e=bb(s);return Ab.encodeByteArray(e,!0)},_f=function(s){return Y1(s).replace(/\./g,"")},Sb=function(s){try{return Ab.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vf(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!$1(t)||(s[t]=vf(s[t],e[t]));return s}function $1(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=()=>Rp().__FIREBASE_DEFAULTS__,J1=()=>{if(typeof process>"u"||typeof vT>"u")return;const s=vT.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Z1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Sb(s[1]);return e&&JSON.parse(e)},Ip=()=>{try{return H1()||X1()||J1()||Z1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},W1=s=>{var e,t;return(t=(e=Ip())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[s]},ex=s=>{const e=W1(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},wb=()=>{var s;return(s=Ip())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=s.iat||0,l=s.sub||s.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},s);return[_f(JSON.stringify(t)),_f(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rx(){var s;const e=(s=Ip())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ix(){return typeof window<"u"||Rb()}function Rb(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Ib(){return!rx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xb(){try{return typeof indexedDB=="object"}catch{return!1}}function sx(){return new Promise((s,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),s(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="FirebaseError";class Sa extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ax,Object.setPrototypeOf(this,Sa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gf.prototype.create)}}class Gf{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?ox(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Sa(a,d,r)}}function ox(s,e){return s.replace(lx,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const lx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function Lo(s,e){if(s===e)return!0;const t=Object.keys(s),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=s[a],c=e[a];if(TT(l)&&TT(c)){if(!Lo(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function TT(s){return s!==null&&typeof s=="object"}function ux(s,e){const t=new cx(s,e);return t.subscribe.bind(t)}class cx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");hx(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Rg),a.error===void 0&&(a.error=Rg),a.complete===void 0&&(a.complete=Rg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hx(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function Rg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(s){return s&&s._delegate?s._delegate:s}class da{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new tx;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mx(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dx(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dx(s){return s===ta?void 0:s}function mx(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=[];var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const Cb={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},gx=Le.INFO,px={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},yx=(s,e,...t)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),a=px[e];if(a)console[a](`[${r}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dp{constructor(e){this.name=e,this._logLevel=gx,this._logHandler=yx,this._userLogHandler=null,xp.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}function _x(s){xp.forEach(e=>{e.setLogLevel(s)})}function vx(s,e){for(const t of xp){let r=null;e&&e.level&&(r=Cb[e.level]),s===null?t.userLogHandler=null:t.userLogHandler=(a,l,...c)=>{const d=c.map(m=>{if(m==null)return null;if(typeof m=="string")return m;if(typeof m=="number"||typeof m=="boolean")return m.toString();if(m instanceof Error)return m.message;try{return JSON.stringify(m)}catch{return null}}).filter(m=>m).join(" ");l>=(r??a.logLevel)&&s({level:Le[l].toLowerCase(),message:d,args:c,type:a.name})}}}const Ex=(s,e)=>e.some(t=>s instanceof t);let bT,AT;function Tx(){return bT||(bT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bx(){return AT||(AT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vb=new WeakMap,qg=new WeakMap,Nb=new WeakMap,Ig=new WeakMap,Cp=new WeakMap;function Ax(s){const e=new Promise((t,r)=>{const a=()=>{s.removeEventListener("success",l),s.removeEventListener("error",c)},l=()=>{t(Ji(s.result)),a()},c=()=>{r(s.error),a()};s.addEventListener("success",l),s.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Vb.set(t,s)}).catch(()=>{}),Cp.set(e,s),e}function Sx(s){if(qg.has(s))return;const e=new Promise((t,r)=>{const a=()=>{s.removeEventListener("complete",l),s.removeEventListener("error",c),s.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",l),s.addEventListener("error",c),s.addEventListener("abort",c)});qg.set(s,e)}let Fg={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return qg.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Nb.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ji(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function wx(s){Fg=s(Fg)}function Rx(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=s.call(xg(this),e,...t);return Nb.set(r,e.sort?e.sort():[e]),Ji(r)}:bx().includes(s)?function(...e){return s.apply(xg(this),e),Ji(Vb.get(this))}:function(...e){return Ji(s.apply(xg(this),e))}}function Ix(s){return typeof s=="function"?Rx(s):(s instanceof IDBTransaction&&Sx(s),Ex(s,Tx())?new Proxy(s,Fg):s)}function Ji(s){if(s instanceof IDBRequest)return Ax(s);if(Ig.has(s))return Ig.get(s);const e=Ix(s);return e!==s&&(Ig.set(s,e),Cp.set(e,s)),e}const xg=s=>Cp.get(s);function xx(s,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(s,e),d=Ji(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Ji(c.result),m.oldVersion,m.newVersion,Ji(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const Dx=["get","getKey","getAll","getAllKeys","count"],Cx=["put","add","delete","clear"],Dg=new Map;function ST(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Dg.get(e))return Dg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=Cx.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Dx.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&m.done]))[0]};return Dg.set(e,l),l}wx(s=>({...s,get:(e,t,r)=>ST(e,t)||s.get(e,t,r),has:(e,t)=>!!ST(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Nx(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Nx(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tf="@firebase/app",Gg="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Dp("@firebase/app"),Mx="@firebase/app-compat",Ox="@firebase/analytics-compat",Px="@firebase/analytics",Lx="@firebase/app-check-compat",kx="@firebase/app-check",Bx="@firebase/auth",Ux="@firebase/auth-compat",zx="@firebase/database",jx="@firebase/data-connect",qx="@firebase/database-compat",Fx="@firebase/functions",Gx="@firebase/functions-compat",Hx="@firebase/installations",Kx="@firebase/installations-compat",Qx="@firebase/messaging",Yx="@firebase/messaging-compat",$x="@firebase/performance",Xx="@firebase/performance-compat",Jx="@firebase/remote-config",Zx="@firebase/remote-config-compat",Wx="@firebase/storage",eD="@firebase/storage-compat",tD="@firebase/firestore",nD="@firebase/vertexai",rD="@firebase/firestore-compat",iD="firebase",sD="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="[DEFAULT]",aD={[Tf]:"fire-core",[Mx]:"fire-core-compat",[Px]:"fire-analytics",[Ox]:"fire-analytics-compat",[kx]:"fire-app-check",[Lx]:"fire-app-check-compat",[Bx]:"fire-auth",[Ux]:"fire-auth-compat",[zx]:"fire-rtdb",[jx]:"fire-data-connect",[qx]:"fire-rtdb-compat",[Fx]:"fire-fn",[Gx]:"fire-fn-compat",[Hx]:"fire-iid",[Kx]:"fire-iid-compat",[Qx]:"fire-fcm",[Yx]:"fire-fcm-compat",[$x]:"fire-perf",[Xx]:"fire-perf-compat",[Jx]:"fire-rc",[Zx]:"fire-rc-compat",[Wx]:"fire-gcs",[eD]:"fire-gcs-compat",[tD]:"fire-fst",[rD]:"fire-fst-compat",[nD]:"fire-vertex","fire-js":"fire-js",[iD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Map,ko=new Map,Bo=new Map;function Gu(s,e){try{s.container.addComponent(e)}catch(t){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function Mb(s,e){s.container.addOrOverwriteComponent(e)}function Uo(s){const e=s.name;if(Bo.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;Bo.set(e,s);for(const t of ns.values())Gu(t,s);for(const t of ko.values())Gu(t,s);return!0}function Vp(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function oD(s,e,t=ts){Vp(s,e).clearInstance(t)}function Ob(s){return s.options!==void 0}function Pb(s){return s==null?!1:s.settings!==void 0}function lD(){Bo.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yn=new Gf("app","Firebase",uD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lb=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(s,e){const t=Sb(s.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const a=JSON.parse(t).exp*1e3,l=new Date().getTime();a-l<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class cD extends Lb{constructor(e,t,r,a){const l=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,c={name:r,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,c,a);else{const d=e;super(d.options,c,a)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:l},t),this._serverConfig.authIdToken&&wT(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&wT(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,si(Tf,Gg,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Op(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Yn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=sD;function Mp(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ts,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Yn.create("bad-app-name",{appName:String(a)});if(t||(t=wb()),!t)throw Yn.create("no-options");const l=ns.get(a);if(l){if(Lo(t,l.options)&&Lo(r,l.config))return l;throw Yn.create("duplicate-app",{appName:a})}const c=new Db(a);for(const m of Bo.values())c.addComponent(m);const d=new Lb(t,r,c);return ns.set(a,d),d}function hD(s,e){if(ix()&&!Rb())throw Yn.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;Ob(s)?t=s.options:t=s;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const a=p=>[...p].reduce((_,T)=>Math.imul(31,_)+T.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Yn.create("finalization-registry-not-supported",{});const l=""+a(JSON.stringify(r)),c=ko.get(l);if(c)return c.incRefCount(e.releaseOnDeref),c;const d=new Db(l);for(const p of Bo.values())d.addComponent(p);const m=new cD(t,e,l,d);return ko.set(l,m),m}function kb(s=ts){const e=ns.get(s);if(!e&&s===ts&&wb())return Mp();if(!e)throw Yn.create("no-app",{appName:s});return e}function fD(){return Array.from(ns.values())}async function Op(s){let e=!1;const t=s.name;ns.has(t)?(e=!0,ns.delete(t)):ko.has(t)&&s.decRefCount()<=0&&(ko.delete(t),e=!0),e&&(await Promise.all(s.container.getProviders().map(r=>r.delete())),s.isDeleted=!0)}function si(s,e,t){var r;let a=(r=aD[s])!==null&&r!==void 0?r:s;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(d.join(" "));return}Uo(new da(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}function Bb(s,e){if(s!==null&&typeof s!="function")throw Yn.create("invalid-log-argument");vx(s,e)}function Ub(s){_x(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="firebase-heartbeat-database",mD=1,Hu="firebase-heartbeat-store";let Cg=null;function zb(){return Cg||(Cg=xx(dD,mD,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Hu)}catch(t){console.warn(t)}}}}).catch(s=>{throw Yn.create("idb-open",{originalErrorMessage:s.message})})),Cg}async function gD(s){try{const t=(await zb()).transaction(Hu),r=await t.objectStore(Hu).get(jb(s));return await t.done,r}catch(e){if(e instanceof Sa)oi.warn(e.message);else{const t=Yn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(t.message)}}}async function RT(s,e){try{const r=(await zb()).transaction(Hu,"readwrite");await r.objectStore(Hu).put(e,jb(s)),await r.done}catch(t){if(t instanceof Sa)oi.warn(t.message);else{const r=Yn.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});oi.warn(r.message)}}}function jb(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=1024,yD=30;class _D{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ED(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=IT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>yD){const c=TD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=IT(),{heartbeatsToSend:r,unsentEntries:a}=vD(this._heartbeatsCache.heartbeats),l=_f(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return oi.warn(t),""}}}function IT(){return new Date().toISOString().substring(0,10)}function vD(s,e=pD){const t=[];let r=s.slice();for(const a of s){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),xT(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),xT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class ED{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xb()?sx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await gD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return RT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return RT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function xT(s){return _f(JSON.stringify({version:2,heartbeats:s})).length}function TD(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let r=1;r<s.length;r++)s[r].date<t&&(t=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(s){Uo(new da("platform-logger",e=>new Vx(e),"PRIVATE")),Uo(new da("heartbeat",e=>new _D(e),"PRIVATE")),si(Tf,Gg,s),si(Tf,Gg,"esm2017"),si("fire-js","")}bD("");const AD=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Sa,SDK_VERSION:Np,_DEFAULT_ENTRY_NAME:ts,_addComponent:Gu,_addOrOverwriteComponent:Mb,_apps:ns,_clearComponents:lD,_components:Bo,_getProvider:Vp,_isFirebaseApp:Ob,_isFirebaseServerApp:Pb,_registerComponent:Uo,_removeServiceInstance:oD,_serverApps:ko,deleteApp:Op,getApp:kb,getApps:fD,initializeApp:Mp,initializeServerApp:hD,onLog:Bb,registerVersion:si,setLogLevel:Ub},Symbol.toStringTag,{value:"Module"}));var DT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zi,qb;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,w){function R(){}R.prototype=w.prototype,V.D=w.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(P,L,B){for(var C=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)C[Kt-2]=arguments[Kt];return w.prototype[L].apply(P,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,w,R){R||(R=0);var P=Array(16);if(typeof w=="string")for(var L=0;16>L;++L)P[L]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(L=0;16>L;++L)P[L]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=V.g[0],R=V.g[1],L=V.g[2];var B=V.g[3],C=w+(B^R&(L^B))+P[0]+3614090360&4294967295;w=R+(C<<7&4294967295|C>>>25),C=B+(L^w&(R^L))+P[1]+3905402710&4294967295,B=w+(C<<12&4294967295|C>>>20),C=L+(R^B&(w^R))+P[2]+606105819&4294967295,L=B+(C<<17&4294967295|C>>>15),C=R+(w^L&(B^w))+P[3]+3250441966&4294967295,R=L+(C<<22&4294967295|C>>>10),C=w+(B^R&(L^B))+P[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=B+(L^w&(R^L))+P[5]+1200080426&4294967295,B=w+(C<<12&4294967295|C>>>20),C=L+(R^B&(w^R))+P[6]+2821735955&4294967295,L=B+(C<<17&4294967295|C>>>15),C=R+(w^L&(B^w))+P[7]+4249261313&4294967295,R=L+(C<<22&4294967295|C>>>10),C=w+(B^R&(L^B))+P[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=B+(L^w&(R^L))+P[9]+2336552879&4294967295,B=w+(C<<12&4294967295|C>>>20),C=L+(R^B&(w^R))+P[10]+4294925233&4294967295,L=B+(C<<17&4294967295|C>>>15),C=R+(w^L&(B^w))+P[11]+2304563134&4294967295,R=L+(C<<22&4294967295|C>>>10),C=w+(B^R&(L^B))+P[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=B+(L^w&(R^L))+P[13]+4254626195&4294967295,B=w+(C<<12&4294967295|C>>>20),C=L+(R^B&(w^R))+P[14]+2792965006&4294967295,L=B+(C<<17&4294967295|C>>>15),C=R+(w^L&(B^w))+P[15]+1236535329&4294967295,R=L+(C<<22&4294967295|C>>>10),C=w+(L^B&(R^L))+P[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=B+(R^L&(w^R))+P[6]+3225465664&4294967295,B=w+(C<<9&4294967295|C>>>23),C=L+(w^R&(B^w))+P[11]+643717713&4294967295,L=B+(C<<14&4294967295|C>>>18),C=R+(B^w&(L^B))+P[0]+3921069994&4294967295,R=L+(C<<20&4294967295|C>>>12),C=w+(L^B&(R^L))+P[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=B+(R^L&(w^R))+P[10]+38016083&4294967295,B=w+(C<<9&4294967295|C>>>23),C=L+(w^R&(B^w))+P[15]+3634488961&4294967295,L=B+(C<<14&4294967295|C>>>18),C=R+(B^w&(L^B))+P[4]+3889429448&4294967295,R=L+(C<<20&4294967295|C>>>12),C=w+(L^B&(R^L))+P[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=B+(R^L&(w^R))+P[14]+3275163606&4294967295,B=w+(C<<9&4294967295|C>>>23),C=L+(w^R&(B^w))+P[3]+4107603335&4294967295,L=B+(C<<14&4294967295|C>>>18),C=R+(B^w&(L^B))+P[8]+1163531501&4294967295,R=L+(C<<20&4294967295|C>>>12),C=w+(L^B&(R^L))+P[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=B+(R^L&(w^R))+P[2]+4243563512&4294967295,B=w+(C<<9&4294967295|C>>>23),C=L+(w^R&(B^w))+P[7]+1735328473&4294967295,L=B+(C<<14&4294967295|C>>>18),C=R+(B^w&(L^B))+P[12]+2368359562&4294967295,R=L+(C<<20&4294967295|C>>>12),C=w+(R^L^B)+P[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=B+(w^R^L)+P[8]+2272392833&4294967295,B=w+(C<<11&4294967295|C>>>21),C=L+(B^w^R)+P[11]+1839030562&4294967295,L=B+(C<<16&4294967295|C>>>16),C=R+(L^B^w)+P[14]+4259657740&4294967295,R=L+(C<<23&4294967295|C>>>9),C=w+(R^L^B)+P[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=B+(w^R^L)+P[4]+1272893353&4294967295,B=w+(C<<11&4294967295|C>>>21),C=L+(B^w^R)+P[7]+4139469664&4294967295,L=B+(C<<16&4294967295|C>>>16),C=R+(L^B^w)+P[10]+3200236656&4294967295,R=L+(C<<23&4294967295|C>>>9),C=w+(R^L^B)+P[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=B+(w^R^L)+P[0]+3936430074&4294967295,B=w+(C<<11&4294967295|C>>>21),C=L+(B^w^R)+P[3]+3572445317&4294967295,L=B+(C<<16&4294967295|C>>>16),C=R+(L^B^w)+P[6]+76029189&4294967295,R=L+(C<<23&4294967295|C>>>9),C=w+(R^L^B)+P[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=B+(w^R^L)+P[12]+3873151461&4294967295,B=w+(C<<11&4294967295|C>>>21),C=L+(B^w^R)+P[15]+530742520&4294967295,L=B+(C<<16&4294967295|C>>>16),C=R+(L^B^w)+P[2]+3299628645&4294967295,R=L+(C<<23&4294967295|C>>>9),C=w+(L^(R|~B))+P[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=B+(R^(w|~L))+P[7]+1126891415&4294967295,B=w+(C<<10&4294967295|C>>>22),C=L+(w^(B|~R))+P[14]+2878612391&4294967295,L=B+(C<<15&4294967295|C>>>17),C=R+(B^(L|~w))+P[5]+4237533241&4294967295,R=L+(C<<21&4294967295|C>>>11),C=w+(L^(R|~B))+P[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=B+(R^(w|~L))+P[3]+2399980690&4294967295,B=w+(C<<10&4294967295|C>>>22),C=L+(w^(B|~R))+P[10]+4293915773&4294967295,L=B+(C<<15&4294967295|C>>>17),C=R+(B^(L|~w))+P[1]+2240044497&4294967295,R=L+(C<<21&4294967295|C>>>11),C=w+(L^(R|~B))+P[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=B+(R^(w|~L))+P[15]+4264355552&4294967295,B=w+(C<<10&4294967295|C>>>22),C=L+(w^(B|~R))+P[6]+2734768916&4294967295,L=B+(C<<15&4294967295|C>>>17),C=R+(B^(L|~w))+P[13]+1309151649&4294967295,R=L+(C<<21&4294967295|C>>>11),C=w+(L^(R|~B))+P[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=B+(R^(w|~L))+P[11]+3174756917&4294967295,B=w+(C<<10&4294967295|C>>>22),C=L+(w^(B|~R))+P[2]+718787259&4294967295,L=B+(C<<15&4294967295|C>>>17),C=R+(B^(L|~w))+P[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+L&4294967295,V.g[3]=V.g[3]+B&4294967295}r.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var R=w-this.blockSize,P=this.B,L=this.h,B=0;B<w;){if(L==0)for(;B<=R;)a(this,V,B),B+=this.blockSize;if(typeof V=="string"){for(;B<w;)if(P[L++]=V.charCodeAt(B++),L==this.blockSize){a(this,P),L=0;break}}else for(;B<w;)if(P[L++]=V[B++],L==this.blockSize){a(this,P),L=0;break}}this.h=L,this.o+=w},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var R=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=R&255,R/=256;for(this.u(V),V=Array(16),w=R=0;4>w;++w)for(var P=0;32>P;P+=8)V[R++]=this.g[w]>>>P&255;return V};function l(V,w){var R=d;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=w(V)}function c(V,w){this.h=w;for(var R=[],P=!0,L=V.length-1;0<=L;L--){var B=V[L]|0;P&&B==w||(R[L]=B,P=!1)}this.g=R}var d={};function m(V){return-128<=V&&128>V?l(V,function(w){return new c([w|0],0>w?-1:0)}):new c([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return U(p(-V));for(var w=[],R=1,P=0;V>=R;P++)w[P]=V/R|0,R*=4294967296;return new c(w,0)}function _(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return U(_(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(w,8)),P=T,L=0;L<V.length;L+=8){var B=Math.min(8,V.length-L),C=parseInt(V.substring(L,L+B),w);8>B?(B=p(Math.pow(w,B)),P=P.j(B).add(p(C))):(P=P.j(R),P=P.add(p(C)))}return P}var T=m(0),A=m(1),D=m(16777216);s=c.prototype,s.m=function(){if(H(this))return-U(this).m();for(var V=0,w=1,R=0;R<this.g.length;R++){var P=this.i(R);V+=(0<=P?P:4294967296+P)*w,w*=4294967296}return V},s.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(M(this))return"0";if(H(this))return"-"+U(this).toString(V);for(var w=p(Math.pow(V,6)),R=this,P="";;){var L=me(R,w).g;R=$(R,L.j(w));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=L,M(R))return B+P;for(;6>B.length;)B="0"+B;P=B+P}},s.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function M(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function H(V){return V.h==-1}s.l=function(V){return V=$(this,V),H(V)?-1:M(V)?0:1};function U(V){for(var w=V.g.length,R=[],P=0;P<w;P++)R[P]=~V.g[P];return new c(R,~V.h).add(A)}s.abs=function(){return H(this)?U(this):this},s.add=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],P=0,L=0;L<=w;L++){var B=P+(this.i(L)&65535)+(V.i(L)&65535),C=(B>>>16)+(this.i(L)>>>16)+(V.i(L)>>>16);P=C>>>16,B&=65535,C&=65535,R[L]=C<<16|B}return new c(R,R[R.length-1]&-2147483648?-1:0)};function $(V,w){return V.add(U(w))}s.j=function(V){if(M(this)||M(V))return T;if(H(this))return H(V)?U(this).j(U(V)):U(U(this).j(V));if(H(V))return U(this.j(U(V)));if(0>this.l(D)&&0>V.l(D))return p(this.m()*V.m());for(var w=this.g.length+V.g.length,R=[],P=0;P<2*w;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var L=0;L<V.g.length;L++){var B=this.i(P)>>>16,C=this.i(P)&65535,Kt=V.i(L)>>>16,gt=V.i(L)&65535;R[2*P+2*L]+=C*gt,se(R,2*P+2*L),R[2*P+2*L+1]+=B*gt,se(R,2*P+2*L+1),R[2*P+2*L+1]+=C*Kt,se(R,2*P+2*L+1),R[2*P+2*L+2]+=B*Kt,se(R,2*P+2*L+2)}for(P=0;P<w;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=w;P<2*w;P++)R[P]=0;return new c(R,0)};function se(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function Z(V,w){this.g=V,this.h=w}function me(V,w){if(M(w))throw Error("division by zero");if(M(V))return new Z(T,T);if(H(V))return w=me(U(V),w),new Z(U(w.g),U(w.h));if(H(w))return w=me(V,U(w)),new Z(U(w.g),w.h);if(30<V.g.length){if(H(V)||H(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,P=w;0>=P.l(V);)R=fe(R),P=fe(P);var L=Ee(R,1),B=Ee(P,1);for(P=Ee(P,2),R=Ee(R,2);!M(P);){var C=B.add(P);0>=C.l(V)&&(L=L.add(R),B=C),P=Ee(P,1),R=Ee(R,1)}return w=$(V,L.j(w)),new Z(L,w)}for(L=T;0<=V.l(w);){for(R=Math.max(1,Math.floor(V.m()/w.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),B=p(R),C=B.j(w);H(C)||0<C.l(V);)R-=P,B=p(R),C=B.j(w);M(B)&&(B=A),L=L.add(B),V=$(V,C)}return new Z(L,V)}s.A=function(V){return me(this,V).h},s.and=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],P=0;P<w;P++)R[P]=this.i(P)&V.i(P);return new c(R,this.h&V.h)},s.or=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],P=0;P<w;P++)R[P]=this.i(P)|V.i(P);return new c(R,this.h|V.h)},s.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],P=0;P<w;P++)R[P]=this.i(P)^V.i(P);return new c(R,this.h^V.h)};function fe(V){for(var w=V.g.length+1,R=[],P=0;P<w;P++)R[P]=V.i(P)<<1|V.i(P-1)>>>31;return new c(R,V.h)}function Ee(V,w){var R=w>>5;w%=32;for(var P=V.g.length-R,L=[],B=0;B<P;B++)L[B]=0<w?V.i(B+R)>>>w|V.i(B+R+1)<<32-w:V.i(B+R);return new c(L,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qb=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=_,Zi=c}).apply(typeof DT<"u"?DT:typeof self<"u"?self:typeof window<"u"?window:{});var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fb,Nu,Gb,of,Hg,Hb,Kb,Qb;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,v){return h==Array.prototype||h==Object.prototype||(h[y]=v.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jh=="object"&&Jh];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function a(h,y){if(y)e:{var v=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var z=h[S];if(!(z in v))break e;v=v[z]}h=h[h.length-1],S=v[h],y=y(S),y!=S&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var v=0,S=!1,z={next:function(){if(!S&&v<h.length){var Y=v++;return{value:y(Y,h[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function _(h,y,v){return h.call.apply(h.bind,arguments)}function T(h,y,v){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),h.apply(y,z)}}return function(){return h.apply(y,arguments)}}function A(h,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,A.apply(null,arguments)}function D(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function M(h,y){function v(){}v.prototype=y.prototype,h.aa=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(S,z,Y){for(var oe=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)oe[ke-2]=arguments[ke];return y.prototype[z].apply(S,oe)}}function H(h){const y=h.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=h[S];return v}return[]}function U(h,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(m(S)){const z=h.length||0,Y=S.length||0;h.length=z+Y;for(let oe=0;oe<Y;oe++)h[z+oe]=S[oe]}else h.push(S)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function se(h){return/^[\s\xa0]*$/.test(h)}function Z(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function me(h){return me[" "](h),h}me[" "]=function(){};var fe=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Ee(h,y,v){for(const S in h)y.call(v,h[S],S,h)}function V(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function w(h){const y={};for(const v in h)y[v]=h[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,y){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)h[v]=S[v];for(let Y=0;Y<R.length;Y++)v=R[Y],Object.prototype.hasOwnProperty.call(S,v)&&(h[v]=S[v])}}function L(h){var y=1;h=h.split(":");const v=[];for(;0<y&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function B(h){d.setTimeout(()=>{throw h},0)}function C(){var h=Fe;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Kt{constructor(){this.h=this.g=null}add(y,v){const S=gt.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var gt=new $(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ve=!1,Fe=new Kt,N=()=>{const h=d.Promise.resolve(void 0);ue=()=>{h.then(ne)}};var ne=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(v){B(v)}var y=gt;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ve=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return h}();function Ce(h,y){if(ae.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(fe){e:{try{me(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ce.aa.h.call(this)}}M(Ce,ae);var Re={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),nt=0;function nr(h,y,v,S,z){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=z,this.key=++nt,this.da=this.fa=!1}function pi(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Cr(h){this.src=h,this.g={},this.h=0}Cr.prototype.add=function(h,y,v,S,z){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var oe=_s(h,y,S,z);return-1<oe?(y=h[oe],v||(y.fa=!1)):(y=new nr(y,this.src,Y,!!S,z),y.fa=v,h.push(y)),y};function ys(h,y){var v=y.type;if(v in h.g){var S=h.g[v],z=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=0<=z)&&Array.prototype.splice.call(S,z,1),Y&&(pi(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function _s(h,y,v,S){for(var z=0;z<h.length;++z){var Y=h[z];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==S)return z}return-1}var vs="closure_lm_"+(1e6*Math.random()|0),gl={};function Rc(h,y,v,S,z){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Rc(h,y[Y],v,S,z);return null}return v=Ic(v),h&&h[Bt]?h.K(y,v,p(S)?!!S.capture:!1,z):On(h,y,v,!1,S,z)}function On(h,y,v,S,z,Y){if(!y)throw Error("Invalid event type");var oe=p(z)?!!z.capture:!!z,ke=Ca(h);if(ke||(h[vs]=ke=new Cr(h)),v=ke.add(y,v,S,oe,Y),v.proxy)return v;if(S=_d(),v.proxy=S,S.src=h,S.listener=v,h.addEventListener)Te||(z=oe),z===void 0&&(z=!1),h.addEventListener(y.toString(),S,z);else if(h.attachEvent)h.attachEvent(Es(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function _d(){function h(v){return y.call(h.src,h.listener,v)}const y=vd;return h}function pl(h,y,v,S,z){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)pl(h,y[Y],v,S,z);else S=p(S)?!!S.capture:!!S,v=Ic(v),h&&h[Bt]?(h=h.i,y=String(y).toString(),y in h.g&&(Y=h.g[y],v=_s(Y,v,S,z),-1<v&&(pi(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete h.g[y],h.h--)))):h&&(h=Ca(h))&&(y=h.g[y.toString()],h=-1,y&&(h=_s(y,v,S,z)),(v=-1<h?y[h]:null)&&Da(v))}function Da(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Bt])ys(y.i,h);else{var v=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(v,S,h.capture):y.detachEvent?y.detachEvent(Es(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Ca(y))?(ys(v,h),v.h==0&&(v.src=null,y[vs]=null)):pi(h)}}}function Es(h){return h in gl?gl[h]:gl[h]="on"+h}function vd(h,y){if(h.da)h=!0;else{y=new Ce(y,this);var v=h.listener,S=h.ha||h.src;h.fa&&Da(h),h=v.call(S,y)}return h}function Ca(h){return h=h[vs],h instanceof Cr?h:null}var yl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ic(h){return typeof h=="function"?h:(h[yl]||(h[yl]=function(y){return h.handleEvent(y)}),h[yl])}function pt(){he.call(this),this.i=new Cr(this),this.M=this,this.F=null}M(pt,he),pt.prototype[Bt]=!0,pt.prototype.removeEventListener=function(h,y,v,S){pl(this,h,y,v,S)};function Ke(h,y){var v,S=h.F;if(S)for(v=[];S;S=S.F)v.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new ae(y,h);else if(y instanceof ae)y.target=y.target||h;else{var z=y;y=new ae(S,h),P(y,z)}if(z=!0,v)for(var Y=v.length-1;0<=Y;Y--){var oe=y.g=v[Y];z=An(oe,S,!0,y)&&z}if(oe=y.g=h,z=An(oe,S,!0,y)&&z,z=An(oe,S,!1,y)&&z,v)for(Y=0;Y<v.length;Y++)oe=y.g=v[Y],z=An(oe,S,!1,y)&&z}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var v=h.g[y],S=0;S<v.length;S++)pi(v[S]);delete h.g[y],h.h--}}this.F=null},pt.prototype.K=function(h,y,v,S){return this.i.add(String(h),y,!1,v,S)},pt.prototype.L=function(h,y,v,S){return this.i.add(String(h),y,!0,v,S)};function An(h,y,v,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,Y=0;Y<y.length;++Y){var oe=y[Y];if(oe&&!oe.da&&oe.capture==v){var ke=oe.listener,Mt=oe.ha||oe.src;oe.fa&&ys(h.i,oe),z=ke.call(Mt,S)!==!1&&z}}return z&&!S.defaultPrevented}function tn(h,y,v){if(typeof h=="function")v&&(h=A(h,v));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function xc(h){h.g=tn(()=>{h.g=null,h.i&&(h.i=!1,xc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Ed extends he{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(h){he.call(this),this.h=h,this.g={}}M(Ts,he);var bs=[];function As(h){Ee(h.g,function(y,v){this.g.hasOwnProperty(v)&&Da(y)},h),h.g={}}Ts.prototype.N=function(){Ts.aa.N.call(this),As(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=d.JSON.stringify,Va=d.JSON.parse,Ss=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function _l(){}_l.prototype.h=null;function vl(h){return h.h||(h.h=h.i())}function El(){}var Vr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){ae.call(this,"d")}M(Nr,ae);function Tl(){ae.call(this,"c")}M(Tl,ae);var rr={},bl=null;function yi(){return bl=bl||new pt}rr.La="serverreachability";function Na(h){ae.call(this,rr.La,h)}M(Na,ae);function _i(h){const y=yi();Ke(y,new Na(y))}rr.STAT_EVENT="statevent";function Dc(h,y){ae.call(this,rr.STAT_EVENT,h),this.stat=y}M(Dc,ae);function at(h){const y=yi();Ke(y,new Dc(y,h))}rr.Ma="timingevent";function Nt(h,y){ae.call(this,rr.Ma,h),this.size=y}M(Nt,ae);function Rt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Pn(){this.g=!0}Pn.prototype.xa=function(){this.g=!1};function Al(h,y,v,S,z,Y){h.info(function(){if(h.g)if(Y)for(var oe="",ke=Y.split("&"),Mt=0;Mt<ke.length;Mt++){var Be=ke[Mt].split("=");if(1<Be.length){var zt=Be[0];Be=Be[1];var Ot=zt.split("_");oe=2<=Ot.length&&Ot[1]=="type"?oe+(zt+"="+Be+"&"):oe+(zt+"=redacted&")}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+v+`
`+oe})}function Td(h,y,v,S,z,Y,oe){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+v+`
`+Y+" "+oe})}function vi(h,y,v,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+ws(h,v)+(S?" "+S:"")})}function Cc(h,y){h.info(function(){return"TIMEOUT: "+y})}Pn.prototype.info=function(){};function ws(h,y){if(!h.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var S=v[h];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var Y=z[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var oe=1;oe<z.length;oe++)z[oe]=""}}}}return $n(v)}catch{return y}}var Ei={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function sr(){}M(sr,_l),sr.prototype.g=function(){return new XMLHttpRequest},sr.prototype.i=function(){return{}},ir=new sr;function un(h,y,v,S){this.j=h,this.i=y,this.l=v,this.R=S||1,this.U=new Ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Et}function Et(){this.i=null,this.g="",this.h=!1}var Sl={},Ma={};function Xn(h,y,v){h.L=1,h.v=Cs(Sn(y)),h.m=v,h.P=!0,Or(h,null)}function Or(h,y){h.F=Date.now(),Rs(h),h.A=Sn(h.v);var v=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),Cl(v.i,"t",S),h.C=0,v=h.j.J,h.h=new Et,h.g=Kc(h.j,v?y:null,!h.m),0<h.O&&(h.M=new Ed(A(h.Y,h,h.g),h.O)),y=h.U,v=h.g,S=h.ca;var z="readystatechange";Array.isArray(z)||(z&&(bs[0]=z.toString()),z=bs);for(var Y=0;Y<z.length;Y++){var oe=Rc(v,z[Y],S||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),_i(),Al(h.i,h.u,h.A,h.l,h.R,h.m)}un.prototype.ca=function(h){h=h.target;const y=this.M;y&&Un(h)==3?y.j():this.Y(h)},un.prototype.Y=function(h){try{if(h==this.g)e:{const Ot=Un(this.g);var y=this.g.Ba();const qr=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Bc(this.g)))){this.J||Ot!=4||y==7||(y==8||0>=qr?_i(3):_i(2)),Ti(this);var v=this.g.Z();this.X=v;t:if(Vc(this)){var S=Bc(this.g);h="";var z=S.length,Y=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),ar(this);var oe="";break t}this.h.i=new d.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,h+=this.h.i.decode(S[y],{stream:!(Y&&y==z-1)});S.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,Td(this.i,this.u,this.A,this.l,this.R,Ot,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,Mt=this.g;if((ke=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(ke)){var Be=ke;break t}}Be=null}if(v=Be)vi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Is(this,v);else{this.o=!1,this.s=3,at(12),Qt(this),ar(this);break e}}if(this.P){v=!0;let Yt;for(;!this.J&&this.C<oe.length;)if(Yt=Nc(this,oe),Yt==Ma){Ot==4&&(this.s=4,at(14),v=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Sl){this.s=4,at(15),vi(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else vi(this.i,this.l,Yt,null),Is(this,Yt);if(Vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||oe.length!=0||this.h.h||(this.s=1,at(16),v=!1),this.o=this.o&&v,!v)vi(this.i,this.l,oe,"[Invalid Chunked Response]"),Qt(this),ar(this);else if(0<oe.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Bs(zt),zt.M=!0,at(11))}}else vi(this.i,this.l,oe,null),Is(this,oe);Ot==4&&Qt(this),this.o&&!this.J&&(Ot==4?Fc(this.j,this):(this.o=!1,Rs(this)))}else Rd(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Qt(this),ar(this)}}}catch{}finally{}};function Vc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Nc(h,y){var v=h.C,S=y.indexOf(`
`,v);return S==-1?Ma:(v=Number(y.substring(v,S)),isNaN(v)?Sl:(S+=1,S+v>y.length?Ma:(y=y.slice(S,S+v),h.C=S+v,y)))}un.prototype.cancel=function(){this.J=!0,Qt(this)};function Rs(h){h.S=Date.now()+h.I,Mc(h,h.I)}function Mc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Rt(A(h.ba,h),y)}function Ti(h){h.B&&(d.clearTimeout(h.B),h.B=null)}un.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Cc(this.i,this.A),this.L!=2&&(_i(),at(17)),Qt(this),this.s=2,ar(this)):Mc(this,this.S-h)};function ar(h){h.j.G==0||h.J||Fc(h.j,h)}function Qt(h){Ti(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,As(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Is(h,y){try{var v=h.j;if(v.G!=0&&(v.g==h||wl(v.h,h))){if(!h.K&&wl(v.h,h)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)Ha(v),Fa(v);else break e;Pl(v),at(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Rt(A(v.Za,v),6e3));if(1>=Pa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else jr(v,11)}else if((h.K||v.g==h)&&Ha(v),!se(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let Be=z[y];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const zt=Be[3];zt!=null&&(v.la=zt,v.j.info("VER="+v.la));const Ot=Be[4];Ot!=null&&(v.Aa=Ot,v.j.info("SVER="+v.Aa));const qr=Be[5];qr!=null&&typeof qr=="number"&&0<qr&&(S=1.5*qr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Yt=h.g;if(Yt){const dr=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dr){var Y=S.h;Y.g||dr.indexOf("spdy")==-1&&dr.indexOf("quic")==-1&&dr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(La(Y,Y.h),Y.h=null))}if(S.D){const kl=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;kl&&(S.ya=kl,Je(S.I,S.D,kl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var oe=h;if(S.qa=Hc(S,S.J?S.ia:null,S.W),oe.K){cn(S.h,oe);var ke=oe,Mt=S.L;Mt&&(ke.I=Mt),ke.B&&(Ti(ke),Rs(ke)),S.g=oe}else jc(S);0<v.i.length&&Ga(v)}else Be[0]!="stop"&&Be[0]!="close"||jr(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?jr(v,7):Ml(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}_i(4)}catch{}}var Oc=class{constructor(h,y){this.g=h,this.map=y}};function Pr(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pa(h){return h.h?1:h.g?h.g.size:0}function wl(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function La(h,y){h.g?h.g.add(y):h.h=y}function cn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Pr.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Rl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.D);return y}return H(h.i)}function bd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],v=h.length,S=0;S<v;S++)y.push(h[S]);return y}y=[],v=0;for(S in h)y[v++]=h[S];return y}function ka(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var v=0;v<h;v++)y.push(v);return y}y=[],v=0;for(const S in h)y[v++]=S;return y}}}function Il(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var v=ka(h),S=bd(h),z=S.length,Y=0;Y<z;Y++)y.call(void 0,S[Y],v&&v[Y],h)}var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ad(h,y){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var S=h[v].indexOf("="),z=null;if(0<=S){var Y=h[v].substring(0,S);z=h[v].substring(S+1)}else Y=h[v];y(Y,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function It(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof It){this.h=h.h,Ds(this,h.j),this.o=h.o,this.g=h.g,bi(this,h.s),this.l=h.l;var y=h.i,v=new kr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Lr(this,v),this.m=h.m}else h&&(y=String(h).match(xs))?(this.h=!1,Ds(this,y[1]||"",!0),this.o=Ln(y[2]||""),this.g=Ln(y[3]||"",!0),bi(this,y[4]),this.l=Ln(y[5]||"",!0),Lr(this,y[6]||"",!0),this.m=Ln(y[7]||"")):(this.h=!1,this.i=new kr(null,this.h))}It.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Vs(y,xl,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Vs(y,xl,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Vs(v,v.charAt(0)=="/"?Sd:Dl,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Vs(v,Ba)),h.join("")};function Sn(h){return new It(h)}function Ds(h,y,v){h.j=v?Ln(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function bi(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Lr(h,y,v){y instanceof kr?(h.i=y,Lc(h.i,h.h)):(v||(y=Vs(y,wd)),h.i=new kr(y,h.h))}function Je(h,y,v){h.i.set(y,v)}function Cs(h){return Je(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ln(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Vs(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,Pc),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Pc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xl=/[#\/\?@]/g,Dl=/[#\?:]/g,Sd=/[#\?]/g,wd=/[#\?@]/g,Ba=/#/g;function kr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function kn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ad(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}s=kr.prototype,s.add=function(h,y){kn(this),this.i=null,h=or(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function Br(h,y){kn(h),y=or(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Ur(h,y){return kn(h),y=or(h,y),h.g.has(y)}s.forEach=function(h,y){kn(this),this.g.forEach(function(v,S){v.forEach(function(z){h.call(y,z,S,this)},this)},this)},s.na=function(){kn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const z=h[S];for(let Y=0;Y<z.length;Y++)v.push(y[S])}return v},s.V=function(h){kn(this);let y=[];if(typeof h=="string")Ur(this,h)&&(y=y.concat(this.g.get(or(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)y=y.concat(h[v])}return y},s.set=function(h,y){return kn(this),this.i=null,h=or(this,h),Ur(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},s.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Cl(h,y,v){Br(h,y),0<v.length&&(h.i=null,h.g.set(or(h,y),H(v)),h.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const Y=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var z=Y;oe[S]!==""&&(z+="="+encodeURIComponent(String(oe[S]))),h.push(z)}}return this.i=h.join("&")};function or(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Lc(h,y){y&&!h.j&&(kn(h),h.i=null,h.g.forEach(function(v,S){var z=S.toLowerCase();S!=z&&(Br(this,S),Cl(this,z,v))},h)),h.j=y}function Ns(h,y){const v=new Pn;if(d.Image){const S=new Image;S.onload=D(Bn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=D(Bn,v,"TestLoadImage: error",!1,y,S),S.onabort=D(Bn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=D(Bn,v,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Jn(h,y){const v=new Pn,S=new AbortController,z=setTimeout(()=>{S.abort(),Bn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(Y=>{clearTimeout(z),Y.ok?Bn(v,"TestPingServer: ok",!0,y):Bn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Bn(v,"TestPingServer: error",!1,y)})}function Bn(h,y,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function Ms(){this.g=new Ss}function lr(h,y,v){const S=v||"";try{Il(h,function(z,Y){let oe=z;p(z)&&(oe=$n(z)),y.push(S+Y+"="+encodeURIComponent(oe))})}catch(z){throw y.push(S+"type="+encodeURIComponent("_badmap")),z}}function Ai(h){this.l=h.Ub||null,this.j=h.eb||!1}M(Ai,_l),Ai.prototype.g=function(){return new zr(this.l,this.j)},Ai.prototype.i=function(h){return function(){return h}}({});function zr(h,y){pt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(zr,pt),s=zr.prototype,s.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,cr(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},s.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}s.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ur(this):cr(this),this.readyState==3&&Vl(this)}},s.Ra=function(h){this.g&&(this.response=this.responseText=h,ur(this))},s.Qa=function(h){this.g&&(this.response=h,ur(this))},s.ga=function(){this.g&&ur(this)};function ur(h){h.readyState=4,h.l=null,h.j=null,h.v=null,cr(h)}s.setRequestHeader=function(h,y){this.u.append(h,y)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function cr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Nl(h){let y="";return Ee(h,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ut(h,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Nl(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):Je(h,y,v))}function He(h){pt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(He,pt);var Ua=/^https?$/i,Os=["POST","PUT"];s=He.prototype,s.Ha=function(h){this.J=h},s.ea=function(h,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?vl(this.o):vl(ir),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){kc(this,Y);return}if(h=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())v.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Os,y,void 0))||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of v)this.g.setRequestHeader(Y,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ps(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){kc(this,Y)}};function kc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,za(h),hr(h)}function za(h){h.A||(h.A=!0,Ke(h,"complete"),Ke(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ke(this,"complete"),Ke(this,"abort"),hr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),He.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},s.bb=function(){ja(this)};function ja(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Un(h)!=4||h.Z()!=2)){if(h.u&&Un(h)==4)tn(h.Ea,0,h);else if(Ke(h,"readystatechange"),Un(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=oe===0){var z=String(h.D).match(xs)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),S=!Ua.test(z?z.toLowerCase():"")}v=S}if(v)Ke(h,"complete"),Ke(h,"success");else{h.m=6;try{var Y=2<Un(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",za(h)}}finally{hr(h)}}}}function hr(h,y){if(h.g){Ps(h);const v=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Ke(h,"ready");try{v.onreadystatechange=S}catch{}}}function Ps(h){h.I&&(d.clearTimeout(h.I),h.I=null)}s.isActive=function(){return!!this.g};function Un(h){return h.g?h.g.readyState:0}s.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Va(y)}};function Bc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Rd(h){const y={};h=(h.g&&2<=Un(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(se(h[S]))continue;var v=L(h[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[z]||[];y[z]=Y,Y.push(v)}V(y,function(S){return S.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ls(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function qa(h){this.Aa=0,this.i=[],this.j=new Pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ls("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ls("baseRetryDelayMs",5e3,h),this.cb=Ls("retryDelaySeedMs",1e4,h),this.Wa=Ls("forwardChannelMaxRetries",2,h),this.wa=Ls("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Pr(h&&h.concurrentRequestLimit),this.Da=new Ms,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=qa.prototype,s.la=8,s.G=1,s.connect=function(h,y,v,S){at(0),this.W=h,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Hc(this,null,this.W),Ga(this)};function Ml(h){if(Uc(h),h.G==3){var y=h.U++,v=Sn(h.I);if(Je(v,"SID",h.K),Je(v,"RID",y),Je(v,"TYPE","terminate"),ks(h,v),y=new un(h,h.j,y),y.L=2,y.v=Cs(Sn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Kc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Rs(y)}Gc(h)}function Fa(h){h.g&&(Bs(h),h.g.cancel(),h.g=null)}function Uc(h){Fa(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ha(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ga(h){if(!Oa(h.h)&&!h.s){h.s=!0;var y=h.Ga;ue||N(),ve||(ue(),ve=!0),Fe.add(y,h),h.B=0}}function Id(h,y){return Pa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Rt(A(h.Ga,h,y),Ll(h,h.B)),h.B++,!0)}s.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const z=new un(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=w(Y),P(Y,this.S)):Y=this.S),this.m!==null||this.O||(z.H=Y,Y=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=zc(this,z,y),v=Sn(this.I),Je(v,"RID",h),Je(v,"CVER",22),this.D&&Je(v,"X-HTTP-Session-Id",this.D),ks(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String(Nl(Y)))+"&"+y:this.m&&Ut(v,this.m,Y)),La(this.h,z),this.Ua&&Je(v,"TYPE","init"),this.P?(Je(v,"$req",y),Je(v,"SID","null"),z.T=!0,Xn(z,v,null)):Xn(z,v,y),this.G=2}}else this.G==3&&(h?Ol(this,h):this.i.length==0||Oa(this.h)||Ol(this))};function Ol(h,y){var v;y?v=y.l:v=h.U++;const S=Sn(h.I);Je(S,"SID",h.K),Je(S,"RID",v),Je(S,"AID",h.T),ks(h,S),h.m&&h.o&&Ut(S,h.m,h.o),v=new un(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),y&&(h.i=y.D.concat(h.i)),y=zc(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),La(h.h,v),Xn(v,S,y)}function ks(h,y){h.H&&Ee(h.H,function(v,S){Je(y,S,v)}),h.l&&Il({},function(v,S){Je(y,S,v)})}function zc(h,y,v){v=Math.min(h.i.length,v);var S=h.l?A(h.l.Na,h.l,h):null;e:{var z=h.i;let Y=-1;for(;;){const oe=["count="+v];Y==-1?0<v?(Y=z[0].g,oe.push("ofs="+Y)):Y=0:oe.push("ofs="+Y);let ke=!0;for(let Mt=0;Mt<v;Mt++){let Be=z[Mt].g;const zt=z[Mt].map;if(Be-=Y,0>Be)Y=Math.max(0,z[Mt].g-100),ke=!1;else try{lr(zt,oe,"req"+Be+"_")}catch{S&&S(zt)}}if(ke){S=oe.join("&");break e}}}return h=h.i.splice(0,v),y.D=h,S}function jc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ue||N(),ve||(ue(),ve=!0),Fe.add(y,h),h.v=0}}function Pl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Rt(A(h.Fa,h),Ll(h,h.v)),h.v++,!0)}s.Fa=function(){if(this.u=null,qc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Rt(A(this.ab,this),h)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Fa(this),qc(this))};function Bs(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function qc(h){h.g=new un(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Sn(h.qa);Je(y,"RID","rpc"),Je(y,"SID",h.K),Je(y,"AID",h.T),Je(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Je(y,"TO",h.ja),Je(y,"TYPE","xmlhttp"),ks(h,y),h.m&&h.o&&Ut(y,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=Cs(Sn(y)),v.m=null,v.P=!0,Or(v,h)}s.Za=function(){this.C!=null&&(this.C=null,Fa(this),Pl(this),at(19))};function Ha(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Fc(h,y){var v=null;if(h.g==y){Ha(h),Bs(h),h.g=null;var S=2}else if(wl(h.h,y))v=y.D,cn(h.h,y),S=1;else return;if(h.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=h.B;S=yi(),Ke(S,new Nt(S,v)),Ga(h)}else jc(h);else if(z=y.s,z==3||z==0&&0<y.X||!(S==1&&Id(h,y)||S==2&&Pl(h)))switch(v&&0<v.length&&(y=h.h,y.i=y.i.concat(v)),z){case 1:jr(h,5);break;case 4:jr(h,10);break;case 3:jr(h,6);break;default:jr(h,2)}}}function Ll(h,y){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*y}function jr(h,y){if(h.j.info("Error code "+y),y==2){var v=A(h.fb,h),S=h.Xa;const z=!S;S=new It(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ds(S,"https"),Cs(S),z?Ns(S.toString(),v):Jn(S.toString(),v)}else at(2);h.G=0,h.l&&h.l.sa(y),Gc(h),Uc(h)}s.fb=function(h){h?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Gc(h){if(h.G=0,h.ka=[],h.l){const y=Rl(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ka,y),U(h.ka,h.i),h.h.i.length=0,H(h.i),h.i.length=0),h.l.ra()}}function Hc(h,y,v){var S=v instanceof It?Sn(v):new It(v);if(S.g!="")y&&(S.g=y+"."+S.g),bi(S,S.s);else{var z=d.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var Y=new It(null);S&&Ds(Y,S),y&&(Y.g=y),z&&bi(Y,z),v&&(Y.l=v),S=Y}return v=h.D,y=h.ya,v&&y&&Je(S,v,y),Je(S,"VER",h.la),ks(h,S),S}function Kc(h,y,v){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new He(new Ai({eb:v})):new He(h.pa),y.Ha(h.J),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qc(){}s=Qc.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ka(){}Ka.prototype.g=function(h,y){return new hn(h,y)};function hn(h,y){pt.call(this),this.g=new qa(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!se(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!se(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new fr(this)}M(hn,pt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Ml(this.g)},hn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=$n(h),h=v);y.i.push(new Oc(y.Ya++,h)),y.G==3&&Ga(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,hn.aa.N.call(this)};function Yc(h){Nr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}M(Yc,Nr);function $c(){Tl.call(this),this.status=1}M($c,Tl);function fr(h){this.g=h}M(fr,Qc),fr.prototype.ua=function(){Ke(this.g,"a")},fr.prototype.ta=function(h){Ke(this.g,new Yc(h))},fr.prototype.sa=function(h){Ke(this.g,new $c)},fr.prototype.ra=function(){Ke(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,Qb=function(){return new Ka},Kb=function(){return yi()},Hb=rr,Hg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ei.NO_ERROR=0,Ei.TIMEOUT=8,Ei.HTTP_ERROR=6,of=Ei,Mr.COMPLETE="complete",Gb=Mr,El.EventType=Vr,Vr.OPEN="a",Vr.CLOSE="b",Vr.ERROR="c",Vr.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Nu=El,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,Fb=He}).apply(typeof Jh<"u"?Jh:typeof self<"u"?self:typeof window<"u"?window:{});const CT="@firebase/firestore",VT="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Dp("@firebase/firestore");function Do(){return rs.logLevel}function SD(s){rs.setLogLevel(s)}function ie(s,...e){if(rs.logLevel<=Le.DEBUG){const t=e.map(Pp);rs.debug(`Firestore (${ol}): ${s}`,...t)}}function At(s,...e){if(rs.logLevel<=Le.ERROR){const t=e.map(Pp);rs.error(`Firestore (${ol}): ${s}`,...t)}}function Rr(s,...e){if(rs.logLevel<=Le.WARN){const t=e.map(Pp);rs.warn(`Firestore (${ol}): ${s}`,...t)}}function Pp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(s,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Yb(s,r,t)}function Yb(s,e,t){let r=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw At(r),new Error(r)}function pe(s,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,s||Yb(e,a,r)}function wD(s,e){s||de(57014,e)}function ce(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Sa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ht.UNAUTHENTICATED))}shutdown(){}}class ID{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xD{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pe(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let l=new en;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new en,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new en)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string",31837,{l:r}),new $b(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class DD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new DD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pe(this.o===void 0,3512);const r=l=>{l.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ie("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new NT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new NT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<s;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=ND(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Se(s,e){return s<e?-1:s>e?1:0}function Kg(s,e){let t=0;for(;t<s.length&&t<e.length;){const r=s.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return Se(r,a);{const l=Lp(),c=MD(l.encode(MT(s,t)),l.encode(MT(e,t)));return c!==0?c:Se(r,a)}}t+=r>65535?2:1}return Se(s.length,e.length)}function MT(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function MD(s,e){for(let t=0;t<s.length&&t<e.length;++t)if(s[t]!==e[t])return Se(s[t],e[t]);return Se(s.length,e.length)}function zo(s,e,t){return s.length===e.length&&s.every((r,a)=>t(r,e[a]))}function Jb(s){return s+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=-62135596800,PT=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*PT);return new ht(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<OT)throw new re(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PT}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-OT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new ht(0,0))}static max(){return new ye(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="__name__";class vr{constructor(e,t,r){t===void 0?t=0:t>e.length&&de(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&de(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=vr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Se(e.length,t.length)}static compareSegments(e,t){const r=vr.isNumericId(e),a=vr.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?vr.extractNumericId(e).compare(vr.extractNumericId(t)):Kg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zi.fromString(e.substring(4,e.length-2))}}class Oe extends vr{construct(e,t,r){return new Oe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Oe(t)}static emptyPath(){return new Oe([])}}const OD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends vr{construct(e,t,r){return new ut(e,t,r)}static isValidIdentifier(e){return OD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LT}static keyField(){return new ut([LT])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new re(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new re(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new re(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new re(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(t)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Oe.fromString(e))}static fromName(e){return new le(Oe.fromString(e).popFirst(5))}static empty(){return new le(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Oe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Oe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=-1;class bf{constructor(e,t,r,a){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=a}}function Qg(s){return s.fields.find(e=>e.kind===2)}function na(s){return s.fields.filter(e=>e.kind!==2)}bf.UNKNOWN_ID=-1;class lf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ku{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ku(0,Mn.min())}}function Zb(s,e){const t=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,a=ye.fromTimestamp(r===1e9?new ht(t+1,0):new ht(t,r));return new Mn(a,le.empty(),e)}function Wb(s){return new Mn(s.readTime,s.key,jo)}class Mn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Mn(ye.min(),le.empty(),jo)}static max(){return new Mn(ye.max(),le.empty(),jo)}}function kp(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=le.comparator(s.documentKey,e.documentKey),t!==0?t:Se(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fs(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==eA)throw s;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new j((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof j?t:j.resolve(t)}catch(t){return j.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):j.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):j.reject(t)}static resolve(e){return new j((t,r)=>{t(e)})}static reject(e){return new j((t,r)=>{r(e)})}static waitFor(e){return new j((t,r)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},m=>r(m))}),c=!0,l===a&&t()})}static or(e){let t=j.resolve(!1);for(const r of e)t=t.next(a=>a?j.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}static mapArray(e,t){return new j((r,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next(_=>{c[p]=_,++d,d===l&&r(c)},_=>a(_))}})}static doWhile(e,t){return new j((r,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):r()};l()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="SimpleDb";class Hf{static open(e,t,r,a){try{return new Hf(t,e.transaction(a,r))}catch(l){throw new Lu(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new en,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Lu(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=Bp(r.target.error);this.S.reject(new Lu(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ie(Nn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new LD(t)}}class Ar{static delete(e){return ie(Nn,"Removing database:",e),ia(Rp().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!xb())return!1;if(Ar.F())return!0;const e=Ef(),t=Ar.M(e),r=0<t&&t<10,a=nA(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.B=r,this.L=null,Ar.M(Ef())===12.2&&At("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(ie(Nn,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const c=l.target.result;t(c)},a.onblocked=()=>{r(new Lu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const c=l.target.error;c.name==="VersionError"?r(new re(Q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new re(Q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new Lu(e,c))},a.onupgradeneeded=l=>{ie(Nn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;if(this.L!==null&&this.L!==l.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${l.oldVersion}, event.newVersion=${l.newVersion}, db.version=${c.version}`);this.B.q(c,a.transaction,l.oldVersion,this.version).next(()=>{ie(Nn,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{const r=t.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=t=>this.$(t)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,a){const l=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.k(e);const d=Hf.open(this.db,e,l?"readonly":"readwrite",r),m=a(d).next(p=>(d.v(),p)).catch(p=>(d.abort(p),j.reject(p))).toPromise();return m.catch(()=>{}),await d.D,m}catch(d){const m=d,p=m.name!=="FirebaseError"&&c<3;if(ie(Nn,"Transaction failed with error:",m.message,"Retrying:",p),this.close(),!p)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function nA(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class PD{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return ia(this.K.delete())}}class Lu extends re{constructor(e,t){super(Q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ds(s){return s.name==="IndexedDbTransactionError"}class LD{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ie(Nn,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ie(Nn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ia(r)}add(e){return ie(Nn,"ADD",this.store.name,e,e),ia(this.store.add(e))}get(e){return ia(this.store.get(e)).next(t=>(t===void 0&&(t=null),ie(Nn,"GET",this.store.name,e,t),t))}delete(e){return ie(Nn,"DELETE",this.store.name,e),ia(this.store.delete(e))}count(){return ie(Nn,"COUNT",this.store.name),ia(this.store.count())}J(e,t){const r=this.options(e,t),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(r.range);return new j((c,d)=>{l.onerror=m=>{d(m.target.error)},l.onsuccess=m=>{c(m.target.result)}})}{const l=this.cursor(r),c=[];return this.Y(l,(d,m)=>{c.push(m)}).next(()=>c)}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new j((a,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{a(c.target.result)}})}X(e,t){ie(Nn,"DELETE ALL",this.store.name);const r=this.options(e,t);r.ee=!1;const a=this.cursor(r);return this.Y(a,(l,c,d)=>d.delete())}te(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.Y(a,t)}ne(e){const t=this.cursor({});return new j((r,a)=>{t.onerror=l=>{const c=Bp(l.target.error);a(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next(d=>{d?c.continue():r()}):r()}})}Y(e,t){const r=[];return new j((a,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const m=new PD(d),p=t(d.primaryKey,d.value,m);if(p instanceof j){const _=p.catch(T=>(m.done(),j.reject(T)));r.push(_)}m.isDone?a():m.j===null?d.continue():d.continue(m.j)}}).next(()=>j.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.ee?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ia(s){return new j((e,t)=>{s.onsuccess=r=>{const a=r.target.result;e(a)},s.onerror=r=>{const a=Bp(r.target.error);t(a)}})}let kT=!1;function Bp(s){const e=Ar.M(Ef());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(t)>=0){const r=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kT||(kT=!0,setTimeout(()=>{throw r},0)),r}}return s}const ku="IndexBackfiller";class kD{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){ie(ku,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.re.se();ie(ku,`Documents written: ${t}`)}catch(t){ds(t)?ie(ku,"Ignoring IndexedDB error during index backfill: ",t):await fs(t)}await this.ie(6e4)})}}class BD{constructor(e,t){this.localStore=e,this.persistence=t}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.oe(t,e))}oe(e,t){const r=new Set;let a=t,l=!0;return j.doWhile(()=>l===!0&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(c!==null&&!r.has(c))return ie(ku,`Processing collection: ${c}`),this._e(e,c,a).next(d=>{a-=d,r.add(c)});l=!1})).next(()=>t-a)}_e(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,r).next(l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ae(a,l)).next(d=>(ie(ku,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>c.size)}))}ae(e,t){let r=e;return t.changes.forEach((a,l)=>{const c=Wb(l);kp(c,r)>0&&(r=c)}),new Mn(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}En.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=-1;function fc(s){return s==null}function Qu(s){return s===0&&1/s==-1/0}function rA(s){return typeof s=="number"&&Number.isInteger(s)&&!Qu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="";function on(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=BT(e)),e=UD(s.get(t),e);return BT(e)}function UD(s,e){let t=e;const r=s.length;for(let a=0;a<r;a++){const l=s.charAt(a);switch(l){case"\0":t+="";break;case Af:t+="";break;default:t+=l}}return t}function BT(s){return s+Af+""}function Tr(s){const e=s.length;if(pe(e>=2,64408,{path:s}),e===2)return pe(s.charAt(0)===Af&&s.charAt(1)==="",56145,{path:s}),Oe.emptyPath();const t=e-2,r=[];let a="";for(let l=0;l<e;){const c=s.indexOf(Af,l);switch((c<0||c>t)&&de(50515,{path:s}),s.charAt(c+1)){case"":const d=s.substring(l,c);let m;a.length===0?m=d:(a+=d,m=a,a=""),r.push(m);break;case"":a+=s.substring(l,c),a+="\0";break;case"":a+=s.substring(l,c+1);break;default:de(61167,{path:s})}l=c+2}return new Oe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="remoteDocuments",dc="owner",bo="owner",Yu="mutationQueues",zD="userId",tr="mutations",UT="batchId",ua="userMutationsIndex",zT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(s,e){return[s,on(e)]}function iA(s,e,t){return[s,on(e),t]}const jD={},qo="documentMutations",Sf="remoteDocumentsV14",qD=["prefixPath","collectionGroup","readTime","documentId"],cf="documentKeyIndex",FD=["prefixPath","collectionGroup","documentId"],sA="collectionGroupIndex",GD=["collectionGroup","readTime","prefixPath","documentId"],$u="remoteDocumentGlobal",Yg="remoteDocumentGlobalKey",Fo="targets",aA="queryTargetsIndex",HD=["canonicalId","targetId"],Go="targetDocuments",KD=["targetId","path"],Up="documentTargetsIndex",QD=["path","targetId"],wf="targetGlobalKey",fa="targetGlobal",Xu="collectionParents",YD=["collectionId","parent"],Ho="clientMetadata",$D="clientId",Kf="bundles",XD="bundleId",Qf="namedQueries",JD="name",zp="indexConfiguration",ZD="indexId",$g="collectionGroupIndex",WD="collectionGroup",Rf="indexState",eC=["indexId","uid"],oA="sequenceNumberIndex",tC=["uid","sequenceNumber"],If="indexEntries",nC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lA="documentKeyIndex",rC=["indexId","uid","orderedDocumentKey"],Yf="documentOverlays",iC=["userId","collectionPath","documentId"],Xg="collectionPathOverlayIndex",sC=["userId","collectionPath","largestBatchId"],uA="collectionGroupOverlayIndex",aC=["userId","collectionGroup","largestBatchId"],jp="globals",oC="name",cA=[Yu,tr,qo,ra,Fo,dc,fa,Go,Ho,$u,Xu,Kf,Qf],lC=[...cA,Yf],hA=[Yu,tr,qo,Sf,Fo,dc,fa,Go,Ho,$u,Xu,Kf,Qf,Yf],fA=hA,qp=[...fA,zp,Rf,If],uC=qp,cC=[...qp,jp];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends tA{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function kt(s,e){const t=ce(s);return Ar.N(t.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function ms(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function dA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zh(this.root,e,this.comparator,!0)}}class Zh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=a??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Zt(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Zt.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qT(this.data.getIterator())}getIteratorFrom(e){return new qT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xe(this.comparator);return t.data=e,t}}class qT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ao(s){return s.hasNext()?s.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Tn([])}unionWith(e){let t=new Xe(ut.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Tn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new mA("Invalid base64 string: "+l):l}}(e);return new vt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const fC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function li(s){if(pe(!!s,39018),typeof s=="string"){let e=0;const t=fC.exec(s);if(pe(!!t,46558,{timestamp:s}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(s.seconds),nanos:lt(s.nanos)}}function lt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ui(s){return typeof s=="string"?vt.fromBase64String(s):vt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="server_timestamp",pA="__type__",yA="__previous_value__",_A="__local_write_time__";function $f(s){var e,t;return((t=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[pA])===null||t===void 0?void 0:t.stringValue)===gA}function Xf(s){const e=s.mapValue.fields[yA];return $f(e)?Xf(e):e}function Ju(s){const e=li(s.mapValue.fields[_A].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t,r,a,l,c,d,m,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p}}const xf="(default)";class is{constructor(e,t){this.projectId=e,this.database=t||xf}static empty(){return new is("","")}get isDefaultDatabase(){return this.database===xf}isEqual(e){return e instanceof is&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="__type__",vA="__max__",$i={mapValue:{fields:{__type__:{stringValue:vA}}}},Gp="__vector__",Ko="value",hf={nullValue:"NULL_VALUE"};function ss(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?$f(s)?4:EA(s)?9007199254740991:Jf(s)?10:11:de(28295,{value:s})}function Ir(s,e){if(s===e)return!0;const t=ss(s);if(t!==ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ju(s).isEqual(Ju(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=li(a.timestampValue),d=li(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(a,l){return ui(a.bytesValue).isEqual(ui(l.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,l){return lt(a.geoPointValue.latitude)===lt(l.geoPointValue.latitude)&&lt(a.geoPointValue.longitude)===lt(l.geoPointValue.longitude)}(s,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return lt(a.integerValue)===lt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=lt(a.doubleValue),d=lt(l.doubleValue);return c===d?Qu(c)===Qu(d):isNaN(c)&&isNaN(d)}return!1}(s,e);case 9:return zo(s.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(jT(c)!==jT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ir(c[m],d[m])))return!1;return!0}(s,e);default:return de(52216,{left:s})}}function Zu(s,e){return(s.values||[]).find(t=>Ir(t,e))!==void 0}function as(s,e){if(s===e)return 0;const t=ss(s),r=ss(e);if(t!==r)return Se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Se(s.booleanValue,e.booleanValue);case 2:return function(l,c){const d=lt(l.integerValue||l.doubleValue),m=lt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(s,e);case 3:return FT(s.timestampValue,e.timestampValue);case 4:return FT(Ju(s),Ju(e));case 5:return Kg(s.stringValue,e.stringValue);case 6:return function(l,c){const d=ui(l),m=ui(c);return d.compareTo(m)}(s.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const _=Se(d[p],m[p]);if(_!==0)return _}return Se(d.length,m.length)}(s.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Se(lt(l.latitude),lt(c.latitude));return d!==0?d:Se(lt(l.longitude),lt(c.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return GT(s.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,p,_;const T=l.fields||{},A=c.fields||{},D=(d=T[Ko])===null||d===void 0?void 0:d.arrayValue,M=(m=A[Ko])===null||m===void 0?void 0:m.arrayValue,H=Se(((p=D==null?void 0:D.values)===null||p===void 0?void 0:p.length)||0,((_=M==null?void 0:M.values)===null||_===void 0?void 0:_.length)||0);return H!==0?H:GT(D,M)}(s.mapValue,e.mapValue);case 11:return function(l,c){if(l===$i.mapValue&&c===$i.mapValue)return 0;if(l===$i.mapValue)return 1;if(c===$i.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},_=Object.keys(p);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const A=Kg(m[T],_[T]);if(A!==0)return A;const D=as(d[m[T]],p[_[T]]);if(D!==0)return D}return Se(m.length,_.length)}(s.mapValue,e.mapValue);default:throw de(23264,{Pe:t})}}function FT(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Se(s,e);const t=li(s),r=li(e),a=Se(t.seconds,r.seconds);return a!==0?a:Se(t.nanos,r.nanos)}function GT(s,e){const t=s.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=as(t[a],r[a]);if(l)return l}return Se(t.length,r.length)}function Qo(s){return Zg(s)}function Zg(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(t){const r=li(t);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(t){return ui(t).toBase64()}(s.bytesValue):"referenceValue"in s?function(t){return le.fromName(t).toString()}(s.referenceValue):"geoPointValue"in s?function(t){return`geo(${t.latitude},${t.longitude})`}(s.geoPointValue):"arrayValue"in s?function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=Zg(l);return r+"]"}(s.arrayValue):"mapValue"in s?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Zg(t.fields[c])}`;return a+"}"}(s.mapValue):de(61005,{value:s})}function ff(s){switch(ss(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xf(s);return e?16+ff(e):16;case 5:return 2*s.stringValue.length;case 6:return ui(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+ff(l),0)}(s.arrayValue);case 10:case 11:return function(r){let a=0;return ms(r.fields,(l,c)=>{a+=l.length+ff(c)}),a}(s.mapValue);default:throw de(13486,{value:s})}}function ma(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Wg(s){return!!s&&"integerValue"in s}function Wu(s){return!!s&&"arrayValue"in s}function HT(s){return!!s&&"nullValue"in s}function KT(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function df(s){return!!s&&"mapValue"in s}function Jf(s){var e,t;return((t=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fp])===null||t===void 0?void 0:t.stringValue)===Gp}function Bu(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return ms(s.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Bu(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bu(s.arrayValue.values[t]);return e}return Object.assign({},s)}function EA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===vA}const TA={mapValue:{fields:{[Fp]:{stringValue:Gp},[Ko]:{arrayValue:{}}}}};function mC(s){return"nullValue"in s?hf:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?ma(is.empty(),le.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?Jf(s)?TA:{mapValue:{}}:de(35942,{value:s})}function gC(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?ma(is.empty(),le.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?TA:"mapValue"in s?Jf(s)?{mapValue:{}}:$i:de(61959,{value:s})}function QT(s,e){const t=as(s.value,e.value);return t!==0?t:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function YT(s,e){const t=as(s.value,e.value);return t!==0?t:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!df(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(t)}setAll(e){let t=ut.emptyPath(),r={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,r,a),r={},a=[],t=d.popLast()}c?r[d.lastSegment()]=Bu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());df(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];df(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ms(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new Wt(Bu(this.value))}}function bA(s){const e=[];return ms(s.fields,(t,r)=>{const a=new ut([t]);if(df(r)){const l=bA(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t,r,a,l,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new st(e,0,ye.min(),ye.min(),ye.min(),Wt.empty(),0)}static newFoundDocument(e,t,r,a){return new st(e,1,t,ye.min(),r,a,0)}static newNoDocument(e,t){return new st(e,2,t,ye.min(),ye.min(),Wt.empty(),0)}static newUnknownDocument(e,t){return new st(e,3,t,ye.min(),ye.min(),Wt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof st&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new st(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t){this.position=e,this.inclusive=t}}function $T(s,e,t){let r=0;for(let a=0;a<s.position.length;a++){const l=e[a],c=s.position[a];if(l.field.isKeyField()?r=le.comparator(le.fromName(c.referenceValue),t.key):r=as(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function XT(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Ir(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t="asc"){this.field=e,this.dir=t}}function pC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{}class Pe extends AA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new yC(e,t,r):t==="array-contains"?new EC(e,r):t==="in"?new DA(e,r):t==="not-in"?new TC(e,r):t==="array-contains-any"?new bC(e,r):new Pe(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new _C(e,r):new vC(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(as(t,this.value)):t!==null&&ss(this.value)===ss(t)&&this.matchesComparison(as(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $e extends AA{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new $e(e,t)}matches(e){return Yo(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Yo(s){return s.op==="and"}function ep(s){return s.op==="or"}function Hp(s){return SA(s)&&Yo(s)}function SA(s){for(const e of s.filters)if(e instanceof $e)return!1;return!0}function tp(s){if(s instanceof Pe)return s.field.canonicalString()+s.op.toString()+Qo(s.value);if(Hp(s))return s.filters.map(e=>tp(e)).join(",");{const e=s.filters.map(t=>tp(t)).join(",");return`${s.op}(${e})`}}function wA(s,e){return s instanceof Pe?function(r,a){return a instanceof Pe&&r.op===a.op&&r.field.isEqual(a.field)&&Ir(r.value,a.value)}(s,e):s instanceof $e?function(r,a){return a instanceof $e&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,d)=>l&&wA(c,a.filters[d]),!0):!1}(s,e):void de(19439)}function RA(s,e){const t=s.filters.concat(e);return $e.create(t,s.op)}function IA(s){return s instanceof Pe?function(t){return`${t.field.canonicalString()} ${t.op} ${Qo(t.value)}`}(s):s instanceof $e?function(t){return t.op.toString()+" {"+t.getFilters().map(IA).join(" ,")+"}"}(s):"Filter"}class yC extends Pe{constructor(e,t,r){super(e,t,r),this.key=le.fromName(r.referenceValue)}matches(e){const t=le.comparator(e.key,this.key);return this.matchesComparison(t)}}class _C extends Pe{constructor(e,t){super(e,"in",t),this.keys=xA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vC extends Pe{constructor(e,t){super(e,"not-in",t),this.keys=xA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xA(s,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>le.fromName(r.referenceValue))}class EC extends Pe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wu(t)&&Zu(t.arrayValue,this.value)}}class DA extends Pe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zu(this.value.arrayValue,t)}}class TC extends Pe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zu(this.value.arrayValue,t)}}class bC extends Pe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,t=null,r=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function np(s,e=null,t=[],r=[],a=null,l=null,c=null){return new AC(s,e,t,r,a,l,c)}function ga(s){const e=ce(s);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>tp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),fc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Qo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Qo(r)).join(",")),e.Ie=t}return e.Ie}function mc(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!pC(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!wA(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!XT(s.startAt,e.startAt)&&XT(s.endAt,e.endAt)}function Df(s){return le.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Cf(s,e){return s.filters.filter(t=>t instanceof Pe&&t.field.isEqual(e))}function JT(s,e,t){let r=hf,a=!0;for(const l of Cf(s,e)){let c=hf,d=!0;switch(l.op){case"<":case"<=":c=mC(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=hf}QT({value:r,inclusive:a},{value:c,inclusive:d})<0&&(r=c,a=d)}if(t!==null){for(let l=0;l<s.orderBy.length;++l)if(s.orderBy[l].field.isEqual(e)){const c=t.position[l];QT({value:r,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(r=c,a=t.inclusive);break}}return{value:r,inclusive:a}}function ZT(s,e,t){let r=$i,a=!0;for(const l of Cf(s,e)){let c=$i,d=!0;switch(l.op){case">=":case">":c=gC(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=$i}YT({value:r,inclusive:a},{value:c,inclusive:d})>0&&(r=c,a=d)}if(t!==null){for(let l=0;l<s.orderBy.length;++l)if(s.orderBy[l].field.isEqual(e)){const c=t.position[l];YT({value:r,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(r=c,a=t.inclusive);break}}return{value:r,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t=null,r=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function CA(s,e,t,r,a,l,c,d){return new fi(s,e,t,r,a,l,c,d)}function ll(s){return new fi(s)}function WT(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Kp(s){return s.collectionGroup!==null}function Oo(s){const e=ce(s);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Xe(ut.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new ec(l,r))}),t.has(ut.keyField().canonicalString())||e.Ee.push(new ec(ut.keyField(),r))}return e.Ee}function gn(s){const e=ce(s);return e.de||(e.de=SC(e,Oo(s))),e.de}function SC(s,e){if(s.limitType==="F")return np(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new ec(a.field,l)});const t=s.endAt?new os(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new os(s.startAt.position,s.startAt.inclusive):null;return np(s.path,s.collectionGroup,e,s.filters,s.limit,t,r)}}function rp(s,e){const t=s.filters.concat([e]);return new fi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function Vf(s,e,t){return new fi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function gc(s,e){return mc(gn(s),gn(e))&&s.limitType===e.limitType}function VA(s){return`${ga(gn(s))}|lt:${s.limitType}`}function Co(s){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>IA(a)).join(", ")}]`),fc(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Qo(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Qo(a)).join(",")),`Target(${r})`}(gn(s))}; limitType=${s.limitType})`}function pc(s,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):le.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(s,e)&&function(r,a){for(const l of Oo(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(s,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(s,e)&&function(r,a){return!(r.startAt&&!function(c,d,m){const p=$T(c,d,m);return c.inclusive?p<=0:p<0}(r.startAt,Oo(r),a)||r.endAt&&!function(c,d,m){const p=$T(c,d,m);return c.inclusive?p>=0:p>0}(r.endAt,Oo(r),a))}(s,e)}function NA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function MA(s){return(e,t)=>{let r=!1;for(const a of Oo(s)){const l=wC(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function wC(s,e,t){const r=s.field.isKeyField()?le.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?as(m,p):de(42886)}(s.field,e,t);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return dA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new it(le.comparator);function bn(){return RC}const OA=new it(le.comparator);function Mu(...s){let e=OA;for(const t of s)e=e.insert(t.key,t);return e}function PA(s){let e=OA;return s.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function br(){return Uu()}function LA(){return Uu()}function Uu(){return new di(s=>s.toString(),(s,e)=>s.isEqual(e))}const IC=new it(le.comparator),xC=new Xe(le.comparator);function Ie(...s){let e=xC;for(const t of s)e=e.add(t);return e}const DC=new Xe(Se);function Qp(){return DC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qu(e)?"-0":e}}function kA(s){return{integerValue:""+s}}function BA(s,e){return rA(e)?kA(e):Yp(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(){this._=void 0}}function CC(s,e,t){return s instanceof $o?function(a,l){const c={fields:{[pA]:{stringValue:gA},[_A]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&$f(l)&&(l=Xf(l)),l&&(c.fields[yA]=l),{mapValue:c}}(t,e):s instanceof pa?zA(s,e):s instanceof ya?jA(s,e):function(a,l){const c=UA(a,l),d=e0(c)+e0(a.Re);return Wg(c)&&Wg(a.Re)?kA(d):Yp(a.serializer,d)}(s,e)}function VC(s,e,t){return s instanceof pa?zA(s,e):s instanceof ya?jA(s,e):t}function UA(s,e){return s instanceof Xo?function(r){return Wg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class $o extends Zf{}class pa extends Zf{constructor(e){super(),this.elements=e}}function zA(s,e){const t=qA(e);for(const r of s.elements)t.some(a=>Ir(a,r))||t.push(r);return{arrayValue:{values:t}}}class ya extends Zf{constructor(e){super(),this.elements=e}}function jA(s,e){let t=qA(e);for(const r of s.elements)t=t.filter(a=>!Ir(a,r));return{arrayValue:{values:t}}}class Xo extends Zf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function e0(s){return lt(s.integerValue||s.doubleValue)}function qA(s){return Wu(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t){this.field=e,this.transform=t}}function NC(s,e){return s.field.isEqual(e.field)&&function(r,a){return r instanceof pa&&a instanceof pa||r instanceof ya&&a instanceof ya?zo(r.elements,a.elements,Ir):r instanceof Xo&&a instanceof Xo?Ir(r.Re,a.Re):r instanceof $o&&a instanceof $o}(s.transform,e.transform)}class MC{constructor(e,t){this.version=e,this.transformResults=t}}class ct{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ct}static exists(e){return new ct(void 0,e)}static updateTime(e){return new ct(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Wf{}function FA(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new cl(s.key,ct.none()):new ul(s.key,s.data,ct.none());{const t=s.data,r=Wt.empty();let a=new Xe(ut.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new mi(s.key,r,new Tn(a.toArray()),ct.none())}}function OC(s,e,t){s instanceof ul?function(a,l,c){const d=a.value.clone(),m=n0(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(s,e,t):s instanceof mi?function(a,l,c){if(!mf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=n0(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(GA(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(s,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function zu(s,e,t,r){return s instanceof ul?function(l,c,d,m){if(!mf(l.precondition,c))return d;const p=l.value.clone(),_=r0(l.fieldTransforms,m,c);return p.setAll(_),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(s,e,t,r):s instanceof mi?function(l,c,d,m){if(!mf(l.precondition,c))return d;const p=r0(l.fieldTransforms,m,c),_=c.data;return _.setAll(GA(l)),_.setAll(p),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(s,e,t,r):function(l,c,d){return mf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(s,e,t)}function PC(s,e){let t=null;for(const r of s.fieldTransforms){const a=e.data.field(r.field),l=UA(r.transform,a||null);l!=null&&(t===null&&(t=Wt.empty()),t.set(r.field,l))}return t||null}function t0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&zo(r,a,(l,c)=>NC(l,c))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ul extends Wf{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class mi extends Wf{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function GA(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=s.data.field(t);e.set(t,r)}}),e}function n0(s,e,t){const r=new Map;pe(s.length===t.length,32656,{Ve:t.length,me:s.length});for(let a=0;a<t.length;a++){const l=s[a],c=l.transform,d=e.data.field(l.field);r.set(l.field,VC(c,d,t[a]))}return r}function r0(s,e,t){const r=new Map;for(const a of s){const l=a.transform,c=t.data.field(a.field);r.set(a.field,CC(l,c,e))}return r}class cl extends Wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $p extends Wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&OC(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=zu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=zu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=LA();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=FA(c,d);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ie())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(t,r)=>t0(t,r))&&zo(this.baseMutations,e.baseMutations,(t,r)=>t0(t,r))}}class Jp{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){pe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return IC}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Jp(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,ze;function HA(s){switch(s){case Q.OK:return de(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return de(15467,{code:s})}}function KA(s){if(s===void 0)return At("GRPC error has no .code"),Q.UNKNOWN;switch(s){case Ct.OK:return Q.OK;case Ct.CANCELLED:return Q.CANCELLED;case Ct.UNKNOWN:return Q.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return Q.INTERNAL;case Ct.UNAVAILABLE:return Q.UNAVAILABLE;case Ct.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Ct.NOT_FOUND:return Q.NOT_FOUND;case Ct.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Ct.ABORTED:return Q.ABORTED;case Ct.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Ct.DATA_LOSS:return Q.DATA_LOSS;default:return de(39323,{code:s})}}(ze=Ct||(Ct={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new Zi([4294967295,4294967295],0);function i0(s){const e=Lp().encode(s),t=new qb;return t.update(e),new Uint8Array(t.digest())}function s0(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Zi([t,r],0),new Zi([a,l],0)]}class Wp{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ou(`Invalid padding: ${t}`);if(r<0)throw new Ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Zi.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(Zi.fromNumber(r)));return a.compare(kC)===1&&(a=new Zi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=i0(e),[r,a]=s0(t);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);if(!this.be(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Wp(l,a,t);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=i0(e),[r,a]=s0(t);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,vc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new _c(ye.min(),a,new it(Se),bn(),Ie())}}class vc{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new vc(r,t,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class QA{constructor(e,t){this.targetId=e,this.Ce=t}}class YA{constructor(e,t,r=vt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class a0{constructor(){this.Fe=0,this.Me=o0(),this.xe=vt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ie(),t=Ie(),r=Ie();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:de(38017,{changeType:l})}}),new vc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=o0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,pe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class BC{constructor(e){this.ze=e,this.je=new Map,this.He=bn(),this.Je=Wh(),this.Ye=Wh(),this.Ze=new it(Se)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(Df(l))if(r===0){const c=new le(l.path);this.tt(t,c,st.newNoDocument(c,ye.min()))}else pe(r===1,20013,{expectedCount:r});else{const c=this.ut(t);if(c!==r){const d=this.ct(e),m=d?this.lt(d,e,c):1;if(m!==0){this.st(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=ui(r).toUint8Array()}catch(m){if(m instanceof mA)return Rr("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Wp(c,a,l)}catch(m){return Rr(m instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&Df(d.target)){const m=new le(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,st.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let r=Ie();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new _c(e,t,this.Ze,this.He,r);return this.He=bn(),this.Je=Wh(),this.Ye=Wh(),this.Ze=new it(Se),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new a0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Xe(Se),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Xe(Se),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ie("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new a0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Wh(){return new it(le.comparator)}function o0(){return new it(le.comparator)}const UC={asc:"ASCENDING",desc:"DESCENDING"},zC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jC={and:"AND",or:"OR"};class qC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ip(s,e){return s.useProto3Json||fc(e)?e:{value:e}}function Jo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $A(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function FC(s,e){return Jo(s,e.toTimestamp())}function St(s){return pe(!!s,49232),ye.fromTimestamp(function(t){const r=li(t);return new ht(r.seconds,r.nanos)}(s))}function ey(s,e){return sp(s,e).canonicalString()}function sp(s,e){const t=function(a){return new Oe(["projects",a.projectId,"databases",a.database])}(s).child("documents");return e===void 0?t:t.child(e)}function XA(s){const e=Oe.fromString(s);return pe(aS(e),10190,{key:e.toString()}),e}function tc(s,e){return ey(s.databaseId,e.path)}function Sr(s,e){const t=XA(e);if(t.get(1)!==s.databaseId.projectId)throw new re(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new re(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new le(WA(t))}function JA(s,e){return ey(s.databaseId,e)}function ZA(s){const e=XA(s);return e.length===4?Oe.emptyPath():WA(e)}function ap(s){return new Oe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function WA(s){return pe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function l0(s,e,t){return{name:tc(s,e),fields:t.value.mapValue.fields}}function eS(s,e,t){const r=Sr(s,e.name),a=St(e.updateTime),l=e.createTime?St(e.createTime):ye.min(),c=new Wt({mapValue:{fields:e.fields}}),d=st.newFoundDocument(r,a,l,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function GC(s,e){return"found"in e?function(r,a){pe(!!a.found,43571),a.found.name,a.found.updateTime;const l=Sr(r,a.found.name),c=St(a.found.updateTime),d=a.found.createTime?St(a.found.createTime):ye.min(),m=new Wt({mapValue:{fields:a.found.fields}});return st.newFoundDocument(l,c,d,m)}(s,e):"missing"in e?function(r,a){pe(!!a.missing,3894),pe(!!a.readTime,22933);const l=Sr(r,a.missing),c=St(a.readTime);return st.newNoDocument(l,c)}(s,e):de(7234,{result:e})}function HC(s,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:de(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,_){return p.useProto3Json?(pe(_===void 0||typeof _=="string",58123),vt.fromBase64String(_||"")):(pe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),vt.fromUint8Array(_||new Uint8Array))}(s,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const _=p.code===void 0?Q.UNKNOWN:KA(p.code);return new re(_,p.message||"")}(c);t=new YA(r,a,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Sr(s,r.document.name),l=St(r.document.updateTime),c=r.document.createTime?St(r.document.createTime):ye.min(),d=new Wt({mapValue:{fields:r.document.fields}}),m=st.newFoundDocument(a,l,c,d),p=r.targetIds||[],_=r.removedTargetIds||[];t=new gf(p,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Sr(s,r.document),l=r.readTime?St(r.readTime):ye.min(),c=st.newNoDocument(a,l),d=r.removedTargetIds||[];t=new gf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Sr(s,r.document),l=r.removedTargetIds||[];t=new gf([],l,a,null)}else{if(!("filter"in e))return de(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new LC(a,l),d=r.targetId;t=new QA(d,c)}}return t}function nc(s,e){let t;if(e instanceof ul)t={update:l0(s,e.key,e.value)};else if(e instanceof cl)t={delete:tc(s,e.key)};else if(e instanceof mi)t={update:l0(s,e.key,e.data),updateMask:JC(e.fieldMask)};else{if(!(e instanceof $p))return de(16599,{ft:e.type});t={verify:tc(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,c){const d=c.transform;if(d instanceof $o)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof pa)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ya)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xo)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw de(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:FC(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:de(27497)}(s,e.precondition)),t}function op(s,e){const t=e.currentDocument?function(l){return l.updateTime!==void 0?ct.updateTime(St(l.updateTime)):l.exists!==void 0?ct.exists(l.exists):ct.none()}(e.currentDocument):ct.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(c,d){let m=null;if("setToServerValue"in d)pe(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),m=new $o;else if("appendMissingElements"in d){const _=d.appendMissingElements.values||[];m=new pa(_)}else if("removeAllFromArray"in d){const _=d.removeAllFromArray.values||[];m=new ya(_)}else"increment"in d?m=new Xo(c,d.increment):de(16584,{proto:d});const p=ut.fromServerFormat(d.fieldPath);return new yc(p,m)}(s,a)):[];if(e.update){e.update.name;const a=Sr(s,e.update.name),l=new Wt({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=function(m){const p=m.fieldPaths||[];return new Tn(p.map(_=>ut.fromServerFormat(_)))}(e.updateMask);return new mi(a,l,c,t,r)}return new ul(a,l,t,r)}if(e.delete){const a=Sr(s,e.delete);return new cl(a,t)}if(e.verify){const a=Sr(s,e.verify);return new $p(a,t)}return de(1463,{proto:e})}function KC(s,e){return s&&s.length>0?(pe(e!==void 0,14353),s.map(t=>function(a,l){let c=a.updateTime?St(a.updateTime):St(l);return c.isEqual(ye.min())&&(c=St(l)),new MC(c,a.transformResults||[])}(t,e))):[]}function tS(s,e){return{documents:[JA(s,e.path)]}}function nS(s,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=JA(s,a);const l=function(p){if(p.length!==0)return sS($e.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(_=>function(A){return{field:Vo(A.field),direction:YC(A.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=ip(s,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function rS(s){let e=ZA(s.parent);const t=s.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){pe(r===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const A=iS(T);return A instanceof $e&&Hp(A)?A.getFilters():[A]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(A=>function(M){return new ec(No(M.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(A))}(t.orderBy));let d=null;t.limit&&(d=function(T){let A;return A=typeof T=="object"?T.value:T,fc(A)?null:A}(t.limit));let m=null;t.startAt&&(m=function(T){const A=!!T.before,D=T.values||[];return new os(D,A)}(t.startAt));let p=null;return t.endAt&&(p=function(T){const A=!T.before,D=T.values||[];return new os(D,A)}(t.endAt)),CA(e,a,c,l,d,"F",m,p)}function QC(s,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iS(s){return s.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=No(t.unaryFilter.field);return Pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=No(t.unaryFilter.field);return Pe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=No(t.unaryFilter.field);return Pe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=No(t.unaryFilter.field);return Pe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(s):s.fieldFilter!==void 0?function(t){return Pe.create(No(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(t){return $e.create(t.compositeFilter.filters.map(r=>iS(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(t.compositeFilter.op))}(s):de(30097,{filter:s})}function YC(s){return UC[s]}function $C(s){return zC[s]}function XC(s){return jC[s]}function Vo(s){return{fieldPath:s.canonicalString()}}function No(s){return ut.fromServerFormat(s.fieldPath)}function sS(s){return s instanceof Pe?function(t){if(t.op==="=="){if(KT(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NAN"}};if(HT(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(KT(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NAN"}};if(HT(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(t.field),op:$C(t.op),value:t.value}}}(s):s instanceof $e?function(t){const r=t.getFilters().map(a=>sS(a));return r.length===1?r[0]:{compositeFilter:{op:XC(t.op),filters:r}}}(s):de(54877,{filter:s})}function JC(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aS(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,t,r,a,l=ye.min(),c=ye.min(),d=vt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.wt=e}}function ZC(s,e){let t;if(e.document)t=eS(s.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=le.fromSegments(e.noDocument.path),a=va(e.noDocument.readTime);t=st.newNoDocument(r,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return de(56709);{const r=le.fromSegments(e.unknownDocument.path),a=va(e.unknownDocument.version);t=st.newUnknownDocument(r,a)}}return e.readTime&&t.setReadTime(function(a){const l=new ht(a[0],a[1]);return ye.fromTimestamp(l)}(e.readTime)),t}function u0(s,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Nf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(l,c){return{name:tc(l,c.key),fields:c.data.value.mapValue.fields,updateTime:Jo(l,c.version.toTimestamp()),createTime:Jo(l,c.createTime.toTimestamp())}}(s.wt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:_a(e.version)};else{if(!e.isUnknownDocument())return de(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:_a(e.version)}}return r}function Nf(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function _a(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function va(s){const e=new ht(s.seconds,s.nanoseconds);return ye.fromTimestamp(e)}function sa(s,e){const t=(e.baseMutations||[]).map(l=>op(s.wt,l));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const d=e.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const r=e.mutations.map(l=>op(s.wt,l)),a=ht.fromMillis(e.localWriteTimeMs);return new Xp(e.batchId,a,t,r)}function Pu(s){const e=va(s.readTime),t=s.lastLimboFreeSnapshotVersion!==void 0?va(s.lastLimboFreeSnapshotVersion):ye.min();let r;return r=function(l){return l.documents!==void 0}(s.query)?function(l){const c=l.documents.length;return pe(c===1,1966,{count:c}),gn(ll(ZA(l.documents[0])))}(s.query):function(l){return gn(rS(l))}(s.query),new ri(r,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,e,t,vt.fromBase64String(s.resumeToken))}function lS(s,e){const t=_a(e.snapshotVersion),r=_a(e.lastLimboFreeSnapshotVersion);let a;a=Df(e.target)?tS(s.wt,e.target):nS(s.wt,e.target).gt;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ga(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function ty(s){const e=rS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Vf(e,e.limit,"L"):e}function Vg(s,e){return new Zp(e.largestBatchId,op(s.wt,e.overlayMutation))}function c0(s,e){const t=e.path.lastSegment();return[s,on(e.path.popLast()),t]}function h0(s,e,t,r){return{indexId:s,uid:e,sequenceNumber:t,readTime:_a(r.readTime),documentKey:on(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{getBundleMetadata(e,t){return f0(e).get(t).next(r=>{if(r)return function(l){return{id:l.bundleId,createTime:va(l.createTime),version:l.version}}(r)})}saveBundleMetadata(e,t){return f0(e).put(function(a){return{bundleId:a.id,createTime:_a(St(a.createTime)),version:a.version}}(t))}getNamedQuery(e,t){return d0(e).get(t).next(r=>{if(r)return function(l){return{name:l.name,query:ty(l.bundledQuery),readTime:va(l.readTime)}}(r)})}saveNamedQuery(e,t){return d0(e).put(function(a){return{name:a.name,readTime:_a(St(a.readTime)),bundledQuery:a.bundledQuery}}(t))}}function f0(s){return kt(s,Kf)}function d0(s){return kt(s,Qf)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t){this.serializer=e,this.userId=t}static bt(e,t){const r=t.uid||"";return new ed(e,r)}getOverlay(e,t){return Iu(e).get(c0(this.userId,t)).next(r=>r?Vg(this.serializer,r):null)}getOverlays(e,t){const r=br();return j.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,t,r){const a=[];return r.forEach((l,c)=>{const d=new Zp(t,c);a.push(this.St(e,d))}),j.waitFor(a)}removeOverlaysForBatchId(e,t,r){const a=new Set;t.forEach(c=>a.add(on(c.getCollectionPath())));const l=[];return a.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(Iu(e).X(Xg,d))}),j.waitFor(l)}getOverlaysForCollection(e,t,r){const a=br(),l=on(t),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Iu(e).J(Xg,c).next(d=>{for(const m of d){const p=Vg(this.serializer,m);a.set(p.getKey(),p)}return a})}getOverlaysForCollectionGroup(e,t,r,a){const l=br();let c;const d=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Iu(e).te({index:uA,range:d},(m,p,_)=>{const T=Vg(this.serializer,p);l.size()<a||T.largestBatchId===c?(l.set(T.getKey(),T),c=T.largestBatchId):_.done()}).next(()=>l)}St(e,t){return Iu(e).put(function(a,l,c){const[d,m,p]=c0(l,c.mutation.key);return{userId:l,collectionPath:m,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:nc(a.wt,c.mutation)}}(this.serializer,this.userId,t))}}function Iu(s){return kt(s,Yf)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{Dt(e){return kt(e,jp)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?vt.fromUint8Array(r):vt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(lt(e.integerValue));else if("doubleValue"in e){const r=lt(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Qu(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=li(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(ui(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?EA(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Jf(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):de(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const r=e.fields||{};this.Mt(t,55);for(const a of Object.keys(r))this.Nt(a,t),this.Ct(r[a],t)}qt(e,t){var r,a;const l=e.fields||{};this.Mt(t,53);const c=Ko,d=((a=(r=l[c].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.length)||0;this.Mt(t,15),t.xt(lt(d)),this.Nt(c,t),this.Ct(l[c],t)}$t(e,t){const r=e.values||[];this.Mt(t,50);for(const a of r)this.Ct(a,t)}kt(e,t){this.Mt(t,37),le.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}aa.Wt=new aa;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=255;function t2(s){if(s===0)return 8;let e=0;return s>>4||(e+=4,s<<=4),s>>6||(e+=2,s<<=2),s>>7||(e+=1),e}function m0(s){const e=64-function(r){let a=0;for(let l=0;l<8;++l){const c=t2(255&r[l]);if(a+=c,c!==8)break}return a}(s);return Math.ceil(e/8)}class n2{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.zt(r.value),r=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Yt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const a=t.codePointAt(0);this.zt(240|a>>>18),this.zt(128|63&a>>>12),this.zt(128|63&a>>>6),this.zt(128|63&a)}}this.jt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const a=t.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Yt()}en(e){const t=this.tn(e),r=m0(t);this.nn(1+r),this.buffer[this.position++]=255&r;for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=255&t[a]}rn(e){const t=this.tn(e),r=m0(t);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}sn(){this._n(So),this._n(255)}an(){this.un(So),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let a=1;a<t.length;++a)t[a]^=r?255:0;return t}zt(e){const t=255&e;t===0?(this._n(0),this._n(255)):t===So?(this._n(So),this._n(0)):this._n(t)}Jt(e){const t=255&e;t===0?(this.un(0),this.un(255)):t===So?(this.un(So),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class r2{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class i2{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class xu{constructor(){this.ln=new n2,this.hn=new r2(this.ln),this.Pn=new i2(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,t,r,a){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=a}In(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new oa(this.indexId,this.documentKey,this.arrayValue,r)}}function Hi(s,e){let t=s.indexId-e.indexId;return t!==0?t:(t=g0(s.arrayValue,e.arrayValue),t!==0?t:(t=g0(s.directionalValue,e.directionalValue),t!==0?t:le.comparator(s.documentKey,e.documentKey)))}function g0(s,e){for(let t=0;t<s.length&&t<e.length;++t){const r=s[t]-e[t];if(r!==0)return r}return s.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this.En=new Xe((t,r)=>ut.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.An=[];for(const t of e.filters){const r=t;r.isInequality()?this.En=this.En.add(r):this.An.push(r)}}get Rn(){return this.En.size>1}Vn(e){if(pe(e.collectionGroup===this.collectionId,49279),this.Rn)return!1;const t=Qg(e);if(t!==void 0&&!this.mn(t))return!1;const r=na(e);let a=new Set,l=0,c=0;for(;l<r.length&&this.mn(r[l]);++l)a=a.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.En.size>0){const d=this.En.getIterator().getNext();if(!a.has(d.field.canonicalString())){const m=r[l];if(!this.fn(d,m)||!this.gn(this.dn[c++],m))return!1}++l}for(;l<r.length;++l){const d=r[l];if(c>=this.dn.length||!this.gn(this.dn[c++],d))return!1}return!0}pn(){if(this.Rn)return null;let e=new Xe(ut.comparator);const t=[];for(const r of this.An)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new lf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new lf(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new lf(r.field,r.dir==="asc"?0:1)));return new bf(bf.UNKNOWN_ID,this.collectionId,t,Ku.empty())}mn(e){for(const t of this.An)if(this.fn(t,e))return!0;return!1}fn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}gn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(s){var e,t;if(pe(s instanceof Pe||s instanceof $e,20012),s instanceof Pe){if(s instanceof DA){const a=((t=(e=s.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(l=>Pe.create(s.field,"==",l)))||[];return $e.create(a,"or")}return s}const r=s.filters.map(a=>uS(a));return $e.create(r,s.op)}function s2(s){if(s.getFilters().length===0)return[];const e=cp(uS(s));return pe(cS(e),7391),lp(e)||up(e)?[e]:e.getFilters()}function lp(s){return s instanceof Pe}function up(s){return s instanceof $e&&Hp(s)}function cS(s){return lp(s)||up(s)||function(t){if(t instanceof $e&&ep(t)){for(const r of t.getFilters())if(!lp(r)&&!up(r))return!1;return!0}return!1}(s)}function cp(s){if(pe(s instanceof Pe||s instanceof $e,34018),s instanceof Pe)return s;if(s.filters.length===1)return cp(s.filters[0]);const e=s.filters.map(r=>cp(r));let t=$e.create(e,s.op);return t=Mf(t),cS(t)?t:(pe(t instanceof $e,64498),pe(Yo(t),40251),pe(t.filters.length>1,57927),t.filters.reduce((r,a)=>ny(r,a)))}function ny(s,e){let t;return pe(s instanceof Pe||s instanceof $e,38388),pe(e instanceof Pe||e instanceof $e,25473),t=s instanceof Pe?e instanceof Pe?function(a,l){return $e.create([a,l],"and")}(s,e):y0(s,e):e instanceof Pe?y0(e,s):function(a,l){if(pe(a.filters.length>0&&l.filters.length>0,48005),Yo(a)&&Yo(l))return RA(a,l.getFilters());const c=ep(a)?a:l,d=ep(a)?l:a,m=c.filters.map(p=>ny(p,d));return $e.create(m,"or")}(s,e),Mf(t)}function y0(s,e){if(Yo(e))return RA(e,s.getFilters());{const t=e.filters.map(r=>ny(s,r));return $e.create(t,"or")}}function Mf(s){if(pe(s instanceof Pe||s instanceof $e,11850),s instanceof Pe)return s;const e=s.getFilters();if(e.length===1)return Mf(e[0]);if(SA(s))return s;const t=e.map(a=>Mf(a)),r=[];return t.forEach(a=>{a instanceof Pe?r.push(a):a instanceof $e&&(a.op===s.op?r.push(...a.filters):r.push(a))}),r.length===1?r[0]:$e.create(r,s.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.yn=new ry}addToCollectionParentIndex(e,t){return this.yn.add(t),j.resolve()}getCollectionParents(e,t){return j.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return j.resolve()}deleteFieldIndex(e,t){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,t){return j.resolve()}getDocumentsMatchingTarget(e,t){return j.resolve(null)}getIndexType(e,t){return j.resolve(0)}getFieldIndexes(e,t){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,t){return j.resolve(Mn.min())}getMinOffsetFromCollectionGroup(e,t){return j.resolve(Mn.min())}updateCollectionGroup(e,t,r){return j.resolve()}updateIndexEntries(e,t){return j.resolve()}}class ry{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Xe(Oe.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Xe(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="IndexedDbIndexManager",ef=new Uint8Array(0);class o2{constructor(e,t){this.databaseId=t,this.wn=new ry,this.bn=new di(r=>ga(r),(r,a)=>mc(r,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.wn.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.wn.add(t)});const l={collectionId:r,parent:on(a)};return v0(e).put(l)}return j.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[Jb(t),""],!1,!0);return v0(e).J(a).next(l=>{for(const c of l){if(c.collectionId!==t)break;r.push(Tr(c.parent))}return r})}addFieldIndex(e,t){const r=Du(e),a=function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])}}(t);delete a.indexId;const l=r.add(a);if(t.indexState){const c=Ro(e);return l.next(d=>{c.put(h0(d,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=Du(e),a=Ro(e),l=wo(e);return r.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Du(e),r=wo(e),a=Ro(e);return t.X().next(()=>r.X()).next(()=>a.X())}createTargetIndexes(e,t){return j.forEach(this.Sn(t),r=>this.getIndexType(e,r).next(a=>{if(a===0||a===1){const l=new p0(r).pn();if(l!=null)return this.addFieldIndex(e,l)}}))}getDocumentsMatchingTarget(e,t){const r=wo(e);let a=!0;const l=new Map;return j.forEach(this.Sn(t),c=>this.Dn(e,c).next(d=>{a&&(a=!!d),l.set(c,d)})).next(()=>{if(a){let c=Ie();const d=[];return j.forEach(l,(m,p)=>{ie(_0,`Using index ${function(Z){return`id=${Z.indexId}|cg=${Z.collectionGroup}|f=${Z.fields.map(me=>`${me.fieldPath}:${me.kind}`).join(",")}`}(m)} to execute ${ga(t)}`);const _=function(Z,me){const fe=Qg(me);if(fe===void 0)return null;for(const Ee of Cf(Z,fe.fieldPath))switch(Ee.op){case"array-contains-any":return Ee.value.arrayValue.values||[];case"array-contains":return[Ee.value]}return null}(p,m),T=function(Z,me){const fe=new Map;for(const Ee of na(me))for(const V of Cf(Z,Ee.fieldPath))switch(V.op){case"==":case"in":fe.set(Ee.fieldPath.canonicalString(),V.value);break;case"not-in":case"!=":return fe.set(Ee.fieldPath.canonicalString(),V.value),Array.from(fe.values())}return null}(p,m),A=function(Z,me){const fe=[];let Ee=!0;for(const V of na(me)){const w=V.kind===0?JT(Z,V.fieldPath,Z.startAt):ZT(Z,V.fieldPath,Z.startAt);fe.push(w.value),Ee&&(Ee=w.inclusive)}return new os(fe,Ee)}(p,m),D=function(Z,me){const fe=[];let Ee=!0;for(const V of na(me)){const w=V.kind===0?ZT(Z,V.fieldPath,Z.endAt):JT(Z,V.fieldPath,Z.endAt);fe.push(w.value),Ee&&(Ee=w.inclusive)}return new os(fe,Ee)}(p,m),M=this.vn(m,p,A),H=this.vn(m,p,D),U=this.Cn(m,p,T),$=this.Fn(m.indexId,_,M,A.inclusive,H,D.inclusive,U);return j.forEach($,se=>r.Z(se,t.limit).next(Z=>{Z.forEach(me=>{const fe=le.fromSegments(me.documentKey);c.has(fe)||(c=c.add(fe),d.push(fe))})}))}).next(()=>d)}return j.resolve(null)})}Sn(e){let t=this.bn.get(e);return t||(e.filters.length===0?t=[e]:t=s2($e.create(e.filters,"and")).map(r=>np(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.bn.set(e,t),t)}Fn(e,t,r,a,l,c,d){const m=(t!=null?t.length:1)*Math.max(r.length,l.length),p=m/(t!=null?t.length:1),_=[];for(let T=0;T<m;++T){const A=t?this.Mn(t[T/p]):ef,D=this.xn(e,A,r[T%p],a),M=this.On(e,A,l[T%p],c),H=d.map(U=>this.xn(e,A,U,!0));_.push(...this.createRange(D,M,H))}return _}xn(e,t,r,a){const l=new oa(e,le.empty(),t,r);return a?l:l.In()}On(e,t,r,a){const l=new oa(e,le.empty(),t,r);return a?l.In():l}Dn(e,t){const r=new p0(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(l=>{let c=null;for(const d of l)r.Vn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(e,t){let r=2;const a=this.Sn(t);return j.forEach(a,l=>this.Dn(e,l).next(c=>{c?r!==0&&c.fields.length<function(m){let p=new Xe(ut.comparator),_=!1;for(const T of m.filters)for(const A of T.getFlattenedFilters())A.field.isKeyField()||(A.op==="array-contains"||A.op==="array-contains-any"?_=!0:p=p.add(A.field));for(const T of m.orderBy)T.field.isKeyField()||(p=p.add(T.field));return p.size+(_?1:0)}(l)&&(r=1):r=0})).next(()=>function(c){return c.limit!==null}(t)&&a.length>1&&r===2?1:r)}Nn(e,t){const r=new xu;for(const a of na(e)){const l=t.data.field(a.fieldPath);if(l==null)return null;const c=r.Tn(a.kind);aa.Wt.vt(l,c)}return r.cn()}Mn(e){const t=new xu;return aa.Wt.vt(e,t.Tn(0)),t.cn()}Bn(e,t){const r=new xu;return aa.Wt.vt(ma(this.databaseId,t),r.Tn(function(l){const c=na(l);return c.length===0?0:c[c.length-1].kind}(e))),r.cn()}Cn(e,t,r){if(r===null)return[];let a=[];a.push(new xu);let l=0;for(const c of na(e)){const d=r[l++];for(const m of a)if(this.Ln(t,c.fieldPath)&&Wu(d))a=this.kn(a,c,d);else{const p=m.Tn(c.kind);aa.Wt.vt(d,p)}}return this.qn(a)}vn(e,t,r){return this.Cn(e,t,r.position)}qn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].cn();return t}kn(e,t,r){const a=[...e],l=[];for(const c of r.arrayValue.values||[])for(const d of a){const m=new xu;m.seed(d.cn()),aa.Wt.vt(c,m.Tn(t.kind)),l.push(m)}return l}Ln(e,t){return!!e.filters.find(r=>r instanceof Pe&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Du(e),a=Ro(e);return(t?r.J($g,IDBKeyRange.bound(t,t)):r.J()).next(l=>{const c=[];return j.forEach(l,d=>a.get([d.indexId,this.uid]).next(m=>{c.push(function(_,T){const A=T?new Ku(T.sequenceNumber,new Mn(va(T.readTime),new le(Tr(T.documentKey)),T.largestBatchId)):Ku.empty(),D=_.fields.map(([M,H])=>new lf(ut.fromServerFormat(M),H));return new bf(_.indexId,_.collectionGroup,D,A)}(d,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,a)=>{const l=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:Se(r.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const a=Du(e),l=Ro(e);return this.Qn(e).next(c=>a.J($g,IDBKeyRange.bound(t,t)).next(d=>j.forEach(d,m=>l.put(h0(m.indexId,this.uid,c,r)))))}updateIndexEntries(e,t){const r=new Map;return j.forEach(t,(a,l)=>{const c=r.get(a.collectionGroup);return(c?j.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next(d=>(r.set(a.collectionGroup,d),j.forEach(d,m=>this.$n(e,a,m).next(p=>{const _=this.Un(l,m);return p.isEqual(_)?j.resolve():this.Kn(e,l,m,p,_)}))))})}Wn(e,t,r,a){return wo(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.Bn(r,t.key),documentKey:t.key.path.toArray()})}Gn(e,t,r,a){return wo(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.Bn(r,t.key),t.key.path.toArray()])}$n(e,t,r){const a=wo(e);let l=new Xe(Hi);return a.te({index:lA,range:IDBKeyRange.only([r.indexId,this.uid,this.Bn(r,t)])},(c,d)=>{l=l.add(new oa(r.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>l)}Un(e,t){let r=new Xe(Hi);const a=this.Nn(t,e);if(a==null)return r;const l=Qg(t);if(l!=null){const c=e.data.field(l.fieldPath);if(Wu(c))for(const d of c.arrayValue.values||[])r=r.add(new oa(t.indexId,e.key,this.Mn(d),a))}else r=r.add(new oa(t.indexId,e.key,ef,a));return r}Kn(e,t,r,a,l){ie(_0,"Updating index entries for document '%s'",t.key);const c=[];return function(m,p,_,T,A){const D=m.getIterator(),M=p.getIterator();let H=Ao(D),U=Ao(M);for(;H||U;){let $=!1,se=!1;if(H&&U){const Z=_(H,U);Z<0?se=!0:Z>0&&($=!0)}else H!=null?se=!0:$=!0;$?(T(U),U=Ao(M)):se?(A(H),H=Ao(D)):(H=Ao(D),U=Ao(M))}}(a,l,Hi,d=>{c.push(this.Wn(e,t,r,d))},d=>{c.push(this.Gn(e,t,r,d))}),j.waitFor(c)}Qn(e){let t=1;return Ro(e).te({index:oA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,a,l)=>{l.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,d)=>Hi(c,d)).filter((c,d,m)=>!d||Hi(c,m[d-1])!==0);const a=[];a.push(e);for(const c of r){const d=Hi(c,e),m=Hi(c,t);if(d===0)a[0]=e.In();else if(d>0&&m<0)a.push(c),a.push(c.In());else if(m>0)break}a.push(t);const l=[];for(let c=0;c<a.length;c+=2){if(this.zn(a[c],a[c+1]))return[];const d=[a[c].indexId,this.uid,a[c].arrayValue,a[c].directionalValue,ef,[]],m=[a[c+1].indexId,this.uid,a[c+1].arrayValue,a[c+1].directionalValue,ef,[]];l.push(IDBKeyRange.bound(d,m))}return l}zn(e,t){return Hi(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(E0)}getMinOffset(e,t){return j.mapArray(this.Sn(t),r=>this.Dn(e,r).next(a=>a||de(44426))).next(E0)}}function v0(s){return kt(s,Xu)}function wo(s){return kt(s,If)}function Du(s){return kt(s,zp)}function Ro(s){return kt(s,Rf)}function E0(s){pe(s.length!==0,28825);let e=s[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<s.length;r++){const a=s[r].indexState.offset;kp(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Mn(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hS=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(s,e,t){const r=s.store(tr),a=s.store(qo),l=[],c=IDBKeyRange.only(t.batchId);let d=0;const m=r.te({range:c},(_,T,A)=>(d++,A.delete()));l.push(m.next(()=>{pe(d===1,47070,{batchId:t.batchId})}));const p=[];for(const _ of t.mutations){const T=iA(e,_.key.path,t.batchId);l.push(a.delete(T)),p.push(_.key)}return j.waitFor(l).next(()=>p)}function Of(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw de(14731);e=s.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(hS,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);class td{constructor(e,t,r,a){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=a,this.jn={}}static bt(e,t,r,a){pe(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new td(l,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ki(e).te({index:ua,range:r},(a,l,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,a){const l=Mo(e),c=Ki(e);return c.add({}).next(d=>{pe(typeof d=="number",49019);const m=new Xp(d,t,r,a),p=function(D,M,H){const U=H.baseMutations.map(se=>nc(D.wt,se)),$=H.mutations.map(se=>nc(D.wt,se));return{userId:M,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:U,mutations:$}}(this.serializer,this.userId,m),_=[];let T=new Xe((A,D)=>Se(A.canonicalString(),D.canonicalString()));for(const A of a){const D=iA(this.userId,A.key.path,d);T=T.add(A.key.path.popLast()),_.push(c.put(p)),_.push(l.put(D,jD))}return T.forEach(A=>{_.push(this.indexManager.addToCollectionParentIndex(e,A))}),e.addOnCommittedListener(()=>{this.jn[d]=m.keys()}),j.waitFor(_).next(()=>m)})}lookupMutationBatch(e,t){return Ki(e).get(t).next(r=>r?(pe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),sa(this.serializer,r)):null)}Hn(e,t){return this.jn[t]?j.resolve(this.jn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const a=r.keys();return this.jn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Ki(e).te({index:ua,range:a},(c,d,m)=>{d.userId===this.userId&&(pe(d.batchId>=r,47524,{Jn:r}),l=sa(this.serializer,d)),m.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Wi;return Ki(e).te({index:ua,range:t,reverse:!0},(a,l,c)=>{r=l.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Wi],[this.userId,Number.POSITIVE_INFINITY]);return Ki(e).J(ua,t).next(r=>r.map(a=>sa(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=uf(this.userId,t.path),a=IDBKeyRange.lowerBound(r),l=[];return Mo(e).te({range:a},(c,d,m)=>{const[p,_,T]=c,A=Tr(_);if(p===this.userId&&t.path.isEqual(A))return Ki(e).get(T).next(D=>{if(!D)throw de(61480,{Yn:c,batchId:T});pe(D.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:D.userId,batchId:T}),l.push(sa(this.serializer,D))});m.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xe(Se);const a=[];return t.forEach(l=>{const c=uf(this.userId,l.path),d=IDBKeyRange.lowerBound(c),m=Mo(e).te({range:d},(p,_,T)=>{const[A,D,M]=p,H=Tr(D);A===this.userId&&l.path.isEqual(H)?r=r.add(M):T.done()});a.push(m)}),j.waitFor(a).next(()=>this.Zn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,l=uf(this.userId,r),c=IDBKeyRange.lowerBound(l);let d=new Xe(Se);return Mo(e).te({range:c},(m,p,_)=>{const[T,A,D]=m,M=Tr(A);T===this.userId&&r.isPrefixOf(M)?M.length===a&&(d=d.add(D)):_.done()}).next(()=>this.Zn(e,d))}Zn(e,t){const r=[],a=[];return t.forEach(l=>{a.push(Ki(e).get(l).next(c=>{if(c===null)throw de(35274,{batchId:l});pe(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),r.push(sa(this.serializer,c))}))}),j.waitFor(a).next(()=>r)}removeMutationBatch(e,t){return fS(e.he,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Xn(t.batchId)}),j.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Xn(e){delete this.jn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return j.resolve();const r=IDBKeyRange.lowerBound(function(c){return[c]}(this.userId)),a=[];return Mo(e).te({range:r},(l,c,d)=>{if(l[0]===this.userId){const m=Tr(l[1]);a.push(m)}else d.done()}).next(()=>{pe(a.length===0,56720,{er:a.map(l=>l.canonicalString())})})})}containsKey(e,t){return dS(e,this.userId,t)}tr(e){return mS(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Wi,lastStreamToken:""})}}function dS(s,e,t){const r=uf(e,t.path),a=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return Mo(s).te({range:l,ee:!0},(d,m,p)=>{const[_,T,A]=d;_===e&&T===a&&(c=!0),p.done()}).next(()=>c)}function Ki(s){return kt(s,tr)}function Mo(s){return kt(s,qo)}function mS(s){return kt(s,Yu)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ea(0)}static ir(){return new Ea(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.sr(e).next(t=>{const r=new Ea(t.highestTargetId);return t.highestTargetId=r.next(),this._r(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.sr(e).next(t=>ye.fromTimestamp(new ht(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.sr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.sr(e).next(a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this._r(e,a)))}addTargetData(e,t){return this.ar(e,t).next(()=>this.sr(e).next(r=>(r.targetCount+=1,this.ur(t,r),this._r(e,r))))}updateTargetData(e,t){return this.ar(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Io(e).delete(t.targetId)).next(()=>this.sr(e)).next(r=>(pe(r.targetCount>0,8065),r.targetCount-=1,this._r(e,r)))}removeTargets(e,t,r){let a=0;const l=[];return Io(e).te((c,d)=>{const m=Pu(d);m.sequenceNumber<=t&&r.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(e,m)))}).next(()=>j.waitFor(l)).next(()=>a)}forEachTarget(e,t){return Io(e).te((r,a)=>{const l=Pu(a);t(l)})}sr(e){return b0(e).get(wf).next(t=>(pe(t!==null,2888),t))}_r(e,t){return b0(e).put(wf,t)}ar(e,t){return Io(e).put(lS(this.serializer,t))}ur(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.sr(e).next(t=>t.targetCount)}getTargetData(e,t){const r=ga(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Io(e).te({range:a,index:aA},(c,d,m)=>{const p=Pu(d);mc(t,p.target)&&(l=p,m.done())}).next(()=>l)}addMatchingKeys(e,t,r){const a=[],l=Yi(e);return t.forEach(c=>{const d=on(c.path);a.push(l.put({targetId:r,path:d})),a.push(this.referenceDelegate.addReference(e,r,c))}),j.waitFor(a)}removeMatchingKeys(e,t,r){const a=Yi(e);return j.forEach(t,l=>{const c=on(l.path);return j.waitFor([a.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Yi(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Yi(e);let l=Ie();return a.te({range:r,ee:!0},(c,d,m)=>{const p=Tr(c[1]),_=new le(p);l=l.add(_)}).next(()=>l)}containsKey(e,t){const r=on(t.path),a=IDBKeyRange.bound([r],[Jb(r)],!1,!0);let l=0;return Yi(e).te({index:Up,ee:!0,range:a},([c,d],m,p)=>{c!==0&&(l++,p.done())}).next(()=>l>0)}Rt(e,t){return Io(e).get(t).next(r=>r?Pu(r):null)}}function Io(s){return kt(s,Fo)}function b0(s){return kt(s,fa)}function Yi(s){return kt(s,Go)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="LruGarbageCollector",u2=1048576;function S0([s,e],[t,r]){const a=Se(s,t);return a===0?Se(e,r):a}class c2{constructor(e){this.cr=e,this.buffer=new Xe(S0),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();S0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gS{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ie(A0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ds(t)?ie(A0,"Ignoring IndexedDB error during garbage collection: ",t):await fs(t)}await this.Ir(3e5)})}}class h2{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return j.resolve(En.le);const r=new c2(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(T0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T0):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,l,c,d,m,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(r=T,d=Date.now(),this.removeTargets(e,r,t))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(T=>(p=Date.now(),Do()<=Le.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-_}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function pS(s,e){return new h2(s,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,t){this.db=e,this.garbageCollector=pS(this,t)}dr(e){const t=this.Vr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ar(e,t){return this.mr(e,(r,a)=>t(a))}addReference(e,t,r){return tf(e,r)}removeReference(e,t,r){return tf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return tf(e,t)}gr(e,t){return function(a,l){let c=!1;return mS(a).ne(d=>dS(a,d,l).next(m=>(m&&(c=!0),j.resolve(!m)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.mr(e,(c,d)=>{if(d<=t){const m=this.gr(e,c).next(p=>{if(!p)return l++,r.getEntry(e,c).next(()=>(r.removeEntry(c,ye.min()),Yi(e).delete(function(T){return[0,on(T.path)]}(c))))});a.push(m)}}).next(()=>j.waitFor(a)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return tf(e,t)}mr(e,t){const r=Yi(e);let a,l=En.le;return r.te({index:Up},([c,d],{path:m,sequenceNumber:p})=>{c===0?(l!==En.le&&t(new le(Tr(a)),l),l=p,a=m):l=En.le}).next(()=>{l!==En.le&&t(new le(Tr(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tf(s,e){return Yi(s).put(function(r,a){return{targetId:0,path:on(r.path),sequenceNumber:a}}(e,s.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.changes=new di(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,st.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?j.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ea(e).put(r)}removeEntry(e,t,r){return ea(e).delete(function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Nf(c),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.pr(e,r)))}getEntry(e,t){let r=st.newInvalidDocument(t);return ea(e).te({index:cf,range:IDBKeyRange.only(Cu(t))},(a,l)=>{r=this.yr(t,l)}).next(()=>r)}wr(e,t){let r={size:0,document:st.newInvalidDocument(t)};return ea(e).te({index:cf,range:IDBKeyRange.only(Cu(t))},(a,l)=>{r={document:this.yr(t,l),size:Of(l)}}).next(()=>r)}getEntries(e,t){let r=bn();return this.br(e,t,(a,l)=>{const c=this.yr(a,l);r=r.insert(a,c)}).next(()=>r)}Sr(e,t){let r=bn(),a=new it(le.comparator);return this.br(e,t,(l,c)=>{const d=this.yr(l,c);r=r.insert(l,d),a=a.insert(l,Of(c))}).next(()=>({documents:r,Dr:a}))}br(e,t,r){if(t.isEmpty())return j.resolve();let a=new Xe(I0);t.forEach(m=>a=a.add(m));const l=IDBKeyRange.bound(Cu(a.first()),Cu(a.last())),c=a.getIterator();let d=c.getNext();return ea(e).te({index:cf,range:l},(m,p,_)=>{const T=le.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;d&&I0(d,T)<0;)r(d,null),d=c.getNext();d&&d.isEqual(T)&&(r(d,p),d=c.hasNext()?c.getNext():null),d?_.H(Cu(d)):_.done()}).next(()=>{for(;d;)r(d,null),d=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,a,l){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),Nf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ea(e).J(IDBKeyRange.bound(d,m,!0)).next(p=>{l==null||l.incrementDocumentReadCount(p.length);let _=bn();for(const T of p){const A=this.yr(le.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);A.isFoundDocument()&&(pc(t,A)||a.has(A.key))&&(_=_.insert(A.key,A))}return _})}getAllFromCollectionGroup(e,t,r,a){let l=bn();const c=R0(t,r),d=R0(t,Mn.max());return ea(e).te({index:sA,range:IDBKeyRange.bound(c,d,!0)},(m,p,_)=>{const T=this.yr(le.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(T.key,T),l.size===a&&_.done()}).next(()=>l)}newChangeBuffer(e){return new m2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return w0(e).get(Yg).next(t=>(pe(!!t,20021),t))}pr(e,t){return w0(e).put(Yg,t)}yr(e,t){if(t){const r=ZC(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(ye.min())))return r}return st.newInvalidDocument(e)}}function _S(s){return new d2(s)}class m2 extends yS{constructor(e,t){super(),this.vr=e,this.trackRemovals=t,this.Cr=new di(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const t=[];let r=0,a=new Xe((l,c)=>Se(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const d=this.Cr.get(l);if(t.push(this.vr.removeEntry(e,l,d.readTime)),c.isValidDocument()){const m=u0(this.vr.serializer,c);a=a.add(l.path.popLast());const p=Of(m);r+=p-d.size,t.push(this.vr.addEntry(e,l,m))}else if(r-=d.size,this.trackRemovals){const m=u0(this.vr.serializer,c.convertToNoDocument(ye.min()));t.push(this.vr.addEntry(e,l,m))}}),a.forEach(l=>{t.push(this.vr.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.vr.updateMetadata(e,r)),j.waitFor(t)}getFromCache(e,t){return this.vr.wr(e,t).next(r=>(this.Cr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.vr.Sr(e,t).next(({documents:r,Dr:a})=>(a.forEach((l,c)=>{this.Cr.set(l,{size:c,readTime:r.get(l).readTime})}),r))}}function w0(s){return kt(s,$u)}function ea(s){return kt(s,Sf)}function Cu(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function R0(s,e){const t=e.documentKey.path.toArray();return[s,Nf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function I0(s,e){const t=s.path.toArray(),r=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(a=Se(t[l],r[l]),a)return a;return a=Se(t.length,r.length),a||(a=Se(t[t.length-2],r[r.length-2]),a||Se(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&zu(r.mutation,a,Tn.empty(),ht.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ie()){const a=br();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(l=>{let c=Mu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=br();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ie()))}populateOverlays(e,t,r){const a=[];return r.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,r,a){let l=bn();const c=Uu(),d=function(){return Uu()}();return t.forEach((m,p)=>{const _=r.get(p.key);a.has(p.key)&&(_===void 0||_.mutation instanceof mi)?l=l.insert(p.key,p):_!==void 0?(c.set(p.key,_.mutation.getFieldMask()),zu(_.mutation,p,_.mutation.getFieldMask(),ht.now())):c.set(p.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,_)=>c.set(p,_)),t.forEach((p,_)=>{var T;return d.set(p,new g2(_,(T=c.get(p))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const r=Uu();let a=new it((c,d)=>c-d),l=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let _=r.get(m)||Tn.empty();_=d.applyToLocalView(p,_),r.set(m,_);const T=(a.get(d.batchId)||Ie()).add(m);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,_=m.value,T=LA();_.forEach(A=>{if(!l.has(A)){const D=FA(t.get(A),r.get(A));D!==null&&T.set(A,D),l=l.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return j.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(c){return le.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Kp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):j.resolve(br());let d=jo,m=l;return c.next(p=>j.forEach(p,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?j.resolve():this.remoteDocumentCache.getEntry(e,_).next(A=>{m=m.insert(_,A)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,Ie())).next(_=>({batchId:d,changes:PA(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new le(t)).next(r=>{let a=Mu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=Mu();return this.indexManager.getCollectionParents(e,l).next(d=>j.forEach(d,m=>{const p=function(T,A){return new fi(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(_=>{_.forEach((T,A)=>{c=c.insert(T,A)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a))).next(c=>{l.forEach((m,p)=>{const _=p.getKey();c.get(_)===null&&(c=c.insert(_,st.newInvalidDocument(_)))});let d=Mu();return c.forEach((m,p)=>{const _=l.get(m);_!==void 0&&zu(_.mutation,p,Tn.empty(),ht.now()),pc(t,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return j.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:St(a.createTime)}}(t)),j.resolve()}getNamedQuery(e,t){return j.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:ty(a.bundledQuery),readTime:St(a.readTime)}}(t)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.overlays=new it(le.comparator),this.Or=new Map}getOverlay(e,t){return j.resolve(this.overlays.get(t))}getOverlays(e,t){const r=br();return j.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,l)=>{this.St(e,t,l)}),j.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(r)),j.resolve()}getOverlaysForCollection(e,t,r){const a=br(),l=t.length+1,c=new le(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return j.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new it((p,_)=>p-_);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let _=l.get(p.largestBatchId);_===null&&(_=br(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const d=br(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,_)=>d.set(p,_)),!(d.size()>=a)););return j.resolve(d)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Zp(t,r));let l=this.Or.get(t);l===void 0&&(l=Ie(),this.Or.set(t,l)),this.Or.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this.Nr=new Xe(Gt.Br),this.Lr=new Xe(Gt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Gt(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Gt(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new le(new Oe([])),r=new Gt(t,e),a=new Gt(t,e+1),l=[];return this.Lr.forEachInRange([r,a],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new le(new Oe([])),r=new Gt(t,e),a=new Gt(t,e+1);let l=Ie();return this.Lr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Gt(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return le.comparator(e.key,t.key)||Se(e.Gr,t.Gr)}static kr(e,t){return Se(e.Gr,t.Gr)||le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Xe(Gt.Br)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Xp(l,t,r,a);this.mutationQueue.push(c);for(const d of a)this.zr=this.zr.add(new Gt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return j.resolve(c)}lookupMutationBatch(e,t){return j.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),l=a<0?0:a;return j.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Wi:this.Jn-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Gt(t,0),a=new Gt(t,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([r,a],c=>{const d=this.jr(c.Gr);l.push(d)}),j.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xe(Se);return t.forEach(a=>{const l=new Gt(a,0),c=new Gt(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],d=>{r=r.add(d.Gr)})}),j.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;le.isDocumentKey(l)||(l=l.child(""));const c=new Gt(new le(l),0);let d=new Xe(Se);return this.zr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Gr)),!0)},c),j.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){pe(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return j.forEach(t.mutations,a=>{const l=new Gt(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Gt(t,0),a=this.zr.firstAfterOrEqual(r);return j.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.Zr=e,this.docs=function(){return new it(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return j.resolve(r?r.document.mutableCopy():st.newInvalidDocument(t))}getEntries(e,t){let r=bn();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():st.newInvalidDocument(a))}),j.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=bn();const c=t.path,d=new le(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:_}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||kp(Wb(_),r)<=0||(a.has(_.key)||pc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return j.resolve(l)}getAllFromCollectionGroup(e,t,r,a){de(9500)}Xr(e,t){return j.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new T2(this)}getSize(e){return j.resolve(this.size)}}class T2 extends yS{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),j.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.persistence=e,this.ei=new di(t=>ga(t),mc),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.ti=0,this.ni=new iy,this.targetCount=0,this.ri=Ea.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),j.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Ea(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,j.resolve()}updateTargetData(e,t){return this.ar(t),j.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),j.waitFor(l).next(()=>a)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return j.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),j.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),j.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),j.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return j.resolve(r)}containsKey(e,t){return j.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,t){this.ii={},this.overlays={},this.si=new En(0),this.oi=!1,this.oi=!0,this._i=new _2,this.referenceDelegate=e(this),this.ai=new b2(this),this.indexManager=new a2,this.remoteDocumentCache=function(a){return new E2(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new oS(t),this.ci=new p2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new y2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new v2(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){ie("MemoryPersistence","Starting transaction:",e);const a=new A2(this.si.next());return this.referenceDelegate.li(),r(a).next(l=>this.referenceDelegate.hi(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Pi(e,t){return j.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class A2 extends tA{constructor(e){super(),this.currentSequenceNumber=e}}class nd{constructor(e){this.persistence=e,this.Ti=new iy,this.Ii=null}static Ei(e){return new nd(e)}get di(){if(this.Ii)return this.Ii;throw de(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),j.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),j.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.di.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,r=>{const a=le.fromPath(r);return this.Ai(e,a).next(l=>{l||t.removeEntry(a,ye.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return j.or([()=>j.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Pf{constructor(e,t){this.persistence=e,this.Ri=new di(r=>on(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=pS(this,t)}static Ei(e,t){return new Pf(e,t)}li(){}hi(e){return j.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return j.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(l=>l?j.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.Xr(e,c=>this.gr(e,c,t).next(d=>{d||(r++,l.removeEntry(c,ye.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),j.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),j.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ff(e.data.value)),t}gr(e,t,r){return j.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return j.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.serializer=e}q(e,t,r,a){const l=new Hf("createOrUpgrade",t);r<1&&a>=1&&(function(m){m.createObjectStore(dc)}(e),function(m){m.createObjectStore(Yu,{keyPath:zD}),m.createObjectStore(tr,{keyPath:UT,autoIncrement:!0}).createIndex(ua,zT,{unique:!0}),m.createObjectStore(qo)}(e),x0(e),function(m){m.createObjectStore(ra)}(e));let c=j.resolve();return r<3&&a>=3&&(r!==0&&(function(m){m.deleteObjectStore(Go),m.deleteObjectStore(Fo),m.deleteObjectStore(fa)}(e),x0(e)),c=c.next(()=>function(m){const p=m.store(fa),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ye.min().toTimestamp(),targetCount:0};return p.put(wf,_)}(l))),r<4&&a>=4&&(r!==0&&(c=c.next(()=>function(m,p){return p.store(tr).J().next(T=>{m.deleteObjectStore(tr),m.createObjectStore(tr,{keyPath:UT,autoIncrement:!0}).createIndex(ua,zT,{unique:!0});const A=p.store(tr),D=T.map(M=>A.put(M));return j.waitFor(D)})}(e,l))),c=c.next(()=>{(function(m){m.createObjectStore(Ho,{keyPath:$D})})(e)})),r<5&&a>=5&&(c=c.next(()=>this.Vi(l))),r<6&&a>=6&&(c=c.next(()=>(function(m){m.createObjectStore($u)}(e),this.mi(l)))),r<7&&a>=7&&(c=c.next(()=>this.fi(l))),r<8&&a>=8&&(c=c.next(()=>this.gi(e,l))),r<9&&a>=9&&(c=c.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&a>=10&&(c=c.next(()=>this.pi(l))),r<11&&a>=11&&(c=c.next(()=>{(function(m){m.createObjectStore(Kf,{keyPath:XD})})(e),function(m){m.createObjectStore(Qf,{keyPath:JD})}(e)})),r<12&&a>=12&&(c=c.next(()=>{(function(m){const p=m.createObjectStore(Yf,{keyPath:iC});p.createIndex(Xg,sC,{unique:!1}),p.createIndex(uA,aC,{unique:!1})})(e)})),r<13&&a>=13&&(c=c.next(()=>function(m){const p=m.createObjectStore(Sf,{keyPath:qD});p.createIndex(cf,FD),p.createIndex(sA,GD)}(e)).next(()=>this.yi(e,l)).next(()=>e.deleteObjectStore(ra))),r<14&&a>=14&&(c=c.next(()=>this.wi(e,l))),r<15&&a>=15&&(c=c.next(()=>function(m){m.createObjectStore(zp,{keyPath:ZD,autoIncrement:!0}).createIndex($g,WD,{unique:!1}),m.createObjectStore(Rf,{keyPath:eC}).createIndex(oA,tC,{unique:!1}),m.createObjectStore(If,{keyPath:nC}).createIndex(lA,rC,{unique:!1})}(e))),r<16&&a>=16&&(c=c.next(()=>{t.objectStore(Rf).clear()}).next(()=>{t.objectStore(If).clear()})),r<17&&a>=17&&(c=c.next(()=>{(function(m){m.createObjectStore(jp,{keyPath:oC})})(e)})),c}mi(e){let t=0;return e.store(ra).te((r,a)=>{t+=Of(a)}).next(()=>{const r={byteSize:t};return e.store($u).put(Yg,r)})}Vi(e){const t=e.store(Yu),r=e.store(tr);return t.J().next(a=>j.forEach(a,l=>{const c=IDBKeyRange.bound([l.userId,Wi],[l.userId,l.lastAcknowledgedBatchId]);return r.J(ua,c).next(d=>j.forEach(d,m=>{pe(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const p=sa(this.serializer,m);return fS(e,l.userId,p).next(()=>{})}))}))}fi(e){const t=e.store(Go),r=e.store(ra);return e.store(fa).get(wf).next(a=>{const l=[];return r.te((c,d)=>{const m=new Oe(c),p=function(T){return[0,on(T)]}(m);l.push(t.get(p).next(_=>_?j.resolve():(T=>t.put({targetId:0,path:on(T),sequenceNumber:a.highestListenSequenceNumber}))(m)))}).next(()=>j.waitFor(l))})}gi(e,t){e.createObjectStore(Xu,{keyPath:YD});const r=t.store(Xu),a=new ry,l=c=>{if(a.add(c)){const d=c.lastSegment(),m=c.popLast();return r.put({collectionId:d,parent:on(m)})}};return t.store(ra).te({ee:!0},(c,d)=>{const m=new Oe(c);return l(m.popLast())}).next(()=>t.store(qo).te({ee:!0},([c,d,m],p)=>{const _=Tr(d);return l(_.popLast())}))}pi(e){const t=e.store(Fo);return t.te((r,a)=>{const l=Pu(a),c=lS(this.serializer,l);return t.put(c)})}yi(e,t){const r=t.store(ra),a=[];return r.te((l,c)=>{const d=t.store(Sf),m=function(T){return T.document?new le(Oe.fromString(T.document.name).popFirst(5)):T.noDocument?le.fromSegments(T.noDocument.path):T.unknownDocument?le.fromSegments(T.unknownDocument.path):de(36783)}(c).path.toArray(),p={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(p))}).next(()=>j.waitFor(a))}wi(e,t){const r=t.store(tr),a=_S(this.serializer),l=new sy(nd.Ei,this.serializer.wt);return r.J().next(c=>{const d=new Map;return c.forEach(m=>{var p;let _=(p=d.get(m.userId))!==null&&p!==void 0?p:Ie();sa(this.serializer,m).keys().forEach(T=>_=_.add(T)),d.set(m.userId,_)}),j.forEach(d,(m,p)=>{const _=new Ht(p),T=ed.bt(this.serializer,_),A=l.getIndexManager(_),D=td.bt(_,this.serializer,A,l.referenceDelegate);return new vS(a,D,T,A).recalculateAndSaveOverlaysForDocumentKeys(new Jg(t,En.le),m).next()})})}}function x0(s){s.createObjectStore(Go,{keyPath:KD}).createIndex(Up,QD,{unique:!0}),s.createObjectStore(Fo,{keyPath:"targetId"}).createIndex(aA,HD,{unique:!0}),s.createObjectStore(fa)}const Qi="IndexedDbPersistence",Ng=18e5,Mg=5e3,Og="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ES="main";class ay{constructor(e,t,r,a,l,c,d,m,p,_,T=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.bi=l,this.window=c,this.document=d,this.Si=p,this.Di=_,this.Ci=T,this.si=null,this.oi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fi=null,this.inForeground=!1,this.Mi=null,this.xi=null,this.Oi=Number.NEGATIVE_INFINITY,this.Ni=A=>Promise.resolve(),!ay.C())throw new re(Q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new f2(this,a),this.Bi=t+ES,this.serializer=new oS(m),this.Li=new Ar(this.Bi,this.Ci,new S2(this.serializer)),this._i=new e2,this.ai=new l2(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_S(this.serializer),this.ci=new WC,this.window&&this.window.localStorage?this.ki=this.window.localStorage:(this.ki=null,_===!1&&At(Qi,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.qi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re(Q.FAILED_PRECONDITION,Og);return this.Qi(),this.$i(),this.Ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ai.getHighestSequenceNumber(e))}).then(e=>{this.si=new En(e,this.Si)}).then(()=>{this.oi=!0}).catch(e=>(this.Li&&this.Li.close(),Promise.reject(e)))}Ki(e){return this.Ni=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Li.U(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.bi.enqueueAndForget(async()=>{this.started&&await this.qi()}))}qi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>nf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Wi(e).next(t=>{t||(this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)))})}).next(()=>this.Gi(e)).next(t=>this.isPrimary&&!t?this.zi(e).next(()=>!1):!!t&&this.ji(e).next(()=>!0))).catch(e=>{if(ds(e))return ie(Qi,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ie(Qi,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.bi.enqueueRetryable(()=>this.Ni(e)),this.isPrimary=e})}Wi(e){return Vu(e).get(bo).next(t=>j.resolve(this.Hi(t)))}Ji(e){return nf(e).delete(this.clientId)}async Yi(){if(this.isPrimary&&!this.Zi(this.Oi,Ng)){this.Oi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=kt(t,Ho);return r.J().next(a=>{const l=this.Xi(a,Ng),c=a.filter(d=>l.indexOf(d)===-1);return j.forEach(c,d=>r.delete(d.clientId)).next(()=>c)})}).catch(()=>[]);if(this.ki)for(const t of e)this.ki.removeItem(this.es(t.clientId))}}Ui(){this.xi=this.bi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.qi().then(()=>this.Yi()).then(()=>this.Ui()))}Hi(e){return!!e&&e.ownerId===this.clientId}Gi(e){return this.Di?j.resolve(!0):Vu(e).get(bo).next(t=>{if(t!==null&&this.Zi(t.leaseTimestampMs,Mg)&&!this.ts(t.ownerId)){if(this.Hi(t)&&this.networkEnabled)return!0;if(!this.Hi(t)){if(!t.allowTabSynchronization)throw new re(Q.FAILED_PRECONDITION,Og);return!1}}return!(!this.networkEnabled||!this.inForeground)||nf(e).J().next(r=>this.Xi(r,Mg).find(a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(l||c&&d)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&ie(Qi,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.oi=!1,this.ns(),this.xi&&(this.xi.cancel(),this.xi=null),this.rs(),this.ss(),await this.Li.runTransaction("shutdown","readwrite",[dc,Ho],e=>{const t=new Jg(e,En.le);return this.zi(t).next(()=>this.Ji(t))}),this.Li.close(),this._s()}Xi(e,t){return e.filter(r=>this.Zi(r.updateTimeMs,t)&&!this.ts(r.clientId))}us(){return this.runTransaction("getActiveClients","readonly",e=>nf(e).J().next(t=>this.Xi(t,Ng).map(r=>r.clientId)))}get started(){return this.oi}getGlobalsCache(){return this._i}getMutationQueue(e,t){return td.bt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new o2(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return ed.bt(this.serializer,e)}getBundleCache(){return this.ci}runTransaction(e,t,r){ie(Qi,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",l=function(m){return m===17?cC:m===16?uC:m===15?qp:m===14?fA:m===13?hA:m===12?lC:m===11?cA:void de(60245)}(this.Ci);let c;return this.Li.runTransaction(e,a,l,d=>(c=new Jg(d,this.si?this.si.next():En.le),t==="readwrite-primary"?this.Wi(c).next(m=>!!m||this.Gi(c)).next(m=>{if(!m)throw At(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)),new re(Q.FAILED_PRECONDITION,eA);return r(c)}).next(m=>this.ji(c).next(()=>m)):this.cs(c).next(()=>r(c)))).then(d=>(c.raiseOnCommittedEvent(),d))}cs(e){return Vu(e).get(bo).next(t=>{if(t!==null&&this.Zi(t.leaseTimestampMs,Mg)&&!this.ts(t.ownerId)&&!this.Hi(t)&&!(this.Di||this.allowTabSynchronization&&t.allowTabSynchronization))throw new re(Q.FAILED_PRECONDITION,Og)})}ji(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vu(e).put(bo,t)}static C(){return Ar.C()}zi(e){const t=Vu(e);return t.get(bo).next(r=>this.Hi(r)?(ie(Qi,"Releasing primary lease."),t.delete(bo)):j.resolve())}Zi(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(At(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Qi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Mi=()=>{this.bi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.qi()))},this.document.addEventListener("visibilitychange",this.Mi),this.inForeground=this.document.visibilityState==="visible")}rs(){this.Mi&&(this.document.removeEventListener("visibilitychange",this.Mi),this.Mi=null)}$i(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Fi=()=>{this.ns();const t=/(?:Version|Mobile)\/1[456]/;Ib()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.bi.enterRestrictedMode(!0),this.bi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Fi))}ss(){this.Fi&&(this.window.removeEventListener("pagehide",this.Fi),this.Fi=null)}ts(e){var t;try{const r=((t=this.ki)===null||t===void 0?void 0:t.getItem(this.es(e)))!==null;return ie(Qi,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return At(Qi,"Failed to get zombied client id.",r),!1}}ns(){if(this.ki)try{this.ki.setItem(this.es(this.clientId),String(Date.now()))}catch(e){At("Failed to set zombie client id.",e)}}_s(){if(this.ki)try{this.ki.removeItem(this.es(this.clientId))}catch{}}es(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vu(s){return kt(s,dc)}function nf(s){return kt(s,Ho)}function oy(s,e){let t=s.projectId;return s.isDefaultDatabase||(t+="."+s.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=Ie(),a=Ie();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ly(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Ib()?8:nA(Ef())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.Rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(e,t,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new w2;return this.fs(e,t,c).next(d=>{if(l.result=d,this.Is)return this.gs(e,t,c,d.size)})}).next(()=>l.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(Do()<=Le.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),j.resolve()):(Do()<=Le.DEBUG&&ie("QueryEngine","Query:",Co(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Do()<=Le.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(t))):j.resolve())}Rs(e,t){if(WT(t))return j.resolve(null);let r=gn(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Vf(t,null,"F"),r=gn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=Ie(...l);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(m=>{const p=this.ps(t,d);return this.ys(t,p,c,m.readTime)?this.Rs(e,Vf(t,null,"F")):this.ws(e,p,t,m)}))})))}Vs(e,t,r,a){return WT(t)||a.isEqual(ye.min())?j.resolve(null):this.As.getDocuments(e,r).next(l=>{const c=this.ps(t,l);return this.ys(t,c,r,a)?j.resolve(null):(Do()<=Le.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Co(t)),this.ws(e,c,t,Zb(a,jo)).next(d=>d))})}ps(e,t){let r=new Xe(MA(e));return t.forEach((a,l)=>{pc(e,l)&&(r=r.add(l))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}fs(e,t,r){return Do()<=Le.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Co(t)),this.As.getDocumentsMatchingQuery(e,t,Mn.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="LocalStore",R2=3e8;class I2{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new it(Se),this.Ds=new di(l=>ga(l),mc),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vS(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function bS(s,e,t,r){return new I2(s,e,t,r)}async function AS(s,e){const t=ce(s);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],d=[];let m=Ie();for(const p of a){c.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}for(const p of l){d.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(r,m).next(p=>({Ms:p,removedBatchIds:c,addedBatchIds:d}))})})}function x2(s,e){const t=ce(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,m,p,_){const T=p.batch,A=T.keys();let D=j.resolve();return A.forEach(M=>{D=D.next(()=>_.getEntry(m,M)).next(H=>{const U=p.docVersions.get(M);pe(U!==null,48541),H.version.compareTo(U)<0&&(T.applyToRemoteDocument(H,p),H.isValidDocument()&&(H.setReadTime(p.commitVersion),_.addEntry(H)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Ie();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function SS(s){const e=ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function D2(s,e){const t=ce(s),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const d=[];e.targetChanges.forEach((_,T)=>{const A=a.get(T);if(!A)return;d.push(t.ai.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.ai.addMatchingKeys(l,_.addedDocuments,T)));let D=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(vt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,r)),a=a.insert(T,D),function(H,U,$){return H.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=R2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(A,D,_)&&d.push(t.ai.updateTargetData(l,D))});let m=bn(),p=Ie();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(wS(l,c,e.documentUpdates).next(_=>{m=_.xs,p=_.Os})),!r.isEqual(ye.min())){const _=t.ai.getLastRemoteSnapshotVersion(l).next(T=>t.ai.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(_)}return j.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(t.Ss=a,l))}function wS(s,e,t){let r=Ie(),a=Ie();return t.forEach(l=>r=r.add(l)),e.getEntries(s,r).next(l=>{let c=bn();return t.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(ye.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ie(uy,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{xs:c,Os:a}})}function C2(s,e){const t=ce(s);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Wi),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Zo(s,e){const t=ce(s);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(l=>l?(a=l,j.resolve(a)):t.ai.allocateTargetId(r).next(c=>(a=new ri(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function Wo(s,e,t){const r=ce(s),a=r.Ss.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!ds(c))throw c;ie(uy,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function Lf(s,e,t){const r=ce(s);let a=ye.min(),l=Ie();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,_){const T=ce(m),A=T.Ds.get(_);return A!==void 0?j.resolve(T.Ss.get(A)):T.ai.getTargetData(p,_)}(r,c,gn(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>r.bs.getDocumentsMatchingQuery(c,e,t?a:ye.min(),t?l:Ie())).next(d=>(xS(r,NA(e),d),{documents:d,Ns:l})))}function RS(s,e){const t=ce(s),r=ce(t.ai),a=t.Ss.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Rt(l,e).next(c=>c?c.target:null))}function IS(s,e){const t=ce(s),r=t.vs.get(e)||ye.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Cs.getAllFromCollectionGroup(a,e,Zb(r,jo),Number.MAX_SAFE_INTEGER)).then(a=>(xS(t,e,a),a))}function xS(s,e,t){let r=s.vs.get(e)||ye.min();t.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),s.vs.set(e,r)}async function V2(s,e,t,r){const a=ce(s);let l=Ie(),c=bn();for(const p of t){const _=e.Bs(p.metadata.name);p.document&&(l=l.add(_));const T=e.Ls(p);T.setReadTime(e.ks(p.metadata.readTime)),c=c.insert(_,T)}const d=a.Cs.newChangeBuffer({trackRemovals:!0}),m=await Zo(a,function(_){return gn(ll(Oe.fromString(`__bundle__/docs/${_}`)))}(r));return a.persistence.runTransaction("Apply bundle documents","readwrite",p=>wS(p,d,c).next(_=>(d.apply(p),_)).next(_=>a.ai.removeMatchingKeysForTargetId(p,m.targetId).next(()=>a.ai.addMatchingKeys(p,l,m.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(p,_.xs,_.Os)).next(()=>_.xs)))}async function N2(s,e,t=Ie()){const r=await Zo(s,gn(ty(e.bundledQuery))),a=ce(s);return a.persistence.runTransaction("Save named query","readwrite",l=>{const c=St(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return a.ci.saveNamedQuery(l,e);const d=r.withResumeToken(vt.EMPTY_BYTE_STRING,c);return a.Ss=a.Ss.insert(d.targetId,d),a.ai.updateTargetData(l,d).next(()=>a.ai.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>a.ai.addMatchingKeys(l,t,r.targetId)).next(()=>a.ci.saveNamedQuery(l,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firestore_clients";function D0(s,e){return`${DS}_${s}_${e}`}const CS="firestore_mutations";function C0(s,e,t){let r=`${CS}_${s}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const VS="firestore_targets";function Pg(s,e){return`${VS}_${s}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="SharedClientState";class kf{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static qs(e,t,r){const a=JSON.parse(r);let l,c=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return c&&a.error&&(c=typeof a.error.message=="string"&&typeof a.error.code=="string",c&&(l=new re(a.error.code,a.error.message))),c?new kf(e,t,a.state,l):(At(Er,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ju{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static qs(e,t){const r=JSON.parse(t);let a,l=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return l&&r.error&&(l=typeof r.error.message=="string"&&typeof r.error.code=="string",l&&(a=new re(r.error.code,r.error.message))),l?new ju(e,r.state,a):(At(Er,`Failed to parse target state for ID '${e}': ${t}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static qs(e,t){const r=JSON.parse(t);let a=typeof r=="object"&&r.activeTargetIds instanceof Array,l=Qp();for(let c=0;a&&c<r.activeTargetIds.length;++c)a=rA(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return a?new Bf(e,l):(At(Er,`Failed to parse client data for instance '${e}': ${t}`),null)}}class cy{constructor(e,t){this.clientId=e,this.onlineState=t}static qs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new cy(t.clientId,t.onlineState):(At(Er,`Failed to parse online state: ${e}`),null)}}class hp{constructor(){this.activeTargetIds=Qp()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lg{constructor(e,t,r,a,l){this.window=e,this.bi=t,this.persistenceKey=r,this.Ks=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ws=this.Gs.bind(this),this.zs=new it(Se),this.started=!1,this.js=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Hs=D0(this.persistenceKey,this.Ks),this.Js=function(m){return`firestore_sequence_number_${m}`}(this.persistenceKey),this.zs=this.zs.insert(this.Ks,new hp),this.Ys=new RegExp(`^${DS}_${c}_([^_]*)$`),this.Zs=new RegExp(`^${CS}_${c}_(\\d+)(?:_(.*))?$`),this.Xs=new RegExp(`^${VS}_${c}_(\\d+)$`),this.eo=function(m){return`firestore_online_state_${m}`}(this.persistenceKey),this.no=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ws)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.us();for(const r of e){if(r===this.Ks)continue;const a=this.getItem(D0(this.persistenceKey,r));if(a){const l=Bf.qs(r,a);l&&(this.zs=this.zs.insert(l.clientId,l))}}this.ro();const t=this.storage.getItem(this.eo);if(t){const r=this.io(t);r&&this.so(r)}for(const r of this.js)this.Gs(r);this.js=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Js,JSON.stringify(e))}getAllActiveQueryTargets(){return this.oo(this.zs)}isActiveQueryTarget(e){let t=!1;return this.zs.forEach((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this._o(e,"pending")}updateMutationState(e,t,r){this._o(e,t,r),this.ao(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Pg(this.persistenceKey,e));if(a){const l=ju.qs(e,a);l&&(r=l.state)}}return t&&this.uo.$s(e),this.ro(),r}removeLocalQueryTarget(e){this.uo.Us(e),this.ro()}isLocalQueryTarget(e){return this.uo.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Pg(this.persistenceKey,e))}updateQueryState(e,t,r){this.co(e,t,r)}handleUserChange(e,t,r){t.forEach(a=>{this.ao(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.lo(e)}notifyBundleLoaded(e){this.ho(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ws),this.removeItem(this.Hs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ie(Er,"READ",e,t),t}setItem(e,t){ie(Er,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ie(Er,"REMOVE",e),this.storage.removeItem(e)}Gs(e){const t=e;if(t.storageArea===this.storage){if(ie(Er,"EVENT",t.key,t.newValue),t.key===this.Hs)return void At("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ys.test(t.key)){if(t.newValue==null){const r=this.Po(t.key);return this.To(r,null)}{const r=this.Io(t.key,t.newValue);if(r)return this.To(r.clientId,r)}}else if(this.Zs.test(t.key)){if(t.newValue!==null){const r=this.Eo(t.key,t.newValue);if(r)return this.Ao(r)}}else if(this.Xs.test(t.key)){if(t.newValue!==null){const r=this.Ro(t.key,t.newValue);if(r)return this.Vo(r)}}else if(t.key===this.eo){if(t.newValue!==null){const r=this.io(t.newValue);if(r)return this.so(r)}}else if(t.key===this.Js){const r=function(l){let c=En.le;if(l!=null)try{const d=JSON.parse(l);pe(typeof d=="number",30636,{mo:l}),c=d}catch(d){At(Er,"Failed to read sequence number from WebStorage",d)}return c}(t.newValue);r!==En.le&&this.sequenceNumberHandler(r)}else if(t.key===this.no){const r=this.fo(t.newValue);await Promise.all(r.map(a=>this.syncEngine.po(a)))}}}else this.js.push(t)})}}get uo(){return this.zs.get(this.Ks)}ro(){this.setItem(this.Hs,this.uo.Qs())}_o(e,t,r){const a=new kf(this.currentUser,e,t,r),l=C0(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Qs())}ao(e){const t=C0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}lo(e){const t={clientId:this.Ks,onlineState:e};this.storage.setItem(this.eo,JSON.stringify(t))}co(e,t,r){const a=Pg(this.persistenceKey,e),l=new ju(e,t,r);this.setItem(a,l.Qs())}ho(e){const t=JSON.stringify(Array.from(e));this.setItem(this.no,t)}Po(e){const t=this.Ys.exec(e);return t?t[1]:null}Io(e,t){const r=this.Po(e);return Bf.qs(r,t)}Eo(e,t){const r=this.Zs.exec(e),a=Number(r[1]),l=r[2]!==void 0?r[2]:null;return kf.qs(new Ht(l),a,t)}Ro(e,t){const r=this.Xs.exec(e),a=Number(r[1]);return ju.qs(a,t)}io(e){return cy.qs(e)}fo(e){return JSON.parse(e)}async Ao(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.yo(e.batchId,e.state,e.error);ie(Er,`Ignoring mutation for non-active user ${e.user.uid}`)}Vo(e){return this.syncEngine.wo(e.targetId,e.state,e.error)}To(e,t){const r=t?this.zs.insert(e,t):this.zs.remove(e),a=this.oo(this.zs),l=this.oo(r),c=[],d=[];return l.forEach(m=>{a.has(m)||c.push(m)}),a.forEach(m=>{l.has(m)||d.push(m)}),this.syncEngine.bo(c,d).then(()=>{this.zs=r})}so(e){this.zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}oo(e){let t=Qp();return e.forEach((r,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class NS{constructor(){this.So=new hp,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new hp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="ConnectivityMonitor";class N0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ie(V0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ie(V0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf=null;function fp(){return rf===null?rf=function(){return 268435456+Math.round(2147483648*Math.random())}():rf++,"0x"+rf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="RestConnection",O2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P2{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===xf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,l){const c=fp(),d=this.$o(e,t.toUriEncodedString());ie(kg,`Sending RPC '${e}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(m,a,l),this.Ko(e,d,m,r).then(p=>(ie(kg,`Received RPC '${e}' ${c}: `,p),p),p=>{throw Rr(kg,`RPC '${e}' ${c} failed with error: `,p,"url: ",d,"request:",r),p})}Wo(e,t,r,a,l,c){return this.Qo(e,t,r,a,l)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}$o(e,t){const r=O2[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class k2 extends P2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a){const l=fp();return new Promise((c,d)=>{const m=new Fb;m.setWithCredentials(!0),m.listenOnce(Gb.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case of.NO_ERROR:const _=m.getResponseJson();ie(sn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case of.TIMEOUT:ie(sn,`RPC '${e}' ${l} timed out`),d(new re(Q.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:const T=m.getStatus();if(ie(sn,`RPC '${e}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A==null?void 0:A.error;if(D&&D.status&&D.message){const M=function(U){const $=U.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf($)>=0?$:Q.UNKNOWN}(D.status);d(new re(M,D.message))}else d(new re(Q.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new re(Q.UNAVAILABLE,"Connection failed."));break;default:de(9055,{s_:e,streamId:l,o_:m.getLastErrorCode(),__:m.getLastError()})}}finally{ie(sn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);ie(sn,`RPC '${e}' ${l} sending request:`,a),m.send(t,"POST",p,r,15)})}a_(e,t,r){const a=fp(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Qb(),d=Kb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const _=l.join("");ie(sn,`Creating RPC '${e}' stream ${a}: ${_}`,m);const T=c.createWebChannel(_,m);let A=!1,D=!1;const M=new L2({Go:U=>{D?ie(sn,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(A||(ie(sn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),A=!0),ie(sn,`RPC '${e}' stream ${a} sending:`,U),T.send(U))},zo:()=>T.close()}),H=(U,$,se)=>{U.listen($,Z=>{try{se(Z)}catch(me){setTimeout(()=>{throw me},0)}})};return H(T,Nu.EventType.OPEN,()=>{D||(ie(sn,`RPC '${e}' stream ${a} transport opened.`),M.t_())}),H(T,Nu.EventType.CLOSE,()=>{D||(D=!0,ie(sn,`RPC '${e}' stream ${a} transport closed`),M.r_())}),H(T,Nu.EventType.ERROR,U=>{D||(D=!0,Rr(sn,`RPC '${e}' stream ${a} transport errored. Name:`,U.name,"Message:",U.message),M.r_(new re(Q.UNAVAILABLE,"The operation could not be completed")))}),H(T,Nu.EventType.MESSAGE,U=>{var $;if(!D){const se=U.data[0];pe(!!se,16349);const Z=se,me=(Z==null?void 0:Z.error)||(($=Z[0])===null||$===void 0?void 0:$.error);if(me){ie(sn,`RPC '${e}' stream ${a} received error:`,me);const fe=me.status;let Ee=function(R){const P=Ct[R];if(P!==void 0)return KA(P)}(fe),V=me.message;Ee===void 0&&(Ee=Q.INTERNAL,V="Unknown error status: "+fe+" with message "+me.message),D=!0,M.r_(new re(Ee,V)),T.close()}else ie(sn,`RPC '${e}' stream ${a} received:`,se),M.i_(se)}}),H(d,Hb.STAT_EVENT,U=>{U.stat===Hg.PROXY?ie(sn,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===Hg.NOPROXY&&ie(sn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{M.n_()},0),M}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(){return typeof window<"u"?window:null}function pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(s){return new qC(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,t,r=1e3,a=1.5,l=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&ie("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="PersistentStream";class OS{constructor(e,t,r,a,l,c,d,m){this.bi=e,this.R_=r,this.V_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new hy(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(At(t.toString()),At("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new re(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ie(M0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(ie(M0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B2 extends OS{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=HC(this.serializer,e),r=function(l){if(!("targetChange"in l))return ye.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ye.min():c.readTime?St(c.readTime):ye.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=ap(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=Df(m)?{documents:tS(l,m)}:{query:nS(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=$A(l,c.resumeToken);const p=ip(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(ye.min())>0){d.readTime=Jo(l,c.snapshotVersion.toTimestamp());const p=ip(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=QC(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=ap(this.serializer),t.removeTarget=e,this.F_(t)}}class U2 extends OS{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=KC(e.writeResults,e.commitTime),r=St(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=ap(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>nc(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{}class j2 extends z2{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new re(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(e,sp(t,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new re(Q.UNKNOWN,l.toString())})}Wo(e,t,r,a,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,sp(t,r),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new re(Q.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class q2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(At(t),this.ea=!1):ie("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class F2{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{r.enqueueAndForget(async()=>{gs(this)&&(ie(Ta,"Restarting streams for network reachability change."),await async function(m){const p=ce(m);p.aa.add(4),await hl(p),p.la.set("Unknown"),p.aa.delete(4),await Tc(p)}(this))})}),this.la=new q2(r,a)}}async function Tc(s){if(gs(s))for(const e of s.ua)await e(!0)}async function hl(s){for(const e of s.ua)await e(!1)}function rd(s,e){const t=ce(s);t._a.has(e.targetId)||(t._a.set(e.targetId,e),my(t)?dy(t):dl(t).b_()&&fy(t,e))}function el(s,e){const t=ce(s),r=dl(t);t._a.delete(e),r.b_()&&PS(t,e),t._a.size===0&&(r.b_()?r.v_():gs(t)&&t.la.set("Unknown"))}function fy(s,e){if(s.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}dl(s).U_(e)}function PS(s,e){s.ha.Ke(e),dl(s).K_(e)}function dy(s){s.ha=new BC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s._a.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),dl(s).start(),s.la.ta()}function my(s){return gs(s)&&!dl(s).w_()&&s._a.size>0}function gs(s){return ce(s).aa.size===0}function LS(s){s.ha=void 0}async function G2(s){s.la.set("Online")}async function H2(s){s._a.forEach((e,t)=>{fy(s,e)})}async function K2(s,e){LS(s),my(s)?(s.la.ia(e),dy(s)):s.la.set("Unknown")}async function Q2(s,e,t){if(s.la.set("Online"),e instanceof YA&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a._a.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a._a.delete(d),a.ha.removeTarget(d))}(s,e)}catch(r){ie(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uf(s,r)}else if(e instanceof gf?s.ha.Xe(e):e instanceof QA?s.ha.ot(e):s.ha.nt(e),!t.isEqual(ye.min()))try{const r=await SS(s.localStore);t.compareTo(r)>=0&&await function(l,c){const d=l.ha.It(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const _=l._a.get(p);_&&l._a.set(p,_.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const _=l._a.get(m);if(!_)return;l._a.set(m,_.withResumeToken(vt.EMPTY_BYTE_STRING,_.snapshotVersion)),PS(l,m);const T=new ri(_.target,m,p,_.sequenceNumber);fy(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(s,t)}catch(r){ie(Ta,"Failed to raise snapshot:",r),await Uf(s,r)}}async function Uf(s,e,t){if(!ds(e))throw e;s.aa.add(1),await hl(s),s.la.set("Offline"),t||(t=()=>SS(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ie(Ta,"Retrying IndexedDB access"),await t(),s.aa.delete(1),await Tc(s)})}function kS(s,e){return e().catch(t=>Uf(s,t,e))}async function fl(s){const e=ce(s),t=ls(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Wi;for(;Y2(e);)try{const a=await C2(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,$2(e,a)}catch(a){await Uf(e,a)}BS(e)&&US(e)}function Y2(s){return gs(s)&&s.oa.length<10}function $2(s,e){s.oa.push(e);const t=ls(s);t.b_()&&t.W_&&t.G_(e.mutations)}function BS(s){return gs(s)&&!ls(s).w_()&&s.oa.length>0}function US(s){ls(s).start()}async function X2(s){ls(s).H_()}async function J2(s){const e=ls(s);for(const t of s.oa)e.G_(t.mutations)}async function Z2(s,e,t){const r=s.oa.shift(),a=Jp.from(r,e,t);await kS(s,()=>s.remoteSyncer.applySuccessfulWrite(a)),await fl(s)}async function W2(s,e){e&&ls(s).W_&&await async function(r,a){if(function(c){return HA(c)&&c!==Q.ABORTED}(a.code)){const l=r.oa.shift();ls(r).D_(),await kS(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await fl(r)}}(s,e),BS(s)&&US(s)}async function O0(s,e){const t=ce(s);t.asyncQueue.verifyOperationInProgress(),ie(Ta,"RemoteStore received new credentials");const r=gs(t);t.aa.add(3),await hl(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Tc(t)}async function dp(s,e){const t=ce(s);e?(t.aa.delete(2),await Tc(t)):e||(t.aa.add(2),await hl(t),t.la.set("Unknown"))}function dl(s){return s.Pa||(s.Pa=function(t,r,a){const l=ce(t);return l.Y_(),new B2(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(s.datastore,s.asyncQueue,{jo:G2.bind(null,s),Jo:H2.bind(null,s),Zo:K2.bind(null,s),Q_:Q2.bind(null,s)}),s.ua.push(async e=>{e?(s.Pa.D_(),my(s)?dy(s):s.la.set("Unknown")):(await s.Pa.stop(),LS(s))})),s.Pa}function ls(s){return s.Ta||(s.Ta=function(t,r,a){const l=ce(t);return l.Y_(),new U2(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(s.datastore,s.asyncQueue,{jo:()=>Promise.resolve(),Jo:X2.bind(null,s),Zo:W2.bind(null,s),z_:J2.bind(null,s),j_:Z2.bind(null,s)}),s.ua.push(async e=>{e?(s.Ta.D_(),await fl(s)):(await s.Ta.stop(),s.oa.length>0&&(ie(Ta,`Stopping write stream with ${s.oa.length} pending writes`),s.oa=[]))})),s.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new en,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,d=new gy(e,t,c,a,l);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ml(s,e){if(At("AsyncQueue",`${e}: ${s}`),ds(s))return new re(Q.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{static emptySet(e){return new Po(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||le.comparator(t.key,r.key):(t,r)=>le.comparator(t.key,r.key),this.keyedMap=Mu(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(){this.Ia=new it(le.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):de(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class tl{constructor(e,t,r,a,l,c,d,m,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new tl(e,t,Po.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class tV{constructor(){this.queries=L0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=ce(t),l=a.queries;a.queries=L0(),l.forEach((c,d)=>{for(const m of d.Ra)m.onError(r)})})(this,new re(Q.ABORTED,"Firestore shutting down"))}}function L0(){return new di(s=>VA(s),gc)}async function py(s,e){const t=ce(s);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.Va()&&e.ma()&&(r=2):(l=new eV,r=e.ma()?0:1);try{switch(r){case 0:l.Aa=await t.onListen(a,!0);break;case 1:l.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=ml(c,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Ra.push(e),e.ga(t.onlineState),l.Aa&&e.pa(l.Aa)&&_y(t)}async function yy(s,e){const t=ce(s),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.Ra.indexOf(e);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?a=e.ma()?0:1:!l.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function nV(s,e){const t=ce(s);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Ra)d.pa(a)&&(r=!0);c.Aa=a}}r&&_y(t)}function rV(s,e,t){const r=ce(s),a=r.queries.get(e);if(a)for(const l of a.Ra)l.onError(t);r.queries.delete(e)}function _y(s){s.fa.forEach(e=>{e.next()})}var mp,k0;(k0=mp||(mp={})).ya="default",k0.Cache="cache";class vy{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,t){this.Ma=e,this.byteLength=t}xa(){return"metadata"in this.Ma}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.serializer=e}Bs(e){return Sr(this.serializer,e)}Ls(e){return e.metadata.exists?eS(this.serializer,e.document,!1):st.newNoDocument(this.Bs(e.metadata.name),this.ks(e.metadata.readTime))}ks(e){return St(e)}}class sV{constructor(e,t,r){this.Oa=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zS(e)}Na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ma.namedQuery)this.queries.push(e.Ma.namedQuery);else if(e.Ma.documentMetadata){this.documents.push({metadata:e.Ma.documentMetadata}),e.Ma.documentMetadata.exists||++t;const r=Oe.fromString(e.Ma.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ma.document&&(this.documents[this.documents.length-1].document=e.Ma.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ba(e){const t=new Map,r=new B0(this.serializer);for(const a of e)if(a.metadata.queries){const l=r.Bs(a.metadata.name);for(const c of a.metadata.queries){const d=(t.get(c)||Ie()).add(l);t.set(c,d)}}return t}async complete(){const e=await V2(this.localStore,new B0(this.serializer),this.documents,this.Oa.id),t=this.Ba(this.documents);for(const r of this.queries)await N2(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,La:this.collectionGroups,ka:e}}}function zS(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.key=e}}class qS{constructor(e){this.key=e}}class FS{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ie(),this.mutatedKeys=Ie(),this.Ua=MA(e),this.Ka=new Po(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new P0,a=t?t.Ka:this.Ka;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,T)=>{const A=a.get(_),D=pc(this.query,T)?T:null,M=!!A&&this.mutatedKeys.has(A.key),H=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;A&&D?A.data.isEqual(D.data)?M!==H&&(r.track({type:3,doc:D}),U=!0):this.ja(A,D)||(r.track({type:2,doc:D}),U=!0,(m&&this.Ua(D,m)>0||p&&this.Ua(D,p)<0)&&(d=!0)):!A&&D?(r.track({type:0,doc:D}),U=!0):A&&!D&&(r.track({type:1,doc:A}),U=!0,(m||p)&&(d=!0)),U&&(D?(c=c.add(D),l=H?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{Ka:c,za:r,ys:d,mutatedKeys:l}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((_,T)=>function(D,M){const H=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Vt:U})}};return H(D)-H(M)}(_.type,T.type)||this.Ua(_.doc,T.doc)),this.Ha(r),a=a!=null&&a;const d=t&&!a?this.Ja():[],m=this.$a.size===0&&this.current&&!a?1:0,p=m!==this.Qa;return this.Qa=m,c.length!==0||p?{snapshot:new tl(this.query,e.Ka,l,c,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new P0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ie(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new qS(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new jS(r))}),t}Xa(e){this.qa=e.Ns,this.$a=Ie();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return tl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const ps="SyncEngine";class aV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class oV{constructor(e){this.key=e,this.tu=!1}}class lV{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new di(d=>VA(d),gc),this.iu=new Map,this.su=new Set,this.ou=new it(le.comparator),this._u=new Map,this.au=new iy,this.uu={},this.cu=new Map,this.lu=Ea.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function uV(s,e,t=!0){const r=id(s);let a;const l=r.ru.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.eu()):a=await GS(r,e,t,!0),a}async function cV(s,e){const t=id(s);await GS(t,e,!0,!1)}async function GS(s,e,t,r){const a=await Zo(s.localStore,gn(e)),l=a.targetId,c=s.sharedClientState.addLocalQueryTarget(l,t);let d;return r&&(d=await Ey(s,e,l,c==="current",a.resumeToken)),s.isPrimaryClient&&t&&rd(s.remoteStore,a),d}async function Ey(s,e,t,r,a){s.Pu=(T,A,D)=>async function(H,U,$,se){let Z=U.view.Ga($);Z.ys&&(Z=await Lf(H.localStore,U.query,!1).then(({documents:V})=>U.view.Ga(V,Z)));const me=se&&se.targetChanges.get(U.targetId),fe=se&&se.targetMismatches.get(U.targetId)!=null,Ee=U.view.applyChanges(Z,H.isPrimaryClient,me,fe);return gp(H,U.targetId,Ee.Ya),Ee.snapshot}(s,T,A,D);const l=await Lf(s.localStore,e,!0),c=new FS(e,l.Ns),d=c.Ga(l.documents),m=vc.createSynthesizedTargetChangeForCurrentChange(t,r&&s.onlineState!=="Offline",a),p=c.applyChanges(d,s.isPrimaryClient,m);gp(s,t,p.Ya);const _=new aV(e,t,c);return s.ru.set(e,_),s.iu.has(t)?s.iu.get(t).push(e):s.iu.set(t,[e]),p.snapshot}async function hV(s,e,t){const r=ce(s),a=r.ru.get(e),l=r.iu.get(a.targetId);if(l.length>1)return r.iu.set(a.targetId,l.filter(c=>!gc(c,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Wo(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&el(r.remoteStore,a.targetId),nl(r,a.targetId)}).catch(fs)):(nl(r,a.targetId),await Wo(r.localStore,a.targetId,!0))}async function fV(s,e){const t=ce(s),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),el(t.remoteStore,r.targetId))}async function dV(s,e,t){const r=Sy(s);try{const a=await function(c,d){const m=ce(c),p=ht.now(),_=d.reduce((D,M)=>D.add(M.key),Ie());let T,A;return m.persistence.runTransaction("Locally write mutations","readwrite",D=>{let M=bn(),H=Ie();return m.Cs.getEntries(D,_).next(U=>{M=U,M.forEach(($,se)=>{se.isValidDocument()||(H=H.add($))})}).next(()=>m.localDocuments.getOverlayedDocuments(D,M)).next(U=>{T=U;const $=[];for(const se of d){const Z=PC(se,T.get(se.key).overlayedDocument);Z!=null&&$.push(new mi(se.key,Z,bA(Z.value.mapValue),ct.exists(!0)))}return m.mutationQueue.addMutationBatch(D,p,$,d)}).next(U=>{A=U;const $=U.applyToLocalDocumentSet(T,H);return m.documentOverlayCache.saveOverlays(D,U.batchId,$)})}).then(()=>({batchId:A.batchId,changes:PA(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.uu[c.currentUser.toKey()];p||(p=new it(Se)),p=p.insert(d,m),c.uu[c.currentUser.toKey()]=p}(r,a.batchId,t),await gi(r,a.changes),await fl(r.remoteStore)}catch(a){const l=ml(a,"Failed to persist write");t.reject(l)}}async function HS(s,e){const t=ce(s);try{const r=await D2(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t._u.get(l);c&&(pe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?pe(c.tu,14607):a.removedDocuments.size>0&&(pe(c.tu,42227),c.tu=!1))}),await gi(t,r,e)}catch(r){await fs(r)}}function U0(s,e,t){const r=ce(s);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((l,c)=>{const d=c.view.ga(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=ce(c);m.onlineState=d;let p=!1;m.queries.forEach((_,T)=>{for(const A of T.Ra)A.ga(d)&&(p=!0)}),p&&_y(m)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mV(s,e,t){const r=ce(s);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),l=a&&a.key;if(l){let c=new it(le.comparator);c=c.insert(l,st.newNoDocument(l,ye.min()));const d=Ie().add(l),m=new _c(ye.min(),new Map,new it(Se),c,d);await HS(r,m),r.ou=r.ou.remove(l),r._u.delete(e),Ay(r)}else await Wo(r.localStore,e,!1).then(()=>nl(r,e,t)).catch(fs)}async function gV(s,e){const t=ce(s),r=e.batch.batchId;try{const a=await x2(t.localStore,e);by(t,r,null),Ty(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await gi(t,a)}catch(a){await fs(a)}}async function pV(s,e,t){const r=ce(s);try{const a=await function(c,d){const m=ce(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return m.mutationQueue.lookupMutationBatch(p,d).next(T=>(pe(T!==null,37113),_=T.keys(),m.mutationQueue.removeMutationBatch(p,T))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>m.localDocuments.getDocuments(p,_))})}(r.localStore,e);by(r,e,t),Ty(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await gi(r,a)}catch(a){await fs(a)}}async function yV(s,e){const t=ce(s);gs(t.remoteStore)||ie(ps,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(c){const d=ce(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(r===Wi)return void e.resolve();const a=t.cu.get(r)||[];a.push(e),t.cu.set(r,a)}catch(r){const a=ml(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}function Ty(s,e){(s.cu.get(e)||[]).forEach(t=>{t.resolve()}),s.cu.delete(e)}function by(s,e,t){const r=ce(s);let a=r.uu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function nl(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.iu.get(e))s.ru.delete(r),t&&s.nu.Tu(r,t);s.iu.delete(e),s.isPrimaryClient&&s.au.Ur(e).forEach(r=>{s.au.containsKey(r)||KS(s,r)})}function KS(s,e){s.su.delete(e.path.canonicalString());const t=s.ou.get(e);t!==null&&(el(s.remoteStore,t),s.ou=s.ou.remove(e),s._u.delete(t),Ay(s))}function gp(s,e,t){for(const r of t)r instanceof jS?(s.au.addReference(r.key,e),_V(s,r)):r instanceof qS?(ie(ps,"Document no longer in limbo: "+r.key),s.au.removeReference(r.key,e),s.au.containsKey(r.key)||KS(s,r.key)):de(19791,{Iu:r})}function _V(s,e){const t=e.key,r=t.path.canonicalString();s.ou.get(t)||s.su.has(r)||(ie(ps,"New document in limbo: "+t),s.su.add(r),Ay(s))}function Ay(s){for(;s.su.size>0&&s.ou.size<s.maxConcurrentLimboResolutions;){const e=s.su.values().next().value;s.su.delete(e);const t=new le(Oe.fromString(e)),r=s.lu.next();s._u.set(r,new oV(t)),s.ou=s.ou.insert(t,r),rd(s.remoteStore,new ri(gn(ll(t.path)),r,"TargetPurposeLimboResolution",En.le))}}async function gi(s,e,t){const r=ce(s),a=[],l=[],c=[];r.ru.isEmpty()||(r.ru.forEach((d,m)=>{c.push(r.Pu(m,e,t).then(p=>{var _;if((p||t)&&r.isPrimaryClient){const T=p?!p.fromCache:(_=t==null?void 0:t.targetChanges.get(m.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(p){a.push(p);const T=ly.Ps(m.targetId,p);l.push(T)}}))}),await Promise.all(c),r.nu.Q_(a),await async function(m,p){const _=ce(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>j.forEach(p,A=>j.forEach(A.ls,D=>_.persistence.referenceDelegate.addReference(T,A.targetId,D)).next(()=>j.forEach(A.hs,D=>_.persistence.referenceDelegate.removeReference(T,A.targetId,D)))))}catch(T){if(!ds(T))throw T;ie(uy,"Failed to update sequence numbers: "+T)}for(const T of p){const A=T.targetId;if(!T.fromCache){const D=_.Ss.get(A),M=D.snapshotVersion,H=D.withLastLimboFreeSnapshotVersion(M);_.Ss=_.Ss.insert(A,H)}}}(r.localStore,l))}async function vV(s,e){const t=ce(s);if(!t.currentUser.isEqual(e)){ie(ps,"User change. New user:",e.toKey());const r=await AS(t.localStore,e);t.currentUser=e,function(l,c){l.cu.forEach(d=>{d.forEach(m=>{m.reject(new re(Q.CANCELLED,c))})}),l.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gi(t,r.Ms)}}function EV(s,e){const t=ce(s),r=t._u.get(e);if(r&&r.tu)return Ie().add(r.key);{let a=Ie();const l=t.iu.get(e);if(!l)return a;for(const c of l){const d=t.ru.get(c);a=a.unionWith(d.view.Wa)}return a}}async function TV(s,e){const t=ce(s),r=await Lf(t.localStore,e.query,!0),a=e.view.Xa(r);return t.isPrimaryClient&&gp(t,e.targetId,a.Ya),a}async function bV(s,e){const t=ce(s);return IS(t.localStore,e).then(r=>gi(t,r))}async function AV(s,e,t,r){const a=ce(s),l=await function(d,m){const p=ce(d),_=ce(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",T=>_.Hn(T,m).next(A=>A?p.localDocuments.getDocuments(T,A):j.resolve(null)))}(a.localStore,e);l!==null?(t==="pending"?await fl(a.remoteStore):t==="acknowledged"||t==="rejected"?(by(a,e,r||null),Ty(a,e),function(d,m){ce(ce(d).mutationQueue).Xn(m)}(a.localStore,e)):de(6720,"Unknown batchState",{Eu:t}),await gi(a,l)):ie(ps,"Cannot apply mutation batch with id: "+e)}async function SV(s,e){const t=ce(s);if(id(t),Sy(t),e===!0&&t.hu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),a=await z0(t,r.toArray());t.hu=!0,await dp(t.remoteStore,!0);for(const l of a)rd(t.remoteStore,l)}else if(e===!1&&t.hu!==!1){const r=[];let a=Promise.resolve();t.iu.forEach((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):a=a.then(()=>(nl(t,c),Wo(t.localStore,c,!0))),el(t.remoteStore,c)}),await a,await z0(t,r),function(c){const d=ce(c);d._u.forEach((m,p)=>{el(d.remoteStore,p)}),d.au.Kr(),d._u=new Map,d.ou=new it(le.comparator)}(t),t.hu=!1,await dp(t.remoteStore,!1)}}async function z0(s,e,t){const r=ce(s),a=[],l=[];for(const c of e){let d;const m=r.iu.get(c);if(m&&m.length!==0){d=await Zo(r.localStore,gn(m[0]));for(const p of m){const _=r.ru.get(p),T=await TV(r,_);T.snapshot&&l.push(T.snapshot)}}else{const p=await RS(r.localStore,c);d=await Zo(r.localStore,p),await Ey(r,QS(p),c,!1,d.resumeToken)}a.push(d)}return r.nu.Q_(l),a}function QS(s){return CA(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function wV(s){return function(t){return ce(ce(t).persistence).us()}(ce(s).localStore)}async function RV(s,e,t,r){const a=ce(s);if(a.hu)return void ie(ps,"Ignoring unexpected query state notification.");const l=a.iu.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=await IS(a.localStore,NA(l[0])),d=_c.createSynthesizedRemoteEventForCurrentChange(e,t==="current",vt.EMPTY_BYTE_STRING);await gi(a,c,d);break}case"rejected":await Wo(a.localStore,e,!0),nl(a,e,r);break;default:de(64155,t)}}async function IV(s,e,t){const r=id(s);if(r.hu){for(const a of e){if(r.iu.has(a)&&r.sharedClientState.isActiveQueryTarget(a)){ie(ps,"Adding an already active target "+a);continue}const l=await RS(r.localStore,a),c=await Zo(r.localStore,l);await Ey(r,QS(l),c.targetId,!1,c.resumeToken),rd(r.remoteStore,c)}for(const a of t)r.iu.has(a)&&await Wo(r.localStore,a,!1).then(()=>{el(r.remoteStore,a),nl(r,a)}).catch(fs)}}function id(s){const e=ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=HS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mV.bind(null,e),e.nu.Q_=nV.bind(null,e.eventManager),e.nu.Tu=rV.bind(null,e.eventManager),e}function Sy(s){const e=ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pV.bind(null,e),e}function xV(s,e,t){const r=ce(s);(async function(l,c,d){try{const m=await c.getMetadata();if(await function(D,M){const H=ce(D),U=St(M.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",$=>H.ci.getBundleMetadata($,M.id)).then($=>!!$&&$.createTime.compareTo(U)>=0)}(l.localStore,m))return await c.close(),d._completeWith(function(D){return{taskState:"Success",documentsLoaded:D.totalDocuments,bytesLoaded:D.totalBytes,totalDocuments:D.totalDocuments,totalBytes:D.totalBytes}}(m)),Promise.resolve(new Set);d._updateProgress(zS(m));const p=new sV(m,l.localStore,c.serializer);let _=await c.du();for(;_;){const A=await p.Na(_);A&&d._updateProgress(A),_=await c.du()}const T=await p.complete();return await gi(l,T.ka,void 0),await function(D,M){const H=ce(D);return H.persistence.runTransaction("Save bundle","readwrite",U=>H.ci.saveBundleMetadata(U,M))}(l.localStore,m),d._completeWith(T.progress),Promise.resolve(T.La)}catch(m){return Rr(ps,`Loading bundle failed with ${m}`),d._failWith(m),Promise.resolve(new Set)}})(r,e,t).then(a=>{r.sharedClientState.notifyBundleLoaded(a)})}class rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ec(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return bS(this.persistence,new TS,e.initialUser,this.serializer)}Ru(e){return new sy(nd.Ei,this.serializer)}Au(e){return new NS}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rc.provider={build:()=>new rc};class DV extends rc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){pe(this.persistence.referenceDelegate instanceof Pf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gS(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new sy(r=>Pf.Ei(r,t),this.serializer)}}class YS extends rc{constructor(e,t,r){super(),this.gu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.gu.initialize(this,e),await Sy(this.gu.syncEngine),await fl(this.gu.remoteStore),await this.persistence.Ki(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Vu(e){return bS(this.persistence,new TS,e.initialUser,this.serializer)}mu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new gS(r,e.asyncQueue,t)}fu(e,t){const r=new BD(t,this.persistence);return new kD(e.asyncQueue,r)}Ru(e){const t=oy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new ay(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,MS(),pf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Au(e){return new NS}}class CV extends YS{constructor(e,t){super(e,t,!1),this.gu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.gu.syncEngine;this.sharedClientState instanceof Lg&&(this.sharedClientState.syncEngine={yo:AV.bind(null,t),wo:RV.bind(null,t),bo:IV.bind(null,t),us:wV.bind(null,t),po:bV.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ki(async r=>{await SV(this.gu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Au(e){const t=MS();if(!Lg.C(t))throw new re(Q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=oy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Lg(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ic{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vV.bind(null,this.syncEngine),await dp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tV}()}createDatastore(e){const t=Ec(e.databaseInfo.databaseId),r=function(l){return new k2(l)}(e.databaseInfo);return function(l,c,d,m){return new j2(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,l,c,d){return new F2(r,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>U0(this.syncEngine,t,0),function(){return N0.C()?new N0:new M2}())}createSyncEngine(e,t){return function(a,l,c,d,m,p,_){const T=new lV(a,l,c,d,m,p);return _&&(T.hu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=ce(a);ie(Ta,"RemoteStore shutting down."),l.aa.add(5),await hl(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ic.provider={build:()=>new ic};function j0(s,e=10240){let t=0;return{async read(){if(t<s.byteLength){const r={value:s.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):At("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,t){this.wu=e,this.serializer=t,this.metadata=new en,this.buffer=new Uint8Array,this.bu=function(){return new TextDecoder("utf-8")}(),this.Su().then(r=>{r&&r.xa()?this.metadata.resolve(r.Ma.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ma)}`))},r=>this.metadata.reject(r))}close(){return this.wu.cancel()}async getMetadata(){return this.metadata.promise}async du(){return await this.getMetadata(),this.Su()}async Su(){const e=await this.Du();if(e===null)return null;const t=this.bu.decode(e),r=Number(t);isNaN(r)&&this.vu(`length string (${t}) is not valid number`);const a=await this.Cu(r);return new iV(JSON.parse(a),e.length+r)}Fu(){return this.buffer.findIndex(e=>e===123)}async Du(){for(;this.Fu()<0&&!await this.Mu(););if(this.buffer.length===0)return null;const e=this.Fu();e<0&&this.vu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Cu(e){for(;this.buffer.length<e;)await this.Mu()&&this.vu("Reached the end of bundle when more is expected.");const t=this.bu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}vu(e){throw this.wu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Mu(){const e=await this.wu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new re(Q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(a,l){const c=ce(a),d={documents:l.map(T=>tc(c.serializer,T))},m=await c.Wo("BatchGetDocuments",c.serializer.databaseId,Oe.emptyPath(),d,l.length),p=new Map;m.forEach(T=>{const A=GC(c.serializer,T);p.set(A.key.toString(),A)});const _=[];return l.forEach(T=>{const A=p.get(T.toString());pe(!!A,55234,{key:T}),_.push(A)}),_}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new cl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const a=le.fromPath(r);this.mutations.push(new $p(a,this.precondition(a)))}),await async function(r,a){const l=ce(r),c={writes:a.map(d=>nc(l.serializer,d))};await l.Qo("Commit",l.serializer.databaseId,Oe.emptyPath(),c)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw de(50498,{xu:e.constructor.name});t=ye.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new re(Q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ye.min())?ct.exists(!1):ct.updateTime(t):ct.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ye.min()))throw new re(Q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ct.updateTime(t)}return ct.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,t,r,a,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=a,this.deferred=l,this.Ou=r.maxAttempts,this.y_=new hy(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){this.y_.E_(async()=>{const e=new NV(this.datastore),t=this.Lu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(a=>{this.ku(a)}))}).catch(r=>{this.ku(r)})})}Lu(e){try{const t=this.updateFunction(e);return!fc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ku(e){this.Ou>0&&this.qu(e)?(this.Ou-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bu(),Promise.resolve()))):this.deferred.reject(e)}qu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!HA(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class OV{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Ht.UNAUTHENTICATED,this.clientId=Xb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{ie(us,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(ie(us,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new en;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ml(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bg(s,e){s.asyncQueue.verifyOperationInProgress(),ie(us,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let r=t.initialUser;s.setCredentialChangeListener(async a=>{r.isEqual(a)||(await AS(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function q0(s,e){s.asyncQueue.verifyOperationInProgress();const t=await wy(s);ie(us,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener(r=>O0(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,a)=>O0(e.remoteStore,a)),s._onlineComponents=e}async function wy(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ie(us,"Using user provided OfflineComponentProvider");try{await Bg(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===Q.FAILED_PRECONDITION||a.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Rr("Error using user provided cache. Falling back to memory cache: "+t),await Bg(s,new rc)}}else ie(us,"Using default OfflineComponentProvider"),await Bg(s,new DV(void 0));return s._offlineComponents}async function ad(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ie(us,"Using user provided OnlineComponentProvider"),await q0(s,s._uninitializedComponentsProvider._online)):(ie(us,"Using default OnlineComponentProvider"),await q0(s,new ic))),s._onlineComponents}function $S(s){return wy(s).then(e=>e.persistence)}function Ry(s){return wy(s).then(e=>e.localStore)}function XS(s){return ad(s).then(e=>e.remoteStore)}function Iy(s){return ad(s).then(e=>e.syncEngine)}function PV(s){return ad(s).then(e=>e.datastore)}async function rl(s){const e=await ad(s),t=e.eventManager;return t.onListen=uV.bind(null,e.syncEngine),t.onUnlisten=hV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fV.bind(null,e.syncEngine),t}function LV(s){return s.asyncQueue.enqueue(async()=>{const e=await $S(s),t=await XS(s);return e.setNetworkEnabled(!0),function(a){const l=ce(a);return l.aa.delete(0),Tc(l)}(t)})}function kV(s){return s.asyncQueue.enqueue(async()=>{const e=await $S(s),t=await XS(s);return e.setNetworkEnabled(!1),async function(a){const l=ce(a);l.aa.add(0),await hl(l),l.la.set("Offline")}(t)})}function BV(s,e){const t=new en;return s.asyncQueue.enqueueAndForget(async()=>async function(a,l,c){try{const d=await function(p,_){const T=ce(p);return T.persistence.runTransaction("read document","readonly",A=>T.localDocuments.getDocument(A,_))}(a,l);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new re(Q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const m=ml(d,`Failed to get document '${l} from cache`);c.reject(m)}}(await Ry(s),e,t)),t.promise}function JS(s,e,t={}){const r=new en;return s.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const _=new sd({next:A=>{_.yu(),c.enqueueAndForget(()=>yy(l,T));const D=A.docs.has(d);!D&&A.fromCache?p.reject(new re(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&A.fromCache&&m&&m.source==="server"?p.reject(new re(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new vy(ll(d.path),_,{includeMetadataChanges:!0,Fa:!0});return py(l,T)}(await rl(s),s.asyncQueue,e,t,r)),r.promise}function UV(s,e){const t=new en;return s.asyncQueue.enqueueAndForget(async()=>async function(a,l,c){try{const d=await Lf(a,l,!0),m=new FS(l,d.Ns),p=m.Ga(d.documents),_=m.applyChanges(p,!1);c.resolve(_.snapshot)}catch(d){const m=ml(d,`Failed to execute query '${l} against cache`);c.reject(m)}}(await Ry(s),e,t)),t.promise}function ZS(s,e,t={}){const r=new en;return s.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const _=new sd({next:A=>{_.yu(),c.enqueueAndForget(()=>yy(l,T)),A.fromCache&&m.source==="server"?p.reject(new re(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new vy(d,_,{includeMetadataChanges:!0,Fa:!0});return py(l,T)}(await rl(s),s.asyncQueue,e,t,r)),r.promise}function zV(s,e){const t=new sd(e);return s.asyncQueue.enqueueAndForget(async()=>function(a,l){ce(a).fa.add(l),l.next()}(await rl(s),t)),()=>{t.yu(),s.asyncQueue.enqueueAndForget(async()=>function(a,l){ce(a).fa.delete(l)}(await rl(s),t))}}function jV(s,e,t,r){const a=function(c,d){let m;return m=typeof c=="string"?Lp().encode(c):c,function(_,T){return new VV(_,T)}(function(_,T){if(_ instanceof Uint8Array)return j0(_,T);if(_ instanceof ArrayBuffer)return j0(new Uint8Array(_),T);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),d)}(t,Ec(e));s.asyncQueue.enqueueAndForget(async()=>{xV(await Iy(s),a,r)})}function qV(s,e){return s.asyncQueue.enqueue(async()=>function(r,a){const l=ce(r);return l.persistence.runTransaction("Get named query","readonly",c=>l.ci.getNamedQuery(c,a))}(await Ry(s),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(s,e,t){if(!t)throw new re(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ew(s,e,t,r){if(e===!0&&r===!0)throw new re(Q.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function G0(s){if(!le.isDocumentKey(s))throw new re(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function H0(s){if(le.isDocumentKey(s))throw new re(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function od(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":de(12329,{type:typeof s})}function qe(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new re(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=od(s);throw new re(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function tw(s,e){if(e<=0)throw new re(Q.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="firestore.googleapis.com",K0=!0;class Q0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nw,this.ssl=K0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:K0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u2)throw new re(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ew("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new re(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new re(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new re(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bc{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RD;switch(r.type){case"firstParty":return new CD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=F0.get(t);r&&(ie("ComponentProvider","Removing Datastore"),F0.delete(t),r.terminate())}(this),Promise.resolve()}}function rw(s,e,t,r={}){var a;const l=(s=qe(s,bc))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:s._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==nw&&l.host!==d&&Rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:r});if(!Lo(m,c)&&(s._setSettings(m),r.mockUserToken)){let p,_;if(typeof r.mockUserToken=="string")p=r.mockUserToken,_=Ht.MOCK_USER;else{p=nx(r.mockUserToken,(a=s._app)===null||a===void 0?void 0:a.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new re(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ht(T)}s._authCredentials=new ID(new $b(p,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pn=class iw{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new iw(this.firestore,e,this._query)}},mt=class sw{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sw(this.firestore,e,this._key)}},es=class aw extends pn{constructor(e,t,r){super(e,t,ll(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new le(e))}withConverter(e){return new aw(this.firestore,e,this._path)}};function Dy(s,e,...t){if(s=Vt(s),xy("collection","path",e),s instanceof bc){const r=Oe.fromString(e,...t);return H0(r),new es(s,null,r)}{if(!(s instanceof mt||s instanceof es))throw new re(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Oe.fromString(e,...t));return H0(r),new es(s.firestore,null,r)}}function FV(s,e){if(s=qe(s,bc),xy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new re(Q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new pn(s,null,function(r){return new fi(Oe.emptyPath(),r)}(e))}function zf(s,e,...t){if(s=Vt(s),arguments.length===1&&(e=Xb.newId()),xy("doc","path",e),s instanceof bc){const r=Oe.fromString(e,...t);return G0(r),new mt(s,null,new le(r))}{if(!(s instanceof mt||s instanceof es))throw new re(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Oe.fromString(e,...t));return G0(r),new mt(s.firestore,s instanceof es?s.converter:null,new le(r))}}function ow(s,e){return s=Vt(s),e=Vt(e),(s instanceof mt||s instanceof es)&&(e instanceof mt||e instanceof es)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function lw(s,e){return s=Vt(s),e=Vt(e),s instanceof pn&&e instanceof pn&&s.firestore===e.firestore&&gc(s._query,e._query)&&s.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="AsyncQueue";class $0{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new hy(this,"async_queue_retry"),this.ju=()=>{const r=pf();r&&ie(Y0,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=pf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=pf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new en;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ds(e))throw e;ie(Y0,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,At("INTERNAL UNHANDLED ERROR: ",X0(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=gy.createAndSchedule(this,e,t,r,l=>this.Xu(l));return this.Uu.push(a),a}Ju(){this.Ku&&de(47125,{ec:X0(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function X0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(s){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(s,["next","error","complete"])}class GV{constructor(){this._progressObserver={},this._taskCompletionResolver=new en,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=-1;let wt=class extends bc{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new $0,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $0(e),this._firestoreClient=void 0,await e}}};function KV(s,e){const t=typeof s=="object"?s:kb(),r=typeof s=="string"?s:xf,a=Vp(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=ex("firestore");l&&rw(a,...l)}return a}function ln(s){if(s._terminated)throw new re(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||uw(s),s._firestoreClient}function uw(s){var e,t,r;const a=s._freezeSettings(),l=function(d,m,p,_){return new dC(d,m,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,WS(_.experimentalLongPollingOptions),_.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,a);s._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),s._firestoreClient=new OV(s._authCredentials,s._appCheckCredentials,s._queue,l,s._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(s._componentsProvider))}function QV(s,e){Rr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=s._freezeSettings();return cw(s,ic.provider,{build:r=>new YS(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function YV(s){Rr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=s._freezeSettings();cw(s,ic.provider,{build:t=>new CV(t,e.cacheSizeBytes)})}function cw(s,e,t){if((s=qe(s,wt))._firestoreClient||s._terminated)throw new re(Q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(s._componentsProvider||s._getSettings().localCache)throw new re(Q.FAILED_PRECONDITION,"SDK cache is already specified.");s._componentsProvider={_online:e,_offline:t},uw(s)}function $V(s){if(s._initialized&&!s._terminated)throw new re(Q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new en;return s._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Ar.C())return Promise.resolve();const a=r+ES;await Ar.delete(a)}(oy(s._databaseId,s._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function XV(s){return function(t){const r=new en;return t.asyncQueue.enqueueAndForget(async()=>yV(await Iy(t),r)),r.promise}(ln(s=qe(s,wt)))}function JV(s){return LV(ln(s=qe(s,wt)))}function ZV(s){return kV(ln(s=qe(s,wt)))}function WV(s,e){const t=ln(s=qe(s,wt)),r=new GV;return jV(t,s._databaseId,e,r),r}function eN(s,e){return qV(ln(s=qe(s,wt)),e).then(t=>t?new pn(s,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xr(vt.fromBase64String(e))}catch(t){throw new re(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xr(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cs=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new re(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=/^__.*__$/;class nN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new mi(e,this.data,this.fieldMask,t,this.fieldTransforms):new ul(e,this.data,t,this.fieldTransforms)}}class hw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new mi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fw(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{oc:s})}}class ud{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new ud(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return jf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(fw(this.oc)&&tN.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class rN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ec(e)}dc(e,t,r,a=!1){return new ud({oc:e,methodName:t,Ec:r,path:ut.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ra(s){const e=s._freezeSettings(),t=Ec(s._databaseId);return new rN(s._databaseId,!!e.ignoreUndefinedProperties,t)}function cd(s,e,t,r,a,l={}){const c=s.dc(l.merge||l.mergeFields?2:0,e,t,a);ky("Data must be an object, but it was:",c,r);const d=gw(r,c);let m,p;if(l.merge)m=new Tn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const A=yp(e,T,t);if(!c.contains(A))throw new re(Q.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);yw(_,A)||_.push(A)}m=new Tn(_),p=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,p=c.fieldTransforms;return new nN(new Wt(d),m,p)}class Ac extends wa{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ac}}function dw(s,e,t){return new ud({oc:3,Ec:e.settings.Ec,methodName:s._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Vy extends wa{_toFieldTransform(e){return new yc(e.path,new $o)}isEqual(e){return e instanceof Vy}}class Ny extends wa{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=dw(this,e,!0),r=this.Ac.map(l=>Ia(l,t)),a=new pa(r);return new yc(e.path,a)}isEqual(e){return e instanceof Ny&&Lo(this.Ac,e.Ac)}}class My extends wa{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=dw(this,e,!0),r=this.Ac.map(l=>Ia(l,t)),a=new ya(r);return new yc(e.path,a)}isEqual(e){return e instanceof My&&Lo(this.Ac,e.Ac)}}class Oy extends wa{constructor(e,t){super(e),this.Rc=t}_toFieldTransform(e){const t=new Xo(e.serializer,BA(e.serializer,this.Rc));return new yc(e.path,t)}isEqual(e){return e instanceof Oy&&this.Rc===e.Rc}}function Py(s,e,t,r){const a=s.dc(1,e,t);ky("Data must be an object, but it was:",a,r);const l=[],c=Wt.empty();ms(r,(m,p)=>{const _=By(e,m,t);p=Vt(p);const T=a.hc(_);if(p instanceof Ac)l.push(_);else{const A=Ia(p,T);A!=null&&(l.push(_),c.set(_,A))}});const d=new Tn(l);return new hw(c,d,a.fieldTransforms)}function Ly(s,e,t,r,a,l){const c=s.dc(1,e,t),d=[yp(e,r,t)],m=[a];if(l.length%2!=0)throw new re(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)d.push(yp(e,l[A])),m.push(l[A+1]);const p=[],_=Wt.empty();for(let A=d.length-1;A>=0;--A)if(!yw(p,d[A])){const D=d[A];let M=m[A];M=Vt(M);const H=c.hc(D);if(M instanceof Ac)p.push(D);else{const U=Ia(M,H);U!=null&&(p.push(D),_.set(D,U))}}const T=new Tn(p);return new hw(_,T,c.fieldTransforms)}function mw(s,e,t,r=!1){return Ia(t,s.dc(r?4:3,e))}function Ia(s,e){if(pw(s=Vt(s)))return ky("Unsupported field value:",e,s),gw(s,e);if(s instanceof wa)return function(r,a){if(!fw(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const d of r){let m=Ia(d,a.Pc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(s,e)}return function(r,a){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BA(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ht.fromDate(r);return{timestampValue:Jo(a.serializer,l)}}if(r instanceof ht){const l=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jo(a.serializer,l)}}if(r instanceof ld)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xr)return{bytesValue:$A(a.serializer,r._byteString)};if(r instanceof mt){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ey(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Cy)return function(c,d){return{mapValue:{fields:{[Fp]:{stringValue:Gp},[Ko]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Tc("VectorValues must only contain numeric values.");return Yp(d.serializer,p)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${od(r)}`)}(s,e)}function gw(s,e){const t={};return dA(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(s,(r,a)=>{const l=Ia(a,e.uc(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function pw(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ht||s instanceof ld||s instanceof xr||s instanceof mt||s instanceof wa||s instanceof Cy)}function ky(s,e,t){if(!pw(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=od(t);throw r==="an object"?e.Tc(s+" a custom object"):e.Tc(s+" "+r)}}function yp(s,e,t){if((e=Vt(e))instanceof cs)return e._internalPath;if(typeof e=="string")return By(s,e);throw jf("Field path arguments must be of type string or ",s,!1,void 0,t)}const iN=new RegExp("[~\\*/\\[\\]]");function By(s,e,t){if(e.search(iN)>=0)throw jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new cs(...e.split("."))._internalPath}catch{throw jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function jf(s,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new re(Q.INVALID_ARGUMENT,d+s+m)}function yw(s,e){return s.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class sN extends sc{data(){return super.data()}}function hd(s,e){return typeof e=="string"?By(s,e):e instanceof cs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new re(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uy{}class Sc extends Uy{}function ni(s,e,...t){let r=[];e instanceof Uy&&r.push(e),r=r.concat(t),function(l){const c=l.filter(m=>m instanceof zy).length,d=l.filter(m=>m instanceof fd).length;if(c>1||c>0&&d>0)throw new re(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)s=a._apply(s);return s}class fd extends Sc{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new fd(e,t,r)}_apply(e){const t=this._parse(e);return Ew(e._query,t),new pn(e.firestore,e.converter,rp(e._query,t))}_parse(e){const t=Ra(e.firestore);return function(l,c,d,m,p,_,T){let A;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new re(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Z0(T,_);const M=[];for(const H of T)M.push(J0(m,l,H));A={arrayValue:{values:M}}}else A=J0(m,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Z0(T,_),A=mw(d,c,T,_==="in"||_==="not-in");return Pe.create(p,_,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function aN(s,e,t){const r=e,a=hd("where",s);return fd._create(a,r,t)}class zy extends Uy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:$e.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)Ew(c,m),c=rp(c,m)}(e._query,t),new pn(e.firestore,e.converter,rp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jy extends Sc{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jy(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new re(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new re(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ec(l,c)}(e._query,this._field,this._direction);return new pn(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new fi(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function oN(s,e="asc"){const t=e,r=hd("orderBy",s);return jy._create(r,t)}class dd extends Sc{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new dd(e,t,r)}_apply(e){return new pn(e.firestore,e.converter,Vf(e._query,this._limit,this._limitType))}}function lN(s){return tw("limit",s),dd._create("limit",s,"F")}function uN(s){return tw("limitToLast",s),dd._create("limitToLast",s,"L")}class md extends Sc{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new md(e,t,r)}_apply(e){const t=vw(e,this.type,this._docOrFields,this._inclusive);return new pn(e.firestore,e.converter,function(a,l){return new fi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)}(e._query,t))}}function cN(...s){return md._create("startAt",s,!0)}function hN(...s){return md._create("startAfter",s,!1)}class gd extends Sc{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new gd(e,t,r)}_apply(e){const t=vw(e,this.type,this._docOrFields,this._inclusive);return new pn(e.firestore,e.converter,function(a,l){return new fi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)}(e._query,t))}}function fN(...s){return gd._create("endBefore",s,!1)}function dN(...s){return gd._create("endAt",s,!0)}function vw(s,e,t,r){if(t[0]=Vt(t[0]),t[0]instanceof sc)return function(l,c,d,m,p){if(!m)throw new re(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const _=[];for(const T of Oo(l))if(T.field.isKeyField())_.push(ma(c,m.key));else{const A=m.data.field(T.field);if($f(A))throw new re(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const D=T.field.canonicalString();throw new re(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}_.push(A)}return new os(_,p)}(s._query,s.firestore._databaseId,e,t[0]._document,r);{const a=Ra(s.firestore);return function(c,d,m,p,_,T){const A=c.explicitOrderBy;if(_.length>A.length)throw new re(Q.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let M=0;M<_.length;M++){const H=_[M];if(A[M].field.isKeyField()){if(typeof H!="string")throw new re(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof H}`);if(!Kp(c)&&H.indexOf("/")!==-1)throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${H}' contains a slash.`);const U=c.path.child(Oe.fromString(H));if(!le.isDocumentKey(U))throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${U}' is not because it contains an odd number of segments.`);const $=new le(U);D.push(ma(d,$))}else{const U=mw(m,p,H);D.push(U)}}return new os(D,T)}(s._query,s.firestore._databaseId,a,e,t,r)}}function J0(s,e,t){if(typeof(t=Vt(t))=="string"){if(t==="")throw new re(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kp(e)&&t.indexOf("/")!==-1)throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Oe.fromString(t));if(!le.isDocumentKey(r))throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ma(s,new le(r))}if(t instanceof mt)return ma(s,t._key);throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${od(t)}.`)}function Z0(s,e){if(!Array.isArray(s)||s.length===0)throw new re(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ew(s,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(s.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new re(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qy{convertValue(e,t="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ms(e,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,a;const l=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[Ko].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>lt(c.doubleValue));return new Cy(l)}convertGeoPoint(e){return new ld(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Xf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const t=li(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Oe.fromString(e);pe(aS(r),9688,{name:e});const a=new is(r.get(1),r.get(3)),l=new le(r.popFirst(5));return a.isEqual(t)||At(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(s,e,t){let r;return r=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,r}class mN extends qy{constructor(e){super(),this.firestore=e}convertBytes(e){return new xr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let ci=class extends sc{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},qu=class extends ci{data(e={}){return super.data(e)}},hs=class{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ca(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new qu(this._firestore,this._userDataWriter,r.key,r,new ca(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new qu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ca(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new qu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ca(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,_=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:gN(d.type),doc:m,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function gN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:s})}}function Tw(s,e){return s instanceof ci&&e instanceof ci?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(s._document===null?e._document===null:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof hs&&e instanceof hs&&s._firestore===e._firestore&&lw(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(s){s=qe(s,mt);const e=qe(s.firestore,wt);return JS(ln(e),s._key).then(t=>Fy(e,s,t))}class xa extends qy{constructor(e){super(),this.firestore=e}convertBytes(e){return new xr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}}function yN(s){s=qe(s,mt);const e=qe(s.firestore,wt),t=ln(e),r=new xa(e);return BV(t,s._key).then(a=>new ci(e,r,s._key,a,new ca(a!==null&&a.hasLocalMutations,!0),s.converter))}function _N(s){s=qe(s,mt);const e=qe(s.firestore,wt);return JS(ln(e),s._key,{source:"server"}).then(t=>Fy(e,s,t))}function vN(s){s=qe(s,pn);const e=qe(s.firestore,wt),t=ln(e),r=new xa(e);return _w(s._query),ZS(t,s._query).then(a=>new hs(e,r,s,a))}function EN(s){s=qe(s,pn);const e=qe(s.firestore,wt),t=ln(e),r=new xa(e);return UV(t,s._query).then(a=>new hs(e,r,s,a))}function TN(s){s=qe(s,pn);const e=qe(s.firestore,wt),t=ln(e),r=new xa(e);return ZS(t,s._query,{source:"server"}).then(a=>new hs(e,r,s,a))}function W0(s,e,t){s=qe(s,mt);const r=qe(s.firestore,wt),a=pd(s.converter,e,t);return wc(r,[cd(Ra(r),"setDoc",s._key,a,s.converter!==null,t).toMutation(s._key,ct.none())])}function eb(s,e,t,...r){s=qe(s,mt);const a=qe(s.firestore,wt),l=Ra(a);let c;return c=typeof(e=Vt(e))=="string"||e instanceof cs?Ly(l,"updateDoc",s._key,e,t,r):Py(l,"updateDoc",s._key,e),wc(a,[c.toMutation(s._key,ct.exists(!0))])}function bN(s){return wc(qe(s.firestore,wt),[new cl(s._key,ct.none())])}function bw(s,e){const t=qe(s.firestore,wt),r=zf(s),a=pd(s.converter,e);return wc(t,[cd(Ra(s.firestore),"addDoc",r._key,a,s.converter!==null,{}).toMutation(r._key,ct.exists(!1))]).then(()=>r)}function Aw(s,...e){var t,r,a;s=Vt(s);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||pp(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(pp(e[c])){const T=e[c];e[c]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[c+1]=(r=T.error)===null||r===void 0?void 0:r.bind(T),e[c+2]=(a=T.complete)===null||a===void 0?void 0:a.bind(T)}let m,p,_;if(s instanceof mt)p=qe(s.firestore,wt),_=ll(s._key.path),m={next:T=>{e[c]&&e[c](Fy(p,s,T))},error:e[c+1],complete:e[c+2]};else{const T=qe(s,pn);p=qe(T.firestore,wt),_=T._query;const A=new xa(p);m={next:D=>{e[c]&&e[c](new hs(p,A,T,D))},error:e[c+1],complete:e[c+2]},_w(s._query)}return function(A,D,M,H){const U=new sd(H),$=new vy(D,U,M);return A.asyncQueue.enqueueAndForget(async()=>py(await rl(A),$)),()=>{U.yu(),A.asyncQueue.enqueueAndForget(async()=>yy(await rl(A),$))}}(ln(p),_,d,m)}function AN(s,e){return zV(ln(s=qe(s,wt)),pp(e)?e:{next:e})}function wc(s,e){return function(r,a){const l=new en;return r.asyncQueue.enqueueAndForget(async()=>dV(await Iy(r),a,l)),l.promise}(ln(s),e)}function Fy(s,e,t){const r=t.docs.get(e._key),a=new xa(s);return new ci(s,a,e._key,r,new ca(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wN=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ra(e)}set(e,t,r){this._verifyNotCommitted();const a=Xi(e,this._firestore),l=pd(a.converter,t,r),c=cd(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,ct.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const l=Xi(e,this._firestore);let c;return c=typeof(t=Vt(t))=="string"||t instanceof cs?Ly(this._dataReader,"WriteBatch.update",l._key,t,r,a):Py(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,ct.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xi(e,this._firestore);return this._mutations=this._mutations.concat(new cl(t._key,ct.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Xi(s,e){if((s=Vt(s)).firestore!==e)throw new re(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ra(e)}get(e){const t=Xi(e,this._firestore),r=new mN(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||a.length!==1)return de(24041);const l=a[0];if(l.isFoundDocument())return new sc(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new sc(this._firestore,r,t._key,null,t.converter);throw de(18433,{doc:l})})}set(e,t,r){const a=Xi(e,this._firestore),l=pd(a.converter,t,r),c=cd(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,r);return this._transaction.set(a._key,c),this}update(e,t,r,...a){const l=Xi(e,this._firestore);let c;return c=typeof(t=Vt(t))=="string"||t instanceof cs?Ly(this._dataReader,"Transaction.update",l._key,t,r,a):Py(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=Xi(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IN=class extends RN{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xi(e,this._firestore),r=new xa(this._firestore);return super.get(e).then(a=>new ci(this._firestore,r,t._key,a._document,new ca(!1,!1),t.converter))}};function xN(s,e,t){s=qe(s,wt);const r=Object.assign(Object.assign({},SN),t);return function(l){if(l.maxAttempts<1)throw new re(Q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(l,c,d){const m=new en;return l.asyncQueue.enqueueAndForget(async()=>{const p=await PV(l);new MV(l.asyncQueue,p,d,c,m).Nu()}),m.promise}(ln(s),a=>e(new IN(s,a)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){return new Ac("deleteField")}function CN(){return new Vy("serverTimestamp")}function VN(...s){return new Ny("arrayUnion",s)}function NN(...s){return new My("arrayRemove",s)}function MN(s){return new Oy("increment",s)}(function(e,t=!0){(function(a){ol=a})(Np),Uo(new da("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new wt(new xD(r.getProvider("auth-internal")),new VD(c,r.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new re(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new is(p.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),si(CT,VT,e),si(CT,VT,"esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,t){this._delegate=e,this.firebase=t,Gu(e,new da("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Op(this._delegate)))}_getService(e,t=ts){var r;this._delegate.checkDestroyed();const a=this._delegate.container.getProvider(e);return!a.isInitialized()&&((r=a.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&a.initialize(),a.getImmediate({identifier:t})}_removeServiceInstance(e,t=ts){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Gu(this._delegate,e)}_addOrOverwriteComponent(e){Mb(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},tb=new Gf("app-compat","Firebase",PN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(s){const e={},t={__esModule:!0,initializeApp:l,app:a,registerVersion:si,setLogLevel:Ub,onLog:Bb,apps:null,SDK_VERSION:Np,INTERNAL:{registerComponent:d,removeApp:r,useAsService:m,modularAPIs:AD}};t.default=t,Object.defineProperty(t,"apps",{get:c});function r(p){delete e[p]}function a(p){if(p=p||ts,!ET(e,p))throw tb.create("no-app",{appName:p});return e[p]}a.App=s;function l(p,_={}){const T=Mp(p,_);if(ET(e,T.name))return e[T.name];const A=new s(T,t);return e[T.name]=A,A}function c(){return Object.keys(e).map(p=>e[p])}function d(p){const _=p.name,T=_.replace("-compat","");if(Uo(p)&&p.type==="PUBLIC"){const A=(D=a())=>{if(typeof D[T]!="function")throw tb.create("invalid-app-argument",{appName:_});return D[T]()};p.serviceProps!==void 0&&vf(A,p.serviceProps),t[T]=A,s.prototype[T]=function(...D){return this._getService.bind(this,_).apply(this,p.multipleInstances?D:[])}}return p.type==="PUBLIC"?t[T]:null}function m(p,_){return _==="serverAuth"?null:_}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(){const s=LN(ON);s.INTERNAL=Object.assign(Object.assign({},s.INTERNAL),{createFirebaseNamespace:Sw,extendNamespace:e,createSubscribe:ux,ErrorFactory:Gf,deepExtend:vf});function e(t){vf(s,t)}return s}const kN=Sw();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=new Dp("@firebase/app-compat"),BN="@firebase/app-compat",UN="0.2.54";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(s){si(BN,UN,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const s=Rp();if(s.firebase!==void 0){nb.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=s.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&nb.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Gy=kN;zN();var jN="firebase",qN="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gy.registerVersion(jN,qN,"app-compat");const FN="@firebase/firestore-compat",GN="0.3.46";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(s,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new re("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){if(typeof Uint8Array>"u")throw new re("unimplemented","Uint8Arrays are not available in this environment.")}function ib(){if(!hC())throw new re("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ac{constructor(e){this._delegate=e}static fromBase64String(e){return ib(),new ac(xr.fromBase64String(e))}static fromUint8Array(e){return rb(),new ac(xr.fromUint8Array(e))}toBase64(){return ib(),this._delegate.toBase64()}toUint8Array(){return rb(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(s){return HN(s,["next","error","complete"])}function HN(s,e){if(typeof s!="object"||s===null)return!1;const t=s;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{enableIndexedDbPersistence(e,t){return QV(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return YV(e._delegate)}clearIndexedDbPersistence(e){return $V(e._delegate)}}class ww{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof is||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Rr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){rw(this._delegate,e,t,r)}enableNetwork(){return JV(this._delegate)}disableNetwork(){return ZV(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,ew("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return XV(this._delegate)}onSnapshotsInSync(e){return AN(this._delegate,e)}get app(){if(!this._appCompat)throw new re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new il(this,Dy(this._delegate,e))}catch(t){throw mn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Qn(this,zf(this._delegate,e))}catch(t){throw mn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new dn(this,FV(this._delegate,e))}catch(t){throw mn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return xN(this._delegate,t=>e(new Rw(this,t)))}batch(){return ln(this._delegate),new Iw(new wN(this._delegate,e=>wc(this._delegate,e)))}loadBundle(e){return WV(this._delegate,e)}namedQuery(e){return eN(this._delegate,e).then(t=>t?new dn(this,t):null)}}class yd extends qy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(new xr(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Qn.forKey(t,this.firestore,null)}}function QN(s){SD(s)}class Rw{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new yd(e)}get(e){const t=ha(e);return this._delegate.get(t).then(r=>new oc(this._firestore,new ci(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=ha(e);return r?(Hy("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=ha(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=ha(e);return this._delegate.delete(t),this}}class Iw{constructor(e){this._delegate=e}set(e,t,r){const a=ha(e);return r?(Hy("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=ha(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=ha(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ba{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new qu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lc(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ba.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let l=a.get(t);return l||(l=new ba(e,new yd(e),t),a.set(t,l)),l}}ba.INSTANCES=new WeakMap;class Qn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yd(e)}static forPath(e,t,r){if(e.length%2!==0)throw new re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qn(t,new mt(t._delegate,r,new le(e)))}static forKey(e,t,r){return new Qn(t,new mt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new il(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new il(this.firestore,Dy(this._delegate,e))}catch(t){throw mn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Vt(e),e instanceof mt?ow(this._delegate,e):!1}set(e,t){t=Hy("DocumentReference.set",t);try{return t?W0(this._delegate,e,t):W0(this._delegate,e)}catch(r){throw mn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?eb(this._delegate,e):eb(this._delegate,e,t,...r)}catch(a){throw mn(a,"updateDoc()","DocumentReference.update()")}}delete(){return bN(this._delegate)}onSnapshot(...e){const t=xw(e),r=Dw(e,a=>new oc(this.firestore,new ci(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Aw(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=yN(this._delegate):(e==null?void 0:e.source)==="server"?t=_N(this._delegate):t=pN(this._delegate),t.then(r=>new oc(this.firestore,new ci(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Qn(this.firestore,e?this._delegate.withConverter(ba.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function mn(s,e,t){return s.message=s.message.replace(e,t),s}function xw(s){for(const e of s)if(typeof e=="object"&&!_p(e))return e;return{}}function Dw(s,e){var t,r;let a;return _p(s[0])?a=s[0]:_p(s[1])?a=s[1]:typeof s[0]=="function"?a={next:s[0],error:s[1],complete:s[2]}:a={next:s[1],error:s[2],complete:s[3]},{next:l=>{a.next&&a.next(e(l))},error:(t=a.error)===null||t===void 0?void 0:t.bind(a),complete:(r=a.complete)===null||r===void 0?void 0:r.bind(a)}}class oc{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Qn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Tw(this._delegate,e._delegate)}}class lc extends oc{data(e){const t=this._delegate.data(e);return this._delegate._converter||wD(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class dn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yd(e)}where(e,t,r){try{return new dn(this.firestore,ni(this._delegate,aN(e,t,r)))}catch(a){throw mn(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new dn(this.firestore,ni(this._delegate,oN(e,t)))}catch(r){throw mn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new dn(this.firestore,ni(this._delegate,lN(e)))}catch(t){throw mn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new dn(this.firestore,ni(this._delegate,uN(e)))}catch(t){throw mn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new dn(this.firestore,ni(this._delegate,cN(...e)))}catch(t){throw mn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new dn(this.firestore,ni(this._delegate,hN(...e)))}catch(t){throw mn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new dn(this.firestore,ni(this._delegate,fN(...e)))}catch(t){throw mn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new dn(this.firestore,ni(this._delegate,dN(...e)))}catch(t){throw mn(t,"endAt()","Query.endAt()")}}isEqual(e){return lw(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=EN(this._delegate):(e==null?void 0:e.source)==="server"?t=TN(this._delegate):t=vN(this._delegate),t.then(r=>new vp(this.firestore,new hs(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=xw(e),r=Dw(e,a=>new vp(this.firestore,new hs(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Aw(this._delegate,t,r)}withConverter(e){return new dn(this.firestore,e?this._delegate.withConverter(ba.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class YN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vp{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new dn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new YN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new lc(this._firestore,r))})}isEqual(e){return Tw(this._delegate,e._delegate)}}class il extends dn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qn(this.firestore,e):null}doc(e){try{return e===void 0?new Qn(this.firestore,zf(this._delegate)):new Qn(this.firestore,zf(this._delegate,e))}catch(t){throw mn(t,"doc()","CollectionReference.doc()")}}add(e){return bw(this._delegate,e).then(t=>new Qn(this.firestore,t))}isEqual(e){return ow(this._delegate,e._delegate)}withConverter(e){return new il(this.firestore,e?this._delegate.withConverter(ba.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ha(s){return qe(s,mt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(...e){this._delegate=new cs(...e)}static documentId(){return new Ky(ut.keyField().canonicalString())}isEqual(e){return e=Vt(e),e instanceof cs?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{static serverTimestamp(){const e=CN();return e._methodName="FieldValue.serverTimestamp",new la(e)}static delete(){const e=DN();return e._methodName="FieldValue.delete",new la(e)}static arrayUnion(...e){const t=VN(...e);return t._methodName="FieldValue.arrayUnion",new la(t)}static arrayRemove(...e){const t=NN(...e);return t._methodName="FieldValue.arrayRemove",new la(t)}static increment(e){const t=MN(e);return t._methodName="FieldValue.increment",new la(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N={Firestore:ww,GeoPoint:ld,Timestamp:ht,Blob:ac,Transaction:Rw,WriteBatch:Iw,DocumentReference:Qn,DocumentSnapshot:oc,Query:dn,QueryDocumentSnapshot:lc,QuerySnapshot:vp,CollectionReference:il,FieldPath:Ky,FieldValue:la,setLogLevel:QN,CACHE_SIZE_UNLIMITED:HV};function XN(s,e){s.INTERNAL.registerComponent(new da("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(r,a)},"PUBLIC").setServiceProps(Object.assign({},$N)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(s){XN(s,(e,t)=>new ww(e,t,new KN)),s.registerVersion(FN,GN)}JN(Gy);const ZN=Gy.initializeApp({apiKey:"AIzaSyB3s6QjYWR6EL45XSK7ANP-D_1I-DZ9eYg",authDomain:"taxis-e44d6.firebaseapp.com",projectId:"taxis-e44d6",storageBucket:"taxis-e44d6.appspot.com",messagingSenderId:"603667662446",appId:"1:603667662446:web:0014b763a2a4acca92487f"}),WN=KV(ZN);function eM(){const s=ni(Dy(WN,"mensajes")),[e,t]=ee.useState({name:"",tel:"",msj:""}),{name:r,tel:a,msj:l}=e,c=m=>{const{name:p,value:_}=m.target;t({...e,[p]:_})},d=m=>{if(m.preventDefault(),r.trim()==""){alert("ESCRIBE TU NOMBRE");return}if(l.trim()==""){alert("ESCRIBE EL MENSAJE");return}e.date=Date.now(),bw(s,e),t({name:"",tel:"",msj:""})};return x.jsxs("div",{children:[x.jsx("h2",{children:"ENVIANOS UN MENSAJE"}),x.jsx("hr",{}),x.jsxs("form",{children:[x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"NOMBRE"}),x.jsx("input",{type:"text",name:"name",value:r,onChange:m=>c(m)})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"TELEFONO (opcional)"}),x.jsx("input",{type:"number",name:"tel",value:a,onChange:m=>c(m)})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"MENSAJE"}),x.jsx("textarea",{name:"msj",value:l,onChange:m=>c(m)})]}),x.jsx("button",{className:"btn-enviar",onClick:m=>d(m),children:"enviar "})]})]})}function tM(){const[s,e]=ee.useState("1"),[t,r]=ee.useState("5");return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"inicioContainer",children:[x.jsxs("div",{className:"titulo",children:[x.jsx("h4",{children:"Notas Sueltas"}),x.jsx("h2",{children:"Titulo 1"})]}),x.jsxs("div",{className:"buttonsContainer",children:[x.jsx("button",{className:s==="1"?"bg-dark":"bg-ligth",onClick:()=>e("1"),children:"info 1"}),x.jsx("button",{className:s==="2"?"bg-dark":"bg-ligth",onClick:()=>e("2"),children:"info 2"}),x.jsx("button",{className:s==="3"?"bg-dark":"bg-ligth",onClick:()=>e("3"),children:"info 3"})]}),x.jsx("div",{className:s!=="1"?"d-none":"displayX",children:x.jsx("div",{children:x.jsxs("h3",{children:["texto1",x.jsx("br",{}),"texto",x.jsx("br",{})," informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion"]})})}),x.jsx("div",{className:s!=="2"?"d-none":"displayX",children:x.jsx("div",{children:x.jsxs("h3",{children:["texto2",x.jsx("br",{})," info ",x.jsx("br",{})," es como el sistema de aspersin con lquido pero esparce partculas mucho ms finas que forman una especie de nube fra, lo cual le confiere gran poder de penetracin. Ideal para el control de insectos voladores."]})})}),x.jsx("div",{className:s!=="3"?"d-none":"displayX",children:x.jsx("div",{children:x.jsxs("h3",{children:["texto 3",x.jsx("br",{}),"  informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion"]})})})]}),x.jsxs("div",{className:"inicioContainer",children:[x.jsx("div",{className:"titulo",children:x.jsx("h2",{children:"Titulo 2"})}),x.jsxs("div",{className:"buttonsContainer",children:[x.jsx("button",{className:s==="4"?"bg-dark":"bg-ligth",onClick:()=>r("4"),children:"info 4"}),x.jsx("button",{className:s==="5"?"bg-dark":"bg-ligth",onClick:()=>r("5"),children:"info 5"}),x.jsx("button",{className:s==="6"?"bg-dark":"bg-ligth",onClick:()=>r("6"),children:"info 6"})]}),x.jsx("div",{className:t!=="4"?"d-none":"displayX",children:x.jsx("div",{children:x.jsxs("h3",{children:["texto4",x.jsx("br",{}),"texto",x.jsx("br",{})," informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion"]})})}),x.jsx("div",{className:t!=="5"?"d-none":"displayX",children:x.jsx("div",{children:x.jsxs("h3",{children:["texto5",x.jsx("br",{})," info ",x.jsx("br",{})," es como el sistema de aspersin con lquido pero esparce partculas mucho ms finas que forman una especie de nube fra, lo cual le confiere gran poder de penetracin. Ideal para el control de insectos voladores."]})})}),x.jsx("div",{className:t!=="6"?"d-none":"displayX",children:x.jsx("div",{children:x.jsxs("h3",{children:["texto 6",x.jsx("br",{}),"  informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion"]})})})]})]})}function nM(){return x.jsxs("div",{className:"containerApp",children:[x.jsx(P1,{}),x.jsxs(e1,{children:[x.jsx(xo,{path:"/MLJM/",element:x.jsx(F1,{})}),x.jsx(xo,{path:"/MLJM/GRUPO",element:x.jsx(z1,{})}),x.jsx(xo,{path:"/MLJM/CENACULOS",element:x.jsx(tM,{})}),x.jsx(xo,{path:"/MLJM/CONSAGRACIONES",element:x.jsx(G1,{})}),x.jsx(xo,{path:"/MLJM/MENSAJES",element:x.jsx(eM,{})})]}),x.jsx("div",{className:"sombra",children:x.jsx("img",{src:M1,style:{marginBottom:"20px"}})}),x.jsx(O1,{})]})}uI.createRoot(document.getElementById("root")).render(x.jsx(S1,{children:x.jsx(nM,{})}));
