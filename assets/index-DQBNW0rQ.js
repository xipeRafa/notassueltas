(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();var _p={exports:{}},bu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function eI(){if(nT)return bu;nT=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:a,type:i,key:c,ref:s!==void 0?s:null,props:l}}return bu.Fragment=e,bu.jsx=t,bu.jsxs=t,bu}var iT;function tI(){return iT||(iT=1,_p.exports=eI()),_p.exports}var W=tI(),vp={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rT;function nI(){if(rT)return De;rT=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=T&&N[T]||N["@@iterator"],typeof N=="function"?N:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,G={};function k(N,ne,he){this.props=N,this.context=ne,this.refs=G,this.updater=he||D}k.prototype.isReactComponent={},k.prototype.setState=function(N,ne){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ne,"setState")},k.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Y(){}Y.prototype=k.prototype;function ae(N,ne,he){this.props=N,this.context=ne,this.refs=G,this.updater=he||D}var Z=ae.prototype=new Y;Z.constructor=ae,C(Z,k.prototype),Z.isPureReactComponent=!0;var me=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},Ee=Object.prototype.hasOwnProperty;function V(N,ne,he,se,Te,Ce){return he=Ce.ref,{$$typeof:a,type:N,key:ne,ref:he!==void 0?he:null,props:Ce}}function w(N,ne){return V(N.type,ne,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===a}function M(N){var ne={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(he){return ne[he]})}var P=/\/+/g;function z(N,ne){return typeof N=="object"&&N!==null&&N.key!=null?M(""+N.key):ne.toString(36)}function x(){}function Kt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(x,x):(N.status="pending",N.then(function(ne){N.status==="pending"&&(N.status="fulfilled",N.value=ne)},function(ne){N.status==="pending"&&(N.status="rejected",N.reason=ne)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function pt(N,ne,he,se,Te){var Ce=typeof N;(Ce==="undefined"||Ce==="boolean")&&(N=null);var Re=!1;if(N===null)Re=!0;else switch(Ce){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(N.$$typeof){case a:case e:Re=!0;break;case _:return Re=N._init,pt(Re(N._payload),ne,he,se,Te)}}if(Re)return Te=Te(N),Re=se===""?"."+z(N,0):se,me(Te)?(he="",Re!=null&&(he=Re.replace(P,"$&/")+"/"),pt(Te,ne,he,"",function(ni){return ni})):Te!=null&&(R(Te)&&(Te=w(Te,he+(Te.key==null||N&&N.key===Te.key?"":(""+Te.key).replace(P,"$&/")+"/")+Re)),ne.push(Te)),1;Re=0;var kt=se===""?".":se+":";if(me(N))for(var nt=0;nt<N.length;nt++)se=N[nt],Ce=kt+z(se,nt),Re+=pt(se,ne,he,Ce,Te);else if(nt=A(N),typeof nt=="function")for(N=nt.call(N),nt=0;!(se=N.next()).done;)se=se.value,Ce=kt+z(se,nt++),Re+=pt(se,ne,he,Ce,Te);else if(Ce==="object"){if(typeof N.then=="function")return pt(Kt(N),ne,he,se,Te);throw ne=String(N),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Re}function $(N,ne,he){if(N==null)return N;var se=[],Te=0;return pt(N,se,"","",function(Ce){return ne.call(he,Ce,Te++)}),se}function ue(N){if(N._status===-1){var ne=N._result;ne=ne(),ne.then(function(he){(N._status===0||N._status===-1)&&(N._status=1,N._result=he)},function(he){(N._status===0||N._status===-1)&&(N._status=2,N._result=he)}),N._status===-1&&(N._status=0,N._result=ne)}if(N._status===1)return N._result.default;throw N._result}var ve=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Fe(){}return De.Children={map:$,forEach:function(N,ne,he){$(N,function(){ne.apply(this,arguments)},he)},count:function(N){var ne=0;return $(N,function(){ne++}),ne},toArray:function(N){return $(N,function(ne){return ne})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},De.Component=k,De.Fragment=t,De.Profiler=s,De.PureComponent=ae,De.StrictMode=i,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,De.__COMPILER_RUNTIME={__proto__:null,c:function(N){return fe.H.useMemoCache(N)}},De.cache=function(N){return function(){return N.apply(null,arguments)}},De.cloneElement=function(N,ne,he){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var se=C({},N.props),Te=N.key,Ce=void 0;if(ne!=null)for(Re in ne.ref!==void 0&&(Ce=void 0),ne.key!==void 0&&(Te=""+ne.key),ne)!Ee.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(se[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)se.children=he;else if(1<Re){for(var kt=Array(Re),nt=0;nt<Re;nt++)kt[nt]=arguments[nt+2];se.children=kt}return V(N.type,Te,void 0,void 0,Ce,se)},De.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},De.createElement=function(N,ne,he){var se,Te={},Ce=null;if(ne!=null)for(se in ne.key!==void 0&&(Ce=""+ne.key),ne)Ee.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(Te[se]=ne[se]);var Re=arguments.length-2;if(Re===1)Te.children=he;else if(1<Re){for(var kt=Array(Re),nt=0;nt<Re;nt++)kt[nt]=arguments[nt+2];Te.children=kt}if(N&&N.defaultProps)for(se in Re=N.defaultProps,Re)Te[se]===void 0&&(Te[se]=Re[se]);return V(N,Ce,void 0,void 0,null,Te)},De.createRef=function(){return{current:null}},De.forwardRef=function(N){return{$$typeof:d,render:N}},De.isValidElement=R,De.lazy=function(N){return{$$typeof:_,_payload:{_status:-1,_result:N},_init:ue}},De.memo=function(N,ne){return{$$typeof:g,type:N,compare:ne===void 0?null:ne}},De.startTransition=function(N){var ne=fe.T,he={};fe.T=he;try{var se=N(),Te=fe.S;Te!==null&&Te(he,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Fe,ve)}catch(Ce){ve(Ce)}finally{fe.T=ne}},De.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},De.use=function(N){return fe.H.use(N)},De.useActionState=function(N,ne,he){return fe.H.useActionState(N,ne,he)},De.useCallback=function(N,ne){return fe.H.useCallback(N,ne)},De.useContext=function(N){return fe.H.useContext(N)},De.useDebugValue=function(){},De.useDeferredValue=function(N,ne){return fe.H.useDeferredValue(N,ne)},De.useEffect=function(N,ne,he){var se=fe.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(N,ne)},De.useId=function(){return fe.H.useId()},De.useImperativeHandle=function(N,ne,he){return fe.H.useImperativeHandle(N,ne,he)},De.useInsertionEffect=function(N,ne){return fe.H.useInsertionEffect(N,ne)},De.useLayoutEffect=function(N,ne){return fe.H.useLayoutEffect(N,ne)},De.useMemo=function(N,ne){return fe.H.useMemo(N,ne)},De.useOptimistic=function(N,ne){return fe.H.useOptimistic(N,ne)},De.useReducer=function(N,ne,he){return fe.H.useReducer(N,ne,he)},De.useRef=function(N){return fe.H.useRef(N)},De.useState=function(N){return fe.H.useState(N)},De.useSyncExternalStore=function(N,ne,he){return fe.H.useSyncExternalStore(N,ne,he)},De.useTransition=function(){return fe.H.useTransition()},De.version="19.1.0",De}var aT;function Eg(){return aT||(aT=1,vp.exports=nI()),vp.exports}var ee=Eg(),Ep={exports:{}},Au={},Tp={exports:{}},bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function iI(){return sT||(sT=1,function(a){function e($,ue){var ve=$.length;$.push(ue);e:for(;0<ve;){var Fe=ve-1>>>1,N=$[Fe];if(0<s(N,ue))$[Fe]=ue,$[ve]=N,ve=Fe;else break e}}function t($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var ue=$[0],ve=$.pop();if(ve!==ue){$[0]=ve;e:for(var Fe=0,N=$.length,ne=N>>>1;Fe<ne;){var he=2*(Fe+1)-1,se=$[he],Te=he+1,Ce=$[Te];if(0>s(se,ve))Te<N&&0>s(Ce,se)?($[Fe]=Ce,$[Te]=ve,Fe=Te):($[Fe]=se,$[he]=ve,Fe=he);else if(Te<N&&0>s(Ce,ve))$[Fe]=Ce,$[Te]=ve,Fe=Te;else break e}}return ue}function s($,ue){var ve=$.sortIndex-ue.sortIndex;return ve!==0?ve:$.id-ue.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();a.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,T=null,A=3,D=!1,C=!1,G=!1,k=!1,Y=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function me($){for(var ue=t(g);ue!==null;){if(ue.callback===null)i(g);else if(ue.startTime<=$)i(g),ue.sortIndex=ue.expirationTime,e(m,ue);else break;ue=t(g)}}function fe($){if(G=!1,me($),!C)if(t(m)!==null)C=!0,Ee||(Ee=!0,z());else{var ue=t(g);ue!==null&&pt(fe,ue.startTime-$)}}var Ee=!1,V=-1,w=5,R=-1;function M(){return k?!0:!(a.unstable_now()-R<w)}function P(){if(k=!1,Ee){var $=a.unstable_now();R=$;var ue=!0;try{e:{C=!1,G&&(G=!1,ae(V),V=-1),D=!0;var ve=A;try{t:{for(me($),T=t(m);T!==null&&!(T.expirationTime>$&&M());){var Fe=T.callback;if(typeof Fe=="function"){T.callback=null,A=T.priorityLevel;var N=Fe(T.expirationTime<=$);if($=a.unstable_now(),typeof N=="function"){T.callback=N,me($),ue=!0;break t}T===t(m)&&i(m),me($)}else i(m);T=t(m)}if(T!==null)ue=!0;else{var ne=t(g);ne!==null&&pt(fe,ne.startTime-$),ue=!1}}break e}finally{T=null,A=ve,D=!1}ue=void 0}}finally{ue?z():Ee=!1}}}var z;if(typeof Z=="function")z=function(){Z(P)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Kt=x.port2;x.port1.onmessage=P,z=function(){Kt.postMessage(null)}}else z=function(){Y(P,0)};function pt($,ue){V=Y(function(){$(a.unstable_now())},ue)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function($){switch(A){case 1:case 2:case 3:var ue=3;break;default:ue=A}var ve=A;A=ue;try{return $()}finally{A=ve}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function($,ue){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ve=A;A=$;try{return ue()}finally{A=ve}},a.unstable_scheduleCallback=function($,ue,ve){var Fe=a.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Fe+ve:Fe):ve=Fe,$){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ve+N,$={id:_++,callback:ue,priorityLevel:$,startTime:ve,expirationTime:N,sortIndex:-1},ve>Fe?($.sortIndex=ve,e(g,$),t(m)===null&&$===t(g)&&(G?(ae(V),V=-1):G=!0,pt(fe,ve-Fe))):($.sortIndex=N,e(m,$),C||D||(C=!0,Ee||(Ee=!0,z()))),$},a.unstable_shouldYield=M,a.unstable_wrapCallback=function($){var ue=A;return function(){var ve=A;A=ue;try{return $.apply(this,arguments)}finally{A=ve}}}}(bp)),bp}var oT;function rI(){return oT||(oT=1,Tp.exports=iI()),Tp.exports}var Ap={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function aI(){if(lT)return rn;lT=1;var a=Eg();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:T==null?null:""+T,children:m,containerInfo:g,implementation:_}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,rn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},rn.flushSync=function(m){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=_,i.d.f()}},rn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},rn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},rn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:D}):_==="script"&&i.d.X(m,{crossOrigin:T,integrity:A,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},rn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);i.d.L(m,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},rn.requestFormReset=function(m){i.d.r(m)},rn.unstable_batchedUpdates=function(m,g){return m(g)},rn.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var uT;function sI(){if(uT)return Ap.exports;uT=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Ap.exports=aI(),Ap.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function oI(){if(cT)return Au;cT=1;var a=rI(),e=Eg(),t=sI();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(i(188))}function m(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(i(188));return r!==n?null:n}for(var o=n,u=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return d(f),n;if(p===u)return d(f),r;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=p;else{for(var E=!1,b=f.child;b;){if(b===o){E=!0,o=f,u=p;break}if(b===u){E=!0,u=f,o=p;break}b=b.sibling}if(!E){for(b=p.child;b;){if(b===o){E=!0,o=p,u=f;break}if(b===u){E=!0,u=p,o=f;break}b=b.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ae=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function Kt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case k:return"Profiler";case G:return"StrictMode";case fe:return"Suspense";case Ee:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case Z:return(n.displayName||"Context")+".Provider";case ae:return(n._context.displayName||"Context")+".Consumer";case me:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return r=n.displayName||null,r!==null?r:Kt(n.type)||"Memo";case w:r=n._payload,n=n._init;try{return Kt(n(r))}catch{}}return null}var pt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Fe=[],N=-1;function ne(n){return{current:n}}function he(n){0>N||(n.current=Fe[N],Fe[N]=null,N--)}function se(n,r){N++,Fe[N]=n.current,n.current=r}var Te=ne(null),Ce=ne(null),Re=ne(null),kt=ne(null);function nt(n,r){switch(se(Re,r),se(Ce,n),se(Te,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?CE(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=CE(r),n=VE(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}he(Te),se(Te,n)}function ni(){he(Te),he(Ce),he(Re)}function pr(n){n.memoizedState!==null&&se(kt,n);var r=Te.current,o=VE(r,n.type);r!==o&&(se(Ce,n),se(Te,o))}function Ci(n){Ce.current===n&&(he(Te),he(Ce)),kt.current===n&&(he(kt),yu._currentValue=ve)}var ya=Object.prototype.hasOwnProperty,_a=a.unstable_scheduleCallback,va=a.unstable_cancelCallback,ml=a.unstable_shouldYield,wc=a.unstable_requestPaint,Mn=a.unstable_now,_d=a.unstable_getCurrentPriorityLevel,pl=a.unstable_ImmediatePriority,xs=a.unstable_UserBlockingPriority,Ea=a.unstable_NormalPriority,vd=a.unstable_LowPriority,Cs=a.unstable_IdlePriority,gl=a.log,Rc=a.unstable_setDisableYieldValue,gt=null,Ke=null;function An(n){if(typeof gl=="function"&&Rc(n),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(gt,n)}catch{}}var tn=Math.clz32?Math.clz32:Ta,Ic=Math.log,Ed=Math.LN2;function Ta(n){return n>>>=0,n===0?32:31-(Ic(n)/Ed|0)|0}var ba=256,Aa=4194304;function $n(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Vs(n,r,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~p,u!==0?f=$n(u):(E&=b,E!==0?f=$n(E):o||(o=b&~n,o!==0&&(f=$n(o))))):(b=u&~p,b!==0?f=$n(b):E!==0?f=$n(E):o||(o=u&~n,o!==0&&(f=$n(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function Sa(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function yl(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _l(){var n=ba;return ba<<=1,(ba&4194048)===0&&(ba=256),n}function vl(){var n=Aa;return Aa<<=1,(Aa&62914560)===0&&(Aa=4194304),n}function Vi(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Ni(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function El(n,r,o,u,f,p){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var b=n.entanglements,I=n.expirationTimes,j=n.hiddenUpdates;for(o=E&~o;0<o;){var X=31-tn(o),te=1<<X;b[X]=0,I[X]=-1;var F=j[X];if(F!==null)for(j[X]=null,X=0;X<F.length;X++){var H=F[X];H!==null&&(H.lane&=-536870913)}o&=~te}u!==0&&ii(n,u,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~r))}function ii(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-tn(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function Tl(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var u=31-tn(o),f=1<<u;f&r|n[u]&r&&(n[u]|=r),o&=~f}}function gr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ns(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function yr(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:XE(n.type))}function Dc(n,r){var o=ue.p;try{return ue.p=n,r()}finally{ue.p=o}}var st=Math.random().toString(36).slice(2),Nt="__reactFiber$"+st,Rt="__reactProps$"+st,Pn="__reactContainer$"+st,bl="__reactEvents$"+st,Td="__reactListeners$"+st,_r="__reactHandles$"+st,xc="__reactResources$"+st,wa="__reactMarker$"+st;function vr(n){delete n[Nt],delete n[Rt],delete n[bl],delete n[Td],delete n[_r]}function Oi(n){var r=n[Nt];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Pn]||o[Nt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=PE(n);n!==null;){if(o=n[Nt])return o;n=PE(n)}return r}n=o,o=n.parentNode}return null}function ri(n){if(n=n[Nt]||n[Pn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ai(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function un(n){var r=n[xc];return r||(r=n[xc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Et(n){n[wa]=!0}var Al=new Set,Os={};function Xn(n,r){Mi(n,r),Mi(n+"Capture",r)}function Mi(n,r){for(Os[n]=r,n=0;n<r.length;n++)Al.add(r[n])}var Cc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vc={},Ra={};function Nc(n){return ya.call(Ra,n)?!0:ya.call(Vc,n)?!1:Cc.test(n)?Ra[n]=!0:(Vc[n]=!0,!1)}function Er(n,r,o){if(Nc(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function si(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function Qt(n,r,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+u)}}var Ia,Oc;function Pi(n){if(Ia===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ia=r&&r[1]||"",Oc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ia+n+Oc}var Ms=!1;function Ps(n,r){if(!n||Ms)return"";Ms=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(H){var F=H}Reflect.construct(n,[],te)}else{try{te.call()}catch(H){F=H}n.call(te.prototype)}}else{try{throw Error()}catch(H){F=H}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(H){if(H&&F&&typeof H.stack=="string")return[H.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],b=p[1];if(E&&b){var I=E.split(`
`),j=b.split(`
`);for(f=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(u===I.length||f===j.length)for(u=I.length-1,f=j.length-1;1<=u&&0<=f&&I[u]!==j[f];)f--;for(;1<=u&&0<=f;u--,f--)if(I[u]!==j[f]){if(u!==1||f!==1)do if(u--,f--,0>f||I[u]!==j[f]){var X=`
`+I[u].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=u&&0<=f);break}}}finally{Ms=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Pi(o):""}function Sl(n){switch(n.tag){case 26:case 27:case 5:return Pi(n.type);case 16:return Pi("Lazy");case 13:return Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 15:return Ps(n.type,!1);case 11:return Ps(n.type.render,!1);case 1:return Ps(n.type,!0);case 31:return Pi("Activity");default:return""}}function Ls(n){try{var r="";do r+=Sl(n),n=n.return;while(n);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function cn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function wl(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bd(n){var r=wl(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function zs(n){n._valueTracker||(n._valueTracker=bd(n))}function Rl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return n&&(u=wl(n)?n.checked?"true":"false":n.value),n=u,n!==o?(r.setValue(n),!0):!1}function Da(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ad=/[\n"\\]/g;function It(n){return n.replace(Ad,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Sn(n,r,o,u,f,p,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+cn(r)):n.value!==""+cn(r)&&(n.value=""+cn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?Tr(n,E,cn(r)):o!=null?Tr(n,E,cn(o)):u!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+cn(b):n.removeAttribute("name")}function xa(n,r,o,u,f,p,E,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;o=o!=null?""+cn(o):"",r=r!=null?""+cn(r):o,b||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Tr(n,r,o){r==="number"&&Da(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Li(n,r,o,u){if(n=n.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=r.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+cn(o),r=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Ze(n,r,o){if(r!=null&&(r=""+cn(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+cn(o):""}function Ca(n,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(pt(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=cn(r),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Ln(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var Va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mc(n,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,o):typeof o!="number"||o===0||Va.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function Il(n,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Mc(n,f,u)}else for(var p in r)r.hasOwnProperty(p)&&Mc(n,p,r[p])}function Dl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ks(n){return wd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var zi=null;function zn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ki=null,Ui=null;function xl(n){var r=ri(n);if(r&&(n=r.stateNode)){var o=n[Rt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Sn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+It(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==n&&u.form===n.form){var f=u[Rt]||null;if(!f)throw Error(i(90));Sn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===n.form&&Rl(u)}break e;case"textarea":Ze(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Li(n,!!o.multiple,r,!1)}}}var oi=!1;function Pc(n,r,o){if(oi)return n(r,o);oi=!0;try{var u=n(r);return u}finally{if(oi=!1,(ki!==null||Ui!==null)&&(Dh(),ki&&(r=ki,n=Ui,Ui=ki=null,xl(r),n)))for(r=0;r<n.length;r++)xl(n[r])}}function Na(n,r){var o=n.stateNode;if(o===null)return null;var u=o[Rt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kn=!1;if(Zn)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){kn=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{kn=!1}var li=null,br=null,Bi=null;function Cl(){if(Bi)return Bi;var n,r=br,o=r.length,u,f="value"in li?li.value:li.textContent,p=f.length;for(n=0;n<o&&r[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&r[o-u]===f[p-u];u++);return Bi=f.slice(n,1<u?1-u:void 0)}function ui(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ci(){return!0}function Vl(){return!1}function Ut(n){function r(o,u,f,p,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(o=n[b],this[b]=o?o(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ci:Vl,this.isPropagationStopped=Vl,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),r}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=Ut(He),Ma=_({},He,{view:0,detail:0}),Lc=Ut(Ma),Bs,qs,hi,Pa=_({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hi&&(hi&&n.type==="mousemove"?(Bs=n.screenX-hi.screenX,qs=n.screenY-hi.screenY):qs=Bs=0,hi=n),Bs)},movementY:function(n){return"movementY"in n?n.movementY:qs}}),Un=Ut(Pa),zc=_({},Pa,{dataTransfer:0}),Rd=Ut(zc),La=_({},Ma,{relatedTarget:0}),js=Ut(La),Nl=_({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Fs=Ut(Nl),kc=_({},He,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Gs=Ut(kc),Id=_({},He,{data:0}),Ol=Ut(Id),za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ml(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Bc[n])?!!r[n]:!1}function ka(){return Ml}var qc=_({},Ma,{key:function(n){if(n.key){var r=za[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ui(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Uc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(n){return n.type==="keypress"?ui(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ui(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Hs=Ut(qc),jc=_({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pl=Ut(jc),qi=_({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),Fc=Ut(qi),Gc=_({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hc=Ut(Gc),Kc=_({},Pa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ks=Ut(Kc),hn=_({},He,{newState:0,oldState:0}),Qc=Ut(hn),Yc=[9,13,27,32],fi=Zn&&"CompositionEvent"in window,h=null;Zn&&"documentMode"in document&&(h=document.documentMode);var y=Zn&&"TextEvent"in window&&!h,v=Zn&&(!fi||h&&8<h&&11>=h),S=" ",U=!1;function Q(n,r){switch(n){case"keyup":return Yc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ze=!1;function Ot(n,r){switch(n){case"compositionend":return oe(r);case"keypress":return r.which!==32?null:(U=!0,S);case"textInput":return n=r.data,n===S&&U?null:n;default:return null}}function ke(n,r){if(ze)return n==="compositionend"||!fi&&Q(n,r)?(n=Cl(),Bi=br=li=null,ze=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Bt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Bt[n.type]:r==="textarea"}function ji(n,r,o,u){ki?Ui?Ui.push(u):Ui=[u]:ki=u,r=Mh(r,"onChange"),0<r.length&&(o=new Us("onChange","change",null,o,u),n.push({event:o,listeners:r}))}var Yt=null,di=null;function Ll(n){wE(n,0)}function $c(n){var r=ai(n);if(Rl(r))return n}function Ky(n,r){if(n==="change")return r}var Qy=!1;if(Zn){var Dd;if(Zn){var xd="oninput"in document;if(!xd){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),xd=typeof Yy.oninput=="function"}Dd=xd}else Dd=!1;Qy=Dd&&(!document.documentMode||9<document.documentMode)}function $y(){Yt&&(Yt.detachEvent("onpropertychange",Xy),di=Yt=null)}function Xy(n){if(n.propertyName==="value"&&$c(di)){var r=[];ji(r,di,n,zn(n)),Pc(Ll,r)}}function Cw(n,r,o){n==="focusin"?($y(),Yt=r,di=o,Yt.attachEvent("onpropertychange",Xy)):n==="focusout"&&$y()}function Vw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return $c(di)}function Nw(n,r){if(n==="click")return $c(r)}function Ow(n,r){if(n==="input"||n==="change")return $c(r)}function Mw(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var wn=typeof Object.is=="function"?Object.is:Mw;function zl(n,r){if(wn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!ya.call(r,f)||!wn(n[f],r[f]))return!1}return!0}function Zy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Jy(n,r){var o=Zy(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=r&&u>=r)return{node:o,offset:r-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Zy(o)}}function Wy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Wy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function e_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Da(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=Da(n.document)}return r}function Cd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Pw=Zn&&"documentMode"in document&&11>=document.documentMode,Qs=null,Vd=null,kl=null,Nd=!1;function t_(n,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Nd||Qs==null||Qs!==Da(u)||(u=Qs,"selectionStart"in u&&Cd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),kl&&zl(kl,u)||(kl=u,u=Mh(Vd,"onSelect"),0<u.length&&(r=new Us("onSelect","select",null,r,o),n.push({event:r,listeners:u}),r.target=Qs)))}function Ua(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Ys={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionrun:Ua("Transition","TransitionRun"),transitionstart:Ua("Transition","TransitionStart"),transitioncancel:Ua("Transition","TransitionCancel"),transitionend:Ua("Transition","TransitionEnd")},Od={},n_={};Zn&&(n_=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function Ba(n){if(Od[n])return Od[n];if(!Ys[n])return n;var r=Ys[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in n_)return Od[n]=r[o];return n}var i_=Ba("animationend"),r_=Ba("animationiteration"),a_=Ba("animationstart"),Lw=Ba("transitionrun"),zw=Ba("transitionstart"),kw=Ba("transitioncancel"),s_=Ba("transitionend"),o_=new Map,Md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Md.push("scrollEnd");function Jn(n,r){o_.set(n,r),Xn(r,[n])}var l_=new WeakMap;function Bn(n,r){if(typeof n=="object"&&n!==null){var o=l_.get(n);return o!==void 0?o:(r={value:n,source:r,stack:Ls(r)},l_.set(n,r),r)}return{value:n,source:r,stack:Ls(r)}}var qn=[],$s=0,Pd=0;function Xc(){for(var n=$s,r=Pd=$s=0;r<n;){var o=qn[r];qn[r++]=null;var u=qn[r];qn[r++]=null;var f=qn[r];qn[r++]=null;var p=qn[r];if(qn[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}p!==0&&u_(o,f,p)}}function Zc(n,r,o,u){qn[$s++]=n,qn[$s++]=r,qn[$s++]=o,qn[$s++]=u,Pd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Ld(n,r,o,u){return Zc(n,r,o,u),Jc(n)}function Xs(n,r){return Zc(n,null,null,r),Jc(n)}function u_(n,r,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&r!==null&&(f=31-tn(o),n=p.hiddenUpdates,u=n[f],u===null?n[f]=[r]:u.push(r),r.lane=o|536870912),p):null}function Jc(n){if(50<uu)throw uu=0,jm=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Zs={};function Uw(n,r,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(n,r,o,u){return new Uw(n,r,o,u)}function zd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fi(n,r){var o=n.alternate;return o===null?(o=Rn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function c_(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Wc(n,r,o,u,f,p){var E=0;if(u=n,typeof n=="function")zd(n)&&(E=1);else if(typeof n=="string")E=qR(n,o,Te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=Rn(31,o,r,f),n.elementType=R,n.lanes=p,n;case C:return qa(o.children,f,p,r);case G:E=8,f|=24;break;case k:return n=Rn(12,o,r,f|2),n.elementType=k,n.lanes=p,n;case fe:return n=Rn(13,o,r,f),n.elementType=fe,n.lanes=p,n;case Ee:return n=Rn(19,o,r,f),n.elementType=Ee,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:case Z:E=10;break e;case ae:E=9;break e;case me:E=11;break e;case V:E=14;break e;case w:E=16,u=null;break e}E=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return r=Rn(E,o,r,f),r.elementType=n,r.type=u,r.lanes=p,r}function qa(n,r,o,u){return n=Rn(7,n,u,r),n.lanes=o,n}function kd(n,r,o){return n=Rn(6,n,null,r),n.lanes=o,n}function Ud(n,r,o){return r=Rn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Js=[],Ws=0,eh=null,th=0,jn=[],Fn=0,ja=null,Gi=1,Hi="";function Fa(n,r){Js[Ws++]=th,Js[Ws++]=eh,eh=n,th=r}function h_(n,r,o){jn[Fn++]=Gi,jn[Fn++]=Hi,jn[Fn++]=ja,ja=n;var u=Gi;n=Hi;var f=32-tn(u)-1;u&=~(1<<f),o+=1;var p=32-tn(r)+f;if(30<p){var E=f-f%5;p=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Gi=1<<32-tn(r)+f|o<<f|u,Hi=p+n}else Gi=1<<p|o<<f|u,Hi=n}function Bd(n){n.return!==null&&(Fa(n,1),h_(n,1,0))}function qd(n){for(;n===eh;)eh=Js[--Ws],Js[Ws]=null,th=Js[--Ws],Js[Ws]=null;for(;n===ja;)ja=jn[--Fn],jn[Fn]=null,Hi=jn[--Fn],jn[Fn]=null,Gi=jn[--Fn],jn[Fn]=null}var fn=null,yt=null,Ge=!1,Ga=null,mi=!1,jd=Error(i(519));function Ha(n){var r=Error(i(418,""));throw ql(Bn(r,n)),jd}function f_(n){var r=n.stateNode,o=n.type,u=n.memoizedProps;switch(r[Nt]=n,r[Rt]=u,o){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(o=0;o<hu.length;o++)Oe(hu[o],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),xa(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),zs(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Ca(r,u.value,u.defaultValue,u.children),zs(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||xE(r.textContent,o)?(u.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),u.onScroll!=null&&Oe("scroll",r),u.onScrollEnd!=null&&Oe("scrollend",r),u.onClick!=null&&(r.onclick=Ph),r=!0):r=!1,r||Ha(n)}function d_(n){for(fn=n.return;fn;)switch(fn.tag){case 5:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:fn=fn.return}}function Ul(n){if(n!==fn)return!1;if(!Ge)return d_(n),Ge=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||rp(n.type,n.memoizedProps)),o=!o),o&&yt&&Ha(n),d_(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(r===0){yt=ei(n.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;n=n.nextSibling}yt=null}}else r===27?(r=yt,kr(n.type)?(n=lp,lp=null,yt=n):yt=r):yt=fn?ei(n.stateNode.nextSibling):null;return!0}function Bl(){yt=fn=null,Ge=!1}function m_(){var n=Ga;return n!==null&&(vn===null?vn=n:vn.push.apply(vn,n),Ga=null),n}function ql(n){Ga===null?Ga=[n]:Ga.push(n)}var Fd=ne(null),Ka=null,Ki=null;function Ar(n,r,o){se(Fd,r._currentValue),r._currentValue=o}function Qi(n){n._currentValue=Fd.current,he(Fd)}function Gd(n,r,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===o)break;n=n.return}}function Hd(n,r,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=f;for(var I=0;I<r.length;I++)if(b.context===r[I]){p.lanes|=o,b=p.alternate,b!==null&&(b.lanes|=o),Gd(p.return,o,n),u||(E=null);break e}p=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),Gd(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function jl(n,r,o,u){n=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var b=f.type;wn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===kt.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(yu):n=[yu])}f=f.return}n!==null&&Hd(r,n,o,u),r.flags|=262144}function nh(n){for(n=n.firstContext;n!==null;){if(!wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Qa(n){Ka=n,Ki=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nn(n){return p_(Ka,n)}function ih(n,r){return Ka===null&&Qa(n),p_(n,r)}function p_(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ki===null){if(n===null)throw Error(i(308));Ki=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Ki=Ki.next=r;return o}var Bw=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},qw=a.unstable_scheduleCallback,jw=a.unstable_NormalPriority,Pt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kd(){return{controller:new Bw,data:new Map,refCount:0}}function Fl(n){n.refCount--,n.refCount===0&&qw(jw,function(){n.controller.abort()})}var Gl=null,Qd=0,eo=0,to=null;function Fw(n,r){if(Gl===null){var o=Gl=[];Qd=0,eo=$m(),to={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Qd++,r.then(g_,g_),r}function g_(){if(--Qd===0&&Gl!==null){to!==null&&(to.status="fulfilled");var n=Gl;Gl=null,eo=0,to=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Gw(n,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var y_=$.S;$.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Fw(n,r),y_!==null&&y_(n,r)};var Ya=ne(null);function Yd(){var n=Ya.current;return n!==null?n:it.pooledCache}function rh(n,r){r===null?se(Ya,Ya.current):se(Ya,r.pool)}function __(){var n=Yd();return n===null?null:{parent:Pt._currentValue,pool:n}}var Hl=Error(i(460)),v_=Error(i(474)),ah=Error(i(542)),$d={then:function(){}};function E_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function sh(){}function T_(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(sh,sh),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,A_(n),n;default:if(typeof r.status=="string")r.then(sh,sh);else{if(n=it,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,A_(n),n}throw Kl=r,Hl}}var Kl=null;function b_(){if(Kl===null)throw Error(i(459));var n=Kl;return Kl=null,n}function A_(n){if(n===Hl||n===ah)throw Error(i(483))}var Sr=!1;function Xd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function wr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Rr(n,r,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Qe&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Jc(n),u_(n,null,o),r}return Zc(n,u,r,o),Jc(n)}function Ql(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Tl(n,o)}}function Jd(n,r){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var Wd=!1;function Yl(){if(Wd){var n=to;if(n!==null)throw n}}function $l(n,r,o,u){Wd=!1;var f=n.updateQueue;Sr=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var I=b,j=I.next;I.next=null,E===null?p=j:E.next=j,E=I;var X=n.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==E&&(b===null?X.firstBaseUpdate=j:b.next=j,X.lastBaseUpdate=I))}if(p!==null){var te=f.baseState;E=0,X=j=I=null,b=p;do{var F=b.lane&-536870913,H=F!==b.lane;if(H?(Ue&F)===F:(u&F)===F){F!==0&&F===eo&&(Wd=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var we=n,be=b;F=r;var et=o;switch(be.tag){case 1:if(we=be.payload,typeof we=="function"){te=we.call(et,te,F);break e}te=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,F=typeof we=="function"?we.call(et,te,F):we,F==null)break e;te=_({},te,F);break e;case 2:Sr=!0}}F=b.callback,F!==null&&(n.flags|=64,H&&(n.flags|=8192),H=f.callbacks,H===null?f.callbacks=[F]:H.push(F))}else H={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(j=X=H,I=te):X=X.next=H,E|=F;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;H=b,b=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);X===null&&(I=te),f.baseState=I,f.firstBaseUpdate=j,f.lastBaseUpdate=X,p===null&&(f.shared.lanes=0),Mr|=E,n.lanes=E,n.memoizedState=te}}function S_(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function w_(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)S_(o[n],r)}var no=ne(null),oh=ne(0);function R_(n,r){n=er,se(oh,n),se(no,r),er=n|r.baseLanes}function em(){se(oh,er),se(no,no.current)}function tm(){er=oh.current,he(no),he(oh)}var Ir=0,xe=null,Je=null,Dt=null,lh=!1,io=!1,$a=!1,uh=0,Xl=0,ro=null,Hw=0;function Tt(){throw Error(i(321))}function nm(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!wn(n[o],r[o]))return!1;return!0}function im(n,r,o,u,f,p){return Ir=p,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=n===null||n.memoizedState===null?uv:cv,$a=!1,p=o(u,f),$a=!1,io&&(p=D_(r,o,u,f)),I_(n),p}function I_(n){$.H=ph;var r=Je!==null&&Je.next!==null;if(Ir=0,Dt=Je=xe=null,lh=!1,Xl=0,ro=null,r)throw Error(i(300));n===null||qt||(n=n.dependencies,n!==null&&nh(n)&&(qt=!0))}function D_(n,r,o,u){xe=n;var f=0;do{if(io&&(ro=null),Xl=0,io=!1,25<=f)throw Error(i(301));if(f+=1,Dt=Je=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=Jw,p=r(o,u)}while(io);return p}function Kw(){var n=$.H,r=n.useState()[0];return r=typeof r.then=="function"?Zl(r):r,n=n.useState()[0],(Je!==null?Je.memoizedState:null)!==n&&(xe.flags|=1024),r}function rm(){var n=uh!==0;return uh=0,n}function am(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function sm(n){if(lh){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}lh=!1}Ir=0,Dt=Je=xe=null,io=!1,Xl=uh=0,ro=null}function yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?xe.memoizedState=Dt=n:Dt=Dt.next=n,Dt}function xt(){if(Je===null){var n=xe.alternate;n=n!==null?n.memoizedState:null}else n=Je.next;var r=Dt===null?xe.memoizedState:Dt.next;if(r!==null)Dt=r,Je=n;else{if(n===null)throw xe.alternate===null?Error(i(467)):Error(i(310));Je=n,n={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Dt===null?xe.memoizedState=Dt=n:Dt=Dt.next=n}return Dt}function om(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(n){var r=Xl;return Xl+=1,ro===null&&(ro=[]),n=T_(ro,n,r),r=xe,(Dt===null?r.memoizedState:Dt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?uv:cv),n}function ch(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Zl(n);if(n.$$typeof===Z)return nn(n)}throw Error(i(438,String(n)))}function lm(n){var r=null,o=xe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=xe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=om(),xe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),u=0;u<n;u++)o[u]=M;return r.index++,o}function Yi(n,r){return typeof r=="function"?r(n):r}function hh(n){var r=xt();return um(r,Je,n)}function um(n,r,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=n.baseQueue,p=u.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}r.baseQueue=f=p,u.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{r=f.next;var b=E=null,I=null,j=r,X=!1;do{var te=j.lane&-536870913;if(te!==j.lane?(Ue&te)===te:(Ir&te)===te){var F=j.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),te===eo&&(X=!0);else if((Ir&F)===F){j=j.next,F===eo&&(X=!0);continue}else te={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(b=I=te,E=p):I=I.next=te,xe.lanes|=F,Mr|=F;te=j.action,$a&&o(p,te),p=j.hasEagerState?j.eagerState:o(p,te)}else F={lane:te,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(b=I=F,E=p):I=I.next=F,xe.lanes|=te,Mr|=te;j=j.next}while(j!==null&&j!==r);if(I===null?E=p:I.next=b,!wn(p,n.memoizedState)&&(qt=!0,X&&(o=to,o!==null)))throw o;n.memoizedState=p,n.baseState=E,n.baseQueue=I,u.lastRenderedState=p}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function cm(n){var r=xt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);wn(p,r.memoizedState)||(qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function x_(n,r,o){var u=xe,f=xt(),p=Ge;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=r();var E=!wn((Je||f).memoizedState,o);E&&(f.memoizedState=o,qt=!0),f=f.queue;var b=N_.bind(null,u,f,n);if(Jl(2048,8,b,[n]),f.getSnapshot!==r||E||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,ao(9,fh(),V_.bind(null,u,f,o,r),null),it===null)throw Error(i(349));p||(Ir&124)!==0||C_(u,r,o)}return o}function C_(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=xe.updateQueue,r===null?(r=om(),xe.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function V_(n,r,o,u){r.value=o,r.getSnapshot=u,O_(r)&&M_(n)}function N_(n,r,o){return o(function(){O_(r)&&M_(n)})}function O_(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!wn(n,o)}catch{return!0}}function M_(n){var r=Xs(n,2);r!==null&&Vn(r,n,2)}function hm(n){var r=yn();if(typeof n=="function"){var o=n;if(n=o(),$a){An(!0);try{o()}finally{An(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:n},r}function P_(n,r,o,u){return n.baseState=o,um(n,Je,typeof u=="function"?u:Yi)}function Qw(n,r,o,u,f){if(mh(n))throw Error(i(485));if(n=r.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};$.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,L_(r,p)):(p.next=o.next,r.pending=o.next=p)}}function L_(n,r){var o=r.action,u=r.payload,f=n.state;if(r.isTransition){var p=$.T,E={};$.T=E;try{var b=o(f,u),I=$.S;I!==null&&I(E,b),z_(n,r,b)}catch(j){fm(n,r,j)}finally{$.T=p}}else try{p=o(f,u),z_(n,r,p)}catch(j){fm(n,r,j)}}function z_(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){k_(n,r,u)},function(u){return fm(n,r,u)}):k_(n,r,o)}function k_(n,r,o){r.status="fulfilled",r.value=o,U_(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,L_(n,o)))}function fm(n,r,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,U_(r),r=r.next;while(r!==u)}n.action=null}function U_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function B_(n,r){return r}function q_(n,r){if(Ge){var o=it.formState;if(o!==null){e:{var u=xe;if(Ge){if(yt){t:{for(var f=yt,p=mi;f.nodeType!==8;){if(!p){f=null;break t}if(f=ei(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){yt=ei(f.nextSibling),u=f.data==="F!";break e}}Ha(u)}u=!1}u&&(r=o[0])}}return o=yn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:B_,lastRenderedState:r},o.queue=u,o=sv.bind(null,xe,u),u.dispatch=o,u=hm(!1),p=ym.bind(null,xe,!1,u.queue),u=yn(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,o=Qw.bind(null,xe,f,p,o),f.dispatch=o,u.memoizedState=n,[r,o,!1]}function j_(n){var r=xt();return F_(r,Je,n)}function F_(n,r,o){if(r=um(n,r,B_)[0],n=hh(Yi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Zl(r)}catch(E){throw E===Hl?ah:E}else u=r;r=xt();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(xe.flags|=2048,ao(9,fh(),Yw.bind(null,f,o),null)),[u,p,n]}function Yw(n,r){n.action=r}function G_(n){var r=xt(),o=Je;if(o!==null)return F_(r,o,n);xt(),r=r.memoizedState,o=xt();var u=o.queue.dispatch;return o.memoizedState=n,[r,u,!1]}function ao(n,r,o,u){return n={tag:n,create:o,deps:u,inst:r,next:null},r=xe.updateQueue,r===null&&(r=om(),xe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,r.lastEffect=n),n}function fh(){return{destroy:void 0,resource:void 0}}function H_(){return xt().memoizedState}function dh(n,r,o,u){var f=yn();u=u===void 0?null:u,xe.flags|=n,f.memoizedState=ao(1|r,fh(),o,u)}function Jl(n,r,o,u){var f=xt();u=u===void 0?null:u;var p=f.memoizedState.inst;Je!==null&&u!==null&&nm(u,Je.memoizedState.deps)?f.memoizedState=ao(r,p,o,u):(xe.flags|=n,f.memoizedState=ao(1|r,p,o,u))}function K_(n,r){dh(8390656,8,n,r)}function Q_(n,r){Jl(2048,8,n,r)}function Y_(n,r){return Jl(4,2,n,r)}function $_(n,r){return Jl(4,4,n,r)}function X_(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Z_(n,r,o){o=o!=null?o.concat([n]):null,Jl(4,4,X_.bind(null,r,n),o)}function dm(){}function J_(n,r){var o=xt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&nm(r,u[1])?u[0]:(o.memoizedState=[n,r],n)}function W_(n,r){var o=xt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&nm(r,u[1]))return u[0];if(u=n(),$a){An(!0);try{n()}finally{An(!1)}}return o.memoizedState=[u,r],u}function mm(n,r,o){return o===void 0||(Ir&1073741824)!==0?n.memoizedState=r:(n.memoizedState=o,n=nE(),xe.lanes|=n,Mr|=n,o)}function ev(n,r,o,u){return wn(o,r)?o:no.current!==null?(n=mm(n,o,u),wn(n,r)||(qt=!0),n):(Ir&42)===0?(qt=!0,n.memoizedState=o):(n=nE(),xe.lanes|=n,Mr|=n,r)}function tv(n,r,o,u,f){var p=ue.p;ue.p=p!==0&&8>p?p:8;var E=$.T,b={};$.T=b,ym(n,!1,r,o);try{var I=f(),j=$.S;if(j!==null&&j(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=Gw(I,u);Wl(n,r,X,Cn(n))}else Wl(n,r,u,Cn(n))}catch(te){Wl(n,r,{then:function(){},status:"rejected",reason:te},Cn())}finally{ue.p=p,$.T=E}}function $w(){}function pm(n,r,o,u){if(n.tag!==5)throw Error(i(476));var f=nv(n).queue;tv(n,f,r,ve,o===null?$w:function(){return iv(n),o(u)})}function nv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ve},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function iv(n){var r=nv(n).next.queue;Wl(n,r,{},Cn())}function gm(){return nn(yu)}function rv(){return xt().memoizedState}function av(){return xt().memoizedState}function Xw(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=Cn();n=wr(o);var u=Rr(r,n,o);u!==null&&(Vn(u,r,o),Ql(u,r,o)),r={cache:Kd()},n.payload=r;return}r=r.return}}function Zw(n,r,o){var u=Cn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},mh(n)?ov(r,o):(o=Ld(n,r,o,u),o!==null&&(Vn(o,n,u),lv(o,r,u)))}function sv(n,r,o){var u=Cn();Wl(n,r,o,u)}function Wl(n,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(mh(n))ov(r,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var E=r.lastRenderedState,b=p(E,o);if(f.hasEagerState=!0,f.eagerState=b,wn(b,E))return Zc(n,r,f,0),it===null&&Xc(),!1}catch{}finally{}if(o=Ld(n,r,f,u),o!==null)return Vn(o,n,u),lv(o,r,u),!0}return!1}function ym(n,r,o,u){if(u={lane:2,revertLane:$m(),action:u,hasEagerState:!1,eagerState:null,next:null},mh(n)){if(r)throw Error(i(479))}else r=Ld(n,o,u,2),r!==null&&Vn(r,n,2)}function mh(n){var r=n.alternate;return n===xe||r!==null&&r===xe}function ov(n,r){io=lh=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function lv(n,r,o){if((o&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Tl(n,o)}}var ph={readContext:nn,use:ch,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},uv={readContext:nn,use:ch,useCallback:function(n,r){return yn().memoizedState=[n,r===void 0?null:r],n},useContext:nn,useEffect:K_,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,dh(4194308,4,X_.bind(null,r,n),o)},useLayoutEffect:function(n,r){return dh(4194308,4,n,r)},useInsertionEffect:function(n,r){dh(4,2,n,r)},useMemo:function(n,r){var o=yn();r=r===void 0?null:r;var u=n();if($a){An(!0);try{n()}finally{An(!1)}}return o.memoizedState=[u,r],u},useReducer:function(n,r,o){var u=yn();if(o!==void 0){var f=o(r);if($a){An(!0);try{o(r)}finally{An(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=Zw.bind(null,xe,n),[u.memoizedState,n]},useRef:function(n){var r=yn();return n={current:n},r.memoizedState=n},useState:function(n){n=hm(n);var r=n.queue,o=sv.bind(null,xe,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:dm,useDeferredValue:function(n,r){var o=yn();return mm(o,n,r)},useTransition:function(){var n=hm(!1);return n=tv.bind(null,xe,n.queue,!0,!1),yn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var u=xe,f=yn();if(Ge){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),it===null)throw Error(i(349));(Ue&124)!==0||C_(u,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,K_(N_.bind(null,u,p,n),[n]),u.flags|=2048,ao(9,fh(),V_.bind(null,u,p,o,r),null),o},useId:function(){var n=yn(),r=it.identifierPrefix;if(Ge){var o=Hi,u=Gi;o=(u&~(1<<32-tn(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=uh++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=Hw++,r="«"+r+"r"+o.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:gm,useFormState:q_,useActionState:q_,useOptimistic:function(n){var r=yn();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=ym.bind(null,xe,!0,o),o.dispatch=r,[n,r]},useMemoCache:lm,useCacheRefresh:function(){return yn().memoizedState=Xw.bind(null,xe)}},cv={readContext:nn,use:ch,useCallback:J_,useContext:nn,useEffect:Q_,useImperativeHandle:Z_,useInsertionEffect:Y_,useLayoutEffect:$_,useMemo:W_,useReducer:hh,useRef:H_,useState:function(){return hh(Yi)},useDebugValue:dm,useDeferredValue:function(n,r){var o=xt();return ev(o,Je.memoizedState,n,r)},useTransition:function(){var n=hh(Yi)[0],r=xt().memoizedState;return[typeof n=="boolean"?n:Zl(n),r]},useSyncExternalStore:x_,useId:rv,useHostTransitionStatus:gm,useFormState:j_,useActionState:j_,useOptimistic:function(n,r){var o=xt();return P_(o,Je,n,r)},useMemoCache:lm,useCacheRefresh:av},Jw={readContext:nn,use:ch,useCallback:J_,useContext:nn,useEffect:Q_,useImperativeHandle:Z_,useInsertionEffect:Y_,useLayoutEffect:$_,useMemo:W_,useReducer:cm,useRef:H_,useState:function(){return cm(Yi)},useDebugValue:dm,useDeferredValue:function(n,r){var o=xt();return Je===null?mm(o,n,r):ev(o,Je.memoizedState,n,r)},useTransition:function(){var n=cm(Yi)[0],r=xt().memoizedState;return[typeof n=="boolean"?n:Zl(n),r]},useSyncExternalStore:x_,useId:rv,useHostTransitionStatus:gm,useFormState:G_,useActionState:G_,useOptimistic:function(n,r){var o=xt();return Je!==null?P_(o,Je,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:lm,useCacheRefresh:av},so=null,eu=0;function gh(n){var r=eu;return eu+=1,so===null&&(so=[]),T_(so,n,r)}function tu(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function yh(n,r){throw r.$$typeof===T?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function hv(n){var r=n._init;return r(n._payload)}function fv(n){function r(L,O){if(n){var q=L.deletions;q===null?(L.deletions=[O],L.flags|=16):q.push(O)}}function o(L,O){if(!n)return null;for(;O!==null;)r(L,O),O=O.sibling;return null}function u(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=Fi(L,O),L.index=0,L.sibling=null,L}function p(L,O,q){return L.index=q,n?(q=L.alternate,q!==null?(q=q.index,q<O?(L.flags|=67108866,O):q):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function E(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function b(L,O,q,J){return O===null||O.tag!==6?(O=kd(q,L.mode,J),O.return=L,O):(O=f(O,q),O.return=L,O)}function I(L,O,q,J){var pe=q.type;return pe===C?X(L,O,q.props.children,J,q.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&hv(pe)===O.type)?(O=f(O,q.props),tu(O,q),O.return=L,O):(O=Wc(q.type,q.key,q.props,null,L.mode,J),tu(O,q),O.return=L,O)}function j(L,O,q,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=Ud(q,L.mode,J),O.return=L,O):(O=f(O,q.children||[]),O.return=L,O)}function X(L,O,q,J,pe){return O===null||O.tag!==7?(O=qa(q,L.mode,J,pe),O.return=L,O):(O=f(O,q),O.return=L,O)}function te(L,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=kd(""+O,L.mode,q),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return q=Wc(O.type,O.key,O.props,null,L.mode,q),tu(q,O),q.return=L,q;case D:return O=Ud(O,L.mode,q),O.return=L,O;case w:var J=O._init;return O=J(O._payload),te(L,O,q)}if(pt(O)||z(O))return O=qa(O,L.mode,q,null),O.return=L,O;if(typeof O.then=="function")return te(L,gh(O),q);if(O.$$typeof===Z)return te(L,ih(L,O),q);yh(L,O)}return null}function F(L,O,q,J){var pe=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pe!==null?null:b(L,O,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===pe?I(L,O,q,J):null;case D:return q.key===pe?j(L,O,q,J):null;case w:return pe=q._init,q=pe(q._payload),F(L,O,q,J)}if(pt(q)||z(q))return pe!==null?null:X(L,O,q,J,null);if(typeof q.then=="function")return F(L,O,gh(q),J);if(q.$$typeof===Z)return F(L,O,ih(L,q),J);yh(L,q)}return null}function H(L,O,q,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(q)||null,b(O,L,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return L=L.get(J.key===null?q:J.key)||null,I(O,L,J,pe);case D:return L=L.get(J.key===null?q:J.key)||null,j(O,L,J,pe);case w:var Ve=J._init;return J=Ve(J._payload),H(L,O,q,J,pe)}if(pt(J)||z(J))return L=L.get(q)||null,X(O,L,J,pe,null);if(typeof J.then=="function")return H(L,O,q,gh(J),pe);if(J.$$typeof===Z)return H(L,O,q,ih(O,J),pe);yh(O,J)}return null}function we(L,O,q,J){for(var pe=null,Ve=null,_e=O,Ae=O=0,Ft=null;_e!==null&&Ae<q.length;Ae++){_e.index>Ae?(Ft=_e,_e=null):Ft=_e.sibling;var qe=F(L,_e,q[Ae],J);if(qe===null){_e===null&&(_e=Ft);break}n&&_e&&qe.alternate===null&&r(L,_e),O=p(qe,O,Ae),Ve===null?pe=qe:Ve.sibling=qe,Ve=qe,_e=Ft}if(Ae===q.length)return o(L,_e),Ge&&Fa(L,Ae),pe;if(_e===null){for(;Ae<q.length;Ae++)_e=te(L,q[Ae],J),_e!==null&&(O=p(_e,O,Ae),Ve===null?pe=_e:Ve.sibling=_e,Ve=_e);return Ge&&Fa(L,Ae),pe}for(_e=u(_e);Ae<q.length;Ae++)Ft=H(_e,L,Ae,q[Ae],J),Ft!==null&&(n&&Ft.alternate!==null&&_e.delete(Ft.key===null?Ae:Ft.key),O=p(Ft,O,Ae),Ve===null?pe=Ft:Ve.sibling=Ft,Ve=Ft);return n&&_e.forEach(function(Fr){return r(L,Fr)}),Ge&&Fa(L,Ae),pe}function be(L,O,q,J){if(q==null)throw Error(i(151));for(var pe=null,Ve=null,_e=O,Ae=O=0,Ft=null,qe=q.next();_e!==null&&!qe.done;Ae++,qe=q.next()){_e.index>Ae?(Ft=_e,_e=null):Ft=_e.sibling;var Fr=F(L,_e,qe.value,J);if(Fr===null){_e===null&&(_e=Ft);break}n&&_e&&Fr.alternate===null&&r(L,_e),O=p(Fr,O,Ae),Ve===null?pe=Fr:Ve.sibling=Fr,Ve=Fr,_e=Ft}if(qe.done)return o(L,_e),Ge&&Fa(L,Ae),pe;if(_e===null){for(;!qe.done;Ae++,qe=q.next())qe=te(L,qe.value,J),qe!==null&&(O=p(qe,O,Ae),Ve===null?pe=qe:Ve.sibling=qe,Ve=qe);return Ge&&Fa(L,Ae),pe}for(_e=u(_e);!qe.done;Ae++,qe=q.next())qe=H(_e,L,Ae,qe.value,J),qe!==null&&(n&&qe.alternate!==null&&_e.delete(qe.key===null?Ae:qe.key),O=p(qe,O,Ae),Ve===null?pe=qe:Ve.sibling=qe,Ve=qe);return n&&_e.forEach(function(WR){return r(L,WR)}),Ge&&Fa(L,Ae),pe}function et(L,O,q,J){if(typeof q=="object"&&q!==null&&q.type===C&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:e:{for(var pe=q.key;O!==null;){if(O.key===pe){if(pe=q.type,pe===C){if(O.tag===7){o(L,O.sibling),J=f(O,q.props.children),J.return=L,L=J;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&hv(pe)===O.type){o(L,O.sibling),J=f(O,q.props),tu(J,q),J.return=L,L=J;break e}o(L,O);break}else r(L,O);O=O.sibling}q.type===C?(J=qa(q.props.children,L.mode,J,q.key),J.return=L,L=J):(J=Wc(q.type,q.key,q.props,null,L.mode,J),tu(J,q),J.return=L,L=J)}return E(L);case D:e:{for(pe=q.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){o(L,O.sibling),J=f(O,q.children||[]),J.return=L,L=J;break e}else{o(L,O);break}else r(L,O);O=O.sibling}J=Ud(q,L.mode,J),J.return=L,L=J}return E(L);case w:return pe=q._init,q=pe(q._payload),et(L,O,q,J)}if(pt(q))return we(L,O,q,J);if(z(q)){if(pe=z(q),typeof pe!="function")throw Error(i(150));return q=pe.call(q),be(L,O,q,J)}if(typeof q.then=="function")return et(L,O,gh(q),J);if(q.$$typeof===Z)return et(L,O,ih(L,q),J);yh(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,O!==null&&O.tag===6?(o(L,O.sibling),J=f(O,q),J.return=L,L=J):(o(L,O),J=kd(q,L.mode,J),J.return=L,L=J),E(L)):o(L,O)}return function(L,O,q,J){try{eu=0;var pe=et(L,O,q,J);return so=null,pe}catch(_e){if(_e===Hl||_e===ah)throw _e;var Ve=Rn(29,_e,null,L.mode);return Ve.lanes=J,Ve.return=L,Ve}finally{}}}var oo=fv(!0),dv=fv(!1),Gn=ne(null),pi=null;function Dr(n){var r=n.alternate;se(Lt,Lt.current&1),se(Gn,n),pi===null&&(r===null||no.current!==null||r.memoizedState!==null)&&(pi=n)}function mv(n){if(n.tag===22){if(se(Lt,Lt.current),se(Gn,n),pi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(pi=n)}}else xr()}function xr(){se(Lt,Lt.current),se(Gn,Gn.current)}function $i(n){he(Gn),pi===n&&(pi=null),he(Lt)}var Lt=ne(0);function _h(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||op(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function _m(n,r,o,u){r=n.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var vm={enqueueSetState:function(n,r,o){n=n._reactInternals;var u=Cn(),f=wr(u);f.payload=r,o!=null&&(f.callback=o),r=Rr(n,f,u),r!==null&&(Vn(r,n,u),Ql(r,n,u))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var u=Cn(),f=wr(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Rr(n,f,u),r!==null&&(Vn(r,n,u),Ql(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=Cn(),u=wr(o);u.tag=2,r!=null&&(u.callback=r),r=Rr(n,u,o),r!==null&&(Vn(r,n,o),Ql(r,n,o))}};function pv(n,r,o,u,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,E):r.prototype&&r.prototype.isPureReactComponent?!zl(o,u)||!zl(f,p):!0}function gv(n,r,o,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==n&&vm.enqueueReplaceState(r,r.state,null)}function Xa(n,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(n=n.defaultProps){o===r&&(o=_({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var vh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function yv(n){vh(n)}function _v(n){console.error(n)}function vv(n){vh(n)}function Eh(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Ev(n,r,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Em(n,r,o){return o=wr(o),o.tag=3,o.payload={element:null},o.callback=function(){Eh(n,r)},o}function Tv(n){return n=wr(n),n.tag=3,n}function bv(n,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;n.payload=function(){return f(p)},n.callback=function(){Ev(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Ev(r,o,u),typeof f!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function Ww(n,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&jl(r,o,f,!0),o=Gn.current,o!==null){switch(o.tag){case 13:return pi===null?Gm():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===$d?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Km(n,u,f)),!1;case 22:return o.flags|=65536,u===$d?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Km(n,u,f)),!1}throw Error(i(435,o.tag))}return Km(n,u,f),Gm(),!1}if(Ge)return r=Gn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==jd&&(n=Error(i(422),{cause:u}),ql(Bn(n,o)))):(u!==jd&&(r=Error(i(423),{cause:u}),ql(Bn(r,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Bn(u,o),f=Em(n.stateNode,u,f),Jd(n,f),_t!==4&&(_t=2)),!1;var p=Error(i(520),{cause:u});if(p=Bn(p,o),lu===null?lu=[p]:lu.push(p),_t!==4&&(_t=2),r===null)return!0;u=Bn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Em(o.stateNode,u,n),Jd(o,n),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Pr===null||!Pr.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Tv(f),bv(f,n,o,u),Jd(o,f),!1}o=o.return}while(o!==null);return!1}var Av=Error(i(461)),qt=!1;function $t(n,r,o,u){r.child=n===null?dv(r,null,o,u):oo(r,n.child,o,u)}function Sv(n,r,o,u,f){o=o.render;var p=r.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return Qa(r),u=im(n,r,o,E,p,f),b=rm(),n!==null&&!qt?(am(n,r,f),Xi(n,r,f)):(Ge&&b&&Bd(r),r.flags|=1,$t(n,r,u,f),r.child)}function wv(n,r,o,u,f){if(n===null){var p=o.type;return typeof p=="function"&&!zd(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,Rv(n,r,p,u,f)):(n=Wc(o.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!Dm(n,f)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:zl,o(E,u)&&n.ref===r.ref)return Xi(n,r,f)}return r.flags|=1,n=Fi(p,u),n.ref=r.ref,n.return=r,r.child=n}function Rv(n,r,o,u,f){if(n!==null){var p=n.memoizedProps;if(zl(p,u)&&n.ref===r.ref)if(qt=!1,r.pendingProps=u=p,Dm(n,f))(n.flags&131072)!==0&&(qt=!0);else return r.lanes=n.lanes,Xi(n,r,f)}return Tm(n,r,o,u,f)}function Iv(n,r,o){var u=r.pendingProps,f=u.children,p=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,n!==null){for(f=r.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~u}else r.childLanes=0,r.child=null;return Dv(n,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&rh(r,p!==null?p.cachePool:null),p!==null?R_(r,p):em(),mv(r);else return r.lanes=r.childLanes=536870912,Dv(n,r,p!==null?p.baseLanes|o:o,o)}else p!==null?(rh(r,p.cachePool),R_(r,p),xr(),r.memoizedState=null):(n!==null&&rh(r,null),em(),xr());return $t(n,r,f,o),r.child}function Dv(n,r,o,u){var f=Yd();return f=f===null?null:{parent:Pt._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},n!==null&&rh(r,null),em(),mv(r),n!==null&&jl(n,r,u,!0),null}function Th(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function Tm(n,r,o,u,f){return Qa(r),o=im(n,r,o,u,void 0,f),u=rm(),n!==null&&!qt?(am(n,r,f),Xi(n,r,f)):(Ge&&u&&Bd(r),r.flags|=1,$t(n,r,o,f),r.child)}function xv(n,r,o,u,f,p){return Qa(r),r.updateQueue=null,o=D_(r,u,o,f),I_(n),u=rm(),n!==null&&!qt?(am(n,r,p),Xi(n,r,p)):(Ge&&u&&Bd(r),r.flags|=1,$t(n,r,o,p),r.child)}function Cv(n,r,o,u,f){if(Qa(r),r.stateNode===null){var p=Zs,E=o.contextType;typeof E=="object"&&E!==null&&(p=nn(E)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=vm,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Xd(r),E=o.contextType,p.context=typeof E=="object"&&E!==null?nn(E):Zs,p.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(_m(r,o,E,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&vm.enqueueReplaceState(p,p.state,null),$l(r,u,p,f),Yl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){p=r.stateNode;var b=r.memoizedProps,I=Xa(o,b);p.props=I;var j=p.context,X=o.contextType;E=Zs,typeof X=="object"&&X!==null&&(E=nn(X));var te=o.getDerivedStateFromProps;X=typeof te=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,X||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||j!==E)&&gv(r,p,u,E),Sr=!1;var F=r.memoizedState;p.state=F,$l(r,u,p,f),Yl(),j=r.memoizedState,b||F!==j||Sr?(typeof te=="function"&&(_m(r,o,te,u),j=r.memoizedState),(I=Sr||pv(r,o,I,u,F,j,E))?(X||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=j),p.props=u,p.state=j,p.context=E,u=I):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,Zd(n,r),E=r.memoizedProps,X=Xa(o,E),p.props=X,te=r.pendingProps,F=p.context,j=o.contextType,I=Zs,typeof j=="object"&&j!==null&&(I=nn(j)),b=o.getDerivedStateFromProps,(j=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==te||F!==I)&&gv(r,p,u,I),Sr=!1,F=r.memoizedState,p.state=F,$l(r,u,p,f),Yl();var H=r.memoizedState;E!==te||F!==H||Sr||n!==null&&n.dependencies!==null&&nh(n.dependencies)?(typeof b=="function"&&(_m(r,o,b,u),H=r.memoizedState),(X=Sr||pv(r,o,X,u,F,H,I)||n!==null&&n.dependencies!==null&&nh(n.dependencies))?(j||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,H,I),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,H,I)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=H),p.props=u,p.state=H,p.context=I,u=X):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),u=!1)}return p=u,Th(n,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&u?(r.child=oo(r,n.child,null,f),r.child=oo(r,null,o,f)):$t(n,r,o,f),r.memoizedState=p.state,n=r.child):n=Xi(n,r,f),n}function Vv(n,r,o,u){return Bl(),r.flags|=256,$t(n,r,o,u),r.child}var bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Am(n){return{baseLanes:n,cachePool:__()}}function Sm(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=Hn),n}function Nv(n,r,o){var u=r.pendingProps,f=!1,p=(r.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(Lt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ge){if(f?Dr(r):xr(),Ge){var b=yt,I;if(I=b){e:{for(I=b,b=mi;I.nodeType!==8;){if(!b){b=null;break e}if(I=ei(I.nextSibling),I===null){b=null;break e}}b=I}b!==null?(r.memoizedState={dehydrated:b,treeContext:ja!==null?{id:Gi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},I=Rn(18,null,null,0),I.stateNode=b,I.return=r,r.child=I,fn=r,yt=null,I=!0):I=!1}I||Ha(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return op(b)?r.lanes=32:r.lanes=536870912,null;$i(r)}return b=u.children,u=u.fallback,f?(xr(),f=r.mode,b=bh({mode:"hidden",children:b},f),u=qa(u,f,o,null),b.return=r,u.return=r,b.sibling=u,r.child=b,f=r.child,f.memoizedState=Am(o),f.childLanes=Sm(n,E,o),r.memoizedState=bm,u):(Dr(r),wm(r,b))}if(I=n.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(p)r.flags&256?(Dr(r),r.flags&=-257,r=Rm(n,r,o)):r.memoizedState!==null?(xr(),r.child=n.child,r.flags|=128,r=null):(xr(),f=u.fallback,b=r.mode,u=bh({mode:"visible",children:u.children},b),f=qa(f,b,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,oo(r,n.child,null,o),u=r.child,u.memoizedState=Am(o),u.childLanes=Sm(n,E,o),r.memoizedState=bm,r=f);else if(Dr(r),op(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var j=E.dgst;E=j,u=Error(i(419)),u.stack="",u.digest=E,ql({value:u,source:null,stack:null}),r=Rm(n,r,o)}else if(qt||jl(n,r,o,!1),E=(o&n.childLanes)!==0,qt||E){if(E=it,E!==null&&(u=o&-o,u=(u&42)!==0?1:gr(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==I.retryLane))throw I.retryLane=u,Xs(n,u),Vn(E,n,u),Av;b.data==="$?"||Gm(),r=Rm(n,r,o)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=I.treeContext,yt=ei(b.nextSibling),fn=r,Ge=!0,Ga=null,mi=!1,n!==null&&(jn[Fn++]=Gi,jn[Fn++]=Hi,jn[Fn++]=ja,Gi=n.id,Hi=n.overflow,ja=r),r=wm(r,u.children),r.flags|=4096);return r}return f?(xr(),f=u.fallback,b=r.mode,I=n.child,j=I.sibling,u=Fi(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,j!==null?f=Fi(j,f):(f=qa(f,b,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,b=n.child.memoizedState,b===null?b=Am(o):(I=b.cachePool,I!==null?(j=Pt._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=__(),b={baseLanes:b.baseLanes|o,cachePool:I}),f.memoizedState=b,f.childLanes=Sm(n,E,o),r.memoizedState=bm,u):(Dr(r),o=n.child,n=o.sibling,o=Fi(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=o,r.memoizedState=null,o)}function wm(n,r){return r=bh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function bh(n,r){return n=Rn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Rm(n,r,o){return oo(r,n.child,null,o),n=wm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Ov(n,r,o){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Gd(n.return,r,o)}function Im(n,r,o,u,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function Mv(n,r,o){var u=r.pendingProps,f=u.revealOrder,p=u.tail;if($t(n,r,u.children,o),u=Lt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ov(n,o,r);else if(n.tag===19)Ov(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(se(Lt,u),f){case"forwards":for(o=r.child,f=null;o!==null;)n=o.alternate,n!==null&&_h(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Im(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&_h(n)===null){r.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Im(r,!0,o,null,p);break;case"together":Im(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Xi(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Mr|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(jl(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,o=Fi(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=Fi(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Dm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&nh(n)))}function eR(n,r,o){switch(r.tag){case 3:nt(r,r.stateNode.containerInfo),Ar(r,Pt,n.memoizedState.cache),Bl();break;case 27:case 5:pr(r);break;case 4:nt(r,r.stateNode.containerInfo);break;case 10:Ar(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Dr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Nv(n,r,o):(Dr(r),n=Xi(n,r,o),n!==null?n.sibling:null);Dr(r);break;case 19:var f=(n.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(jl(n,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return Mv(n,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Lt,Lt.current),u)break;return null;case 22:case 23:return r.lanes=0,Iv(n,r,o);case 24:Ar(r,Pt,n.memoizedState.cache)}return Xi(n,r,o)}function Pv(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)qt=!0;else{if(!Dm(n,o)&&(r.flags&128)===0)return qt=!1,eR(n,r,o);qt=(n.flags&131072)!==0}else qt=!1,Ge&&(r.flags&1048576)!==0&&h_(r,th,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")zd(u)?(n=Xa(u,n),r.tag=1,r=Cv(null,r,u,n,o)):(r.tag=0,r=Tm(null,r,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===me){r.tag=11,r=Sv(null,r,u,n,o);break e}else if(f===V){r.tag=14,r=wv(null,r,u,n,o);break e}}throw r=Kt(u)||u,Error(i(306,r,""))}}return r;case 0:return Tm(n,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Xa(u,r.pendingProps),Cv(n,r,u,f,o);case 3:e:{if(nt(r,r.stateNode.containerInfo),n===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;f=p.element,Zd(n,r),$l(r,u,null,o);var E=r.memoizedState;if(u=E.cache,Ar(r,Pt,u),u!==p.cache&&Hd(r,[Pt],o,!0),Yl(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Vv(n,r,u,o);break e}else if(u!==f){f=Bn(Error(i(424)),r),ql(f),r=Vv(n,r,u,o);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(yt=ei(n.firstChild),fn=r,Ge=!0,Ga=null,mi=!0,o=dv(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Bl(),u===f){r=Xi(n,r,o);break e}$t(n,r,u,o)}r=r.child}return r;case 26:return Th(n,r),n===null?(o=UE(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ge||(o=r.type,n=r.pendingProps,u=Lh(Re.current).createElement(o),u[Nt]=r,u[Rt]=n,Zt(u,o,n),Et(u),r.stateNode=u):r.memoizedState=UE(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return pr(r),n===null&&Ge&&(u=r.stateNode=LE(r.type,r.pendingProps,Re.current),fn=r,mi=!0,f=yt,kr(r.type)?(lp=f,yt=ei(u.firstChild)):yt=f),$t(n,r,r.pendingProps.children,o),Th(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ge&&((f=u=yt)&&(u=DR(u,r.type,r.pendingProps,mi),u!==null?(r.stateNode=u,fn=r,yt=ei(u.firstChild),mi=!1,f=!0):f=!1),f||Ha(r)),pr(r),f=r.type,p=r.pendingProps,E=n!==null?n.memoizedProps:null,u=p.children,rp(f,p)?u=null:E!==null&&rp(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=im(n,r,Kw,null,null,o),yu._currentValue=f),Th(n,r),$t(n,r,u,o),r.child;case 6:return n===null&&Ge&&((n=o=yt)&&(o=xR(o,r.pendingProps,mi),o!==null?(r.stateNode=o,fn=r,yt=null,n=!0):n=!1),n||Ha(r)),null;case 13:return Nv(n,r,o);case 4:return nt(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=oo(r,null,u,o):$t(n,r,u,o),r.child;case 11:return Sv(n,r,r.type,r.pendingProps,o);case 7:return $t(n,r,r.pendingProps,o),r.child;case 8:return $t(n,r,r.pendingProps.children,o),r.child;case 12:return $t(n,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Ar(r,r.type,u.value),$t(n,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Qa(r),f=nn(f),u=u(f),r.flags|=1,$t(n,r,u,o),r.child;case 14:return wv(n,r,r.type,r.pendingProps,o);case 15:return Rv(n,r,r.type,r.pendingProps,o);case 19:return Mv(n,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},n===null?(o=bh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Fi(n.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return Iv(n,r,o);case 24:return Qa(r),u=nn(Pt),n===null?(f=Yd(),f===null&&(f=it,p=Kd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:u,cache:f},Xd(r),Ar(r,Pt,f)):((n.lanes&o)!==0&&(Zd(n,r),$l(r,null,null,o),Yl()),f=n.memoizedState,p=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ar(r,Pt,u)):(u=p.cache,Ar(r,Pt,u),u!==f.cache&&Hd(r,[Pt],o,!0))),$t(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Zi(n){n.flags|=4}function Lv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!GE(r)){if(r=Gn.current,r!==null&&((Ue&4194048)===Ue?pi!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==pi))throw Kl=$d,v_;n.flags|=8192}}function Ah(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?vl():536870912,n.lanes|=r,ho|=r)}function nu(n,r){if(!Ge)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ft(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(r)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,r}function tR(n,r,o){var u=r.pendingProps;switch(qd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return o=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Qi(Pt),ni(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Ul(r)?Zi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,m_())),ft(r),null;case 26:return o=r.memoizedState,n===null?(Zi(r),o!==null?(ft(r),Lv(r,o)):(ft(r),r.flags&=-16777217)):o?o!==n.memoizedState?(Zi(r),ft(r),Lv(r,o)):(ft(r),r.flags&=-16777217):(n.memoizedProps!==u&&Zi(r),ft(r),r.flags&=-16777217),null;case 27:Ci(r),o=Re.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Zi(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ft(r),null}n=Te.current,Ul(r)?f_(r):(n=LE(f,u,o),r.stateNode=n,Zi(r))}return ft(r),null;case 5:if(Ci(r),o=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Zi(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ft(r),null}if(n=Te.current,Ul(r))f_(r);else{switch(f=Lh(Re.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[Nt]=r,n[Rt]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Zt(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Zi(r)}}return ft(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&Zi(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(n=Re.current,Ul(r)){if(n=r.stateNode,o=r.memoizedProps,u=null,f=fn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Nt]=r,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||xE(n.nodeValue,o)),n||Ha(r)}else n=Lh(n).createTextNode(u),n[Nt]=r,r.stateNode=n}return ft(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Ul(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Nt]=r}else Bl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),f=!1}else f=m_(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?($i(r),r):($i(r),null)}if($i(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return o!==n&&o&&(r.child.flags|=8192),Ah(r,r.updateQueue),ft(r),null;case 4:return ni(),n===null&&Wm(r.stateNode.containerInfo),ft(r),null;case 10:return Qi(r.type),ft(r),null;case 19:if(he(Lt),f=r.memoizedState,f===null)return ft(r),null;if(u=(r.flags&128)!==0,p=f.rendering,p===null)if(u)nu(f,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(p=_h(n),p!==null){for(r.flags|=128,nu(f,!1),n=p.updateQueue,r.updateQueue=n,Ah(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)c_(o,n),o=o.sibling;return se(Lt,Lt.current&1|2),r.child}n=n.sibling}f.tail!==null&&Mn()>Rh&&(r.flags|=128,u=!0,nu(f,!1),r.lanes=4194304)}else{if(!u)if(n=_h(p),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,Ah(r,n),nu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ge)return ft(r),null}else 2*Mn()-f.renderingStartTime>Rh&&o!==536870912&&(r.flags|=128,u=!0,nu(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(n=f.last,n!==null?n.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Mn(),r.sibling=null,n=Lt.current,se(Lt,u?n&1|2:n&1),r):(ft(r),null);case 22:case 23:return $i(r),tm(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),o=r.updateQueue,o!==null&&Ah(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),n!==null&&he(Ya),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Qi(Pt),ft(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function nR(n,r){switch(qd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Qi(Pt),ni(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ci(r),null;case 13:if($i(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Bl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return he(Lt),null;case 4:return ni(),null;case 10:return Qi(r.type),null;case 22:case 23:return $i(r),tm(),n!==null&&he(Ya),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Qi(Pt),null;case 25:return null;default:return null}}function zv(n,r){switch(qd(r),r.tag){case 3:Qi(Pt),ni();break;case 26:case 27:case 5:Ci(r);break;case 4:ni();break;case 13:$i(r);break;case 19:he(Lt);break;case 10:Qi(r.type);break;case 22:case 23:$i(r),tm(),n!==null&&he(Ya);break;case 24:Qi(Pt)}}function iu(n,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==f)}}catch(b){tt(r,r.return,b)}}function Cr(n,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&n)===n){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=r;var I=o,j=b;try{j()}catch(X){tt(f,I,X)}}}u=u.next}while(u!==p)}}catch(X){tt(r,r.return,X)}}function kv(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{w_(r,o)}catch(u){tt(n,n.return,u)}}}function Uv(n,r,o){o.props=Xa(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){tt(n,r,u)}}function ru(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){tt(n,r,f)}}function gi(n,r){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){tt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(n,r,f)}else o.current=null}function Bv(n){var r=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){tt(n,n.return,f)}}function xm(n,r,o){try{var u=n.stateNode;AR(u,n.type,o,r),u[Rt]=r}catch(f){tt(n,n.return,f)}}function qv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&kr(n.type)||n.tag===4}function Cm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||qv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&kr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Vm(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ph));else if(u!==4&&(u===27&&kr(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Vm(n,r,o),n=n.sibling;n!==null;)Vm(n,r,o),n=n.sibling}function Sh(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(u!==4&&(u===27&&kr(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Sh(n,r,o),n=n.sibling;n!==null;)Sh(n,r,o),n=n.sibling}function jv(n){var r=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Zt(r,u,o),r[Nt]=n,r[Rt]=o}catch(p){tt(n,n.return,p)}}var Ji=!1,bt=!1,Nm=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,jt=null;function iR(n,r){if(n=n.containerInfo,np=jh,n=e_(n),Cd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,b=-1,I=-1,j=0,X=0,te=n,F=null;t:for(;;){for(var H;te!==o||f!==0&&te.nodeType!==3||(b=E+f),te!==p||u!==0&&te.nodeType!==3||(I=E+u),te.nodeType===3&&(E+=te.nodeValue.length),(H=te.firstChild)!==null;)F=te,te=H;for(;;){if(te===n)break t;if(F===o&&++j===f&&(b=E),F===p&&++X===u&&(I=E),(H=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=H}o=b===-1||I===-1?null:{start:b,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(ip={focusedElem:n,selectionRange:o},jh=!1,jt=r;jt!==null;)if(r=jt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,jt=n;else for(;jt!==null;){switch(r=jt,p=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var we=Xa(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(we,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(be){tt(o,o.return,be)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)sp(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":sp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,jt=n;break}jt=r.return}}function Gv(n,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Vr(n,o),u&4&&iu(5,o);break;case 1:if(Vr(n,o),u&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(E){tt(o,o.return,E)}else{var f=Xa(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){tt(o,o.return,E)}}u&64&&kv(o),u&512&&ru(o,o.return);break;case 3:if(Vr(n,o),u&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{w_(n,r)}catch(E){tt(o,o.return,E)}}break;case 27:r===null&&u&4&&jv(o);case 26:case 5:Vr(n,o),r===null&&u&4&&Bv(o),u&512&&ru(o,o.return);break;case 12:Vr(n,o);break;case 13:Vr(n,o),u&4&&Qv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=fR.bind(null,o),CR(n,o))));break;case 22:if(u=o.memoizedState!==null||Ji,!u){r=r!==null&&r.memoizedState!==null||bt,f=Ji;var p=bt;Ji=u,(bt=r)&&!p?Nr(n,o,(o.subtreeFlags&8772)!==0):Vr(n,o),Ji=f,bt=p}break;case 30:break;default:Vr(n,o)}}function Hv(n){var r=n.alternate;r!==null&&(n.alternate=null,Hv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&vr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ot=null,_n=!1;function Wi(n,r,o){for(o=o.child;o!==null;)Kv(n,r,o),o=o.sibling}function Kv(n,r,o){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(gt,o)}catch{}switch(o.tag){case 26:bt||gi(o,r),Wi(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:bt||gi(o,r);var u=ot,f=_n;kr(o.type)&&(ot=o.stateNode,_n=!1),Wi(n,r,o),du(o.stateNode),ot=u,_n=f;break;case 5:bt||gi(o,r);case 6:if(u=ot,f=_n,ot=null,Wi(n,r,o),ot=u,_n=f,ot!==null)if(_n)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(o.stateNode)}catch(p){tt(o,r,p)}else try{ot.removeChild(o.stateNode)}catch(p){tt(o,r,p)}break;case 18:ot!==null&&(_n?(n=ot,ME(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Tu(n)):ME(ot,o.stateNode));break;case 4:u=ot,f=_n,ot=o.stateNode.containerInfo,_n=!0,Wi(n,r,o),ot=u,_n=f;break;case 0:case 11:case 14:case 15:bt||Cr(2,o,r),bt||Cr(4,o,r),Wi(n,r,o);break;case 1:bt||(gi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Uv(o,r,u)),Wi(n,r,o);break;case 21:Wi(n,r,o);break;case 22:bt=(u=bt)||o.memoizedState!==null,Wi(n,r,o),bt=u;break;default:Wi(n,r,o)}}function Qv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Tu(n)}catch(o){tt(r,r.return,o)}}function rR(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Fv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Fv),r;default:throw Error(i(435,n.tag))}}function Om(n,r){var o=rR(n);r.forEach(function(u){var f=dR.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function In(n,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=n,E=r,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(kr(b.type)){ot=b.stateNode,_n=!1;break e}break;case 5:ot=b.stateNode,_n=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,_n=!0;break e}b=b.return}if(ot===null)throw Error(i(160));Kv(p,E,f),ot=null,_n=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Yv(r,n),r=r.sibling}var Wn=null;function Yv(n,r){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:In(r,n),Dn(n),u&4&&(Cr(3,n,n.return),iu(3,n),Cr(5,n,n.return));break;case 1:In(r,n),Dn(n),u&512&&(bt||o===null||gi(o,o.return)),u&64&&Ji&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Wn;if(In(r,n),Dn(n),u&512&&(bt||o===null||gi(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[wa]||p[Nt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),Zt(p,u,o),p[Nt]=n,Et(p),u=p;break e;case"link":var E=jE("link","href",f).get(u+(o.href||""));if(E){for(var b=0;b<E.length;b++)if(p=E[b],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(b,1);break t}}p=f.createElement(u),Zt(p,u,o),f.head.appendChild(p);break;case"meta":if(E=jE("meta","content",f).get(u+(o.content||""))){for(b=0;b<E.length;b++)if(p=E[b],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(b,1);break t}}p=f.createElement(u),Zt(p,u,o),f.head.appendChild(p);break;default:throw Error(i(468,u))}p[Nt]=n,Et(p),u=p}n.stateNode=u}else FE(f,n.type,n.stateNode);else n.stateNode=qE(f,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?FE(f,n.type,n.stateNode):qE(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&xm(n,n.memoizedProps,o.memoizedProps)}break;case 27:In(r,n),Dn(n),u&512&&(bt||o===null||gi(o,o.return)),o!==null&&u&4&&xm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(In(r,n),Dn(n),u&512&&(bt||o===null||gi(o,o.return)),n.flags&32){f=n.stateNode;try{Ln(f,"")}catch(H){tt(n,n.return,H)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,xm(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Nm=!0);break;case 6:if(In(r,n),Dn(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(H){tt(n,n.return,H)}}break;case 3:if(Uh=null,f=Wn,Wn=zh(r.containerInfo),In(r,n),Wn=f,Dn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Tu(r.containerInfo)}catch(H){tt(n,n.return,H)}Nm&&(Nm=!1,$v(n));break;case 4:u=Wn,Wn=zh(n.stateNode.containerInfo),In(r,n),Dn(n),Wn=u;break;case 12:In(r,n),Dn(n);break;case 13:In(r,n),Dn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Um=Mn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Om(n,u)));break;case 22:f=n.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,j=Ji,X=bt;if(Ji=j||f,bt=X||I,In(r,n),bt=X,Ji=j,Dn(n),u&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||I||Ji||bt||Za(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){I=o=r;try{if(p=I.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=I.stateNode;var te=I.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(H){tt(I,I.return,H)}}}else if(r.tag===6){if(o===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(H){tt(I,I.return,H)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Om(n,o))));break;case 19:In(r,n),Dn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Om(n,u)));break;case 30:break;case 21:break;default:In(r,n),Dn(n)}}function Dn(n){var r=n.flags;if(r&2){try{for(var o,u=n.return;u!==null;){if(qv(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,p=Cm(n);Sh(n,p,f);break;case 5:var E=o.stateNode;o.flags&32&&(Ln(E,""),o.flags&=-33);var b=Cm(n);Sh(n,b,E);break;case 3:case 4:var I=o.stateNode.containerInfo,j=Cm(n);Vm(n,j,I);break;default:throw Error(i(161))}}catch(X){tt(n,n.return,X)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function $v(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;$v(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Vr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Gv(n,r.alternate,r),r=r.sibling}function Za(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Cr(4,r,r.return),Za(r);break;case 1:gi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Uv(r,r.return,o),Za(r);break;case 27:du(r.stateNode);case 26:case 5:gi(r,r.return),Za(r);break;case 22:r.memoizedState===null&&Za(r);break;case 30:Za(r);break;default:Za(r)}n=n.sibling}}function Nr(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,p=r,E=p.flags;switch(p.tag){case 0:case 11:case 15:Nr(f,p,o),iu(4,p);break;case 1:if(Nr(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){tt(u,u.return,j)}if(u=p,f=u.updateQueue,f!==null){var b=u.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)S_(I[f],b)}catch(j){tt(u,u.return,j)}}o&&E&64&&kv(p),ru(p,p.return);break;case 27:jv(p);case 26:case 5:Nr(f,p,o),o&&u===null&&E&4&&Bv(p),ru(p,p.return);break;case 12:Nr(f,p,o);break;case 13:Nr(f,p,o),o&&E&4&&Qv(f,p);break;case 22:p.memoizedState===null&&Nr(f,p,o),ru(p,p.return);break;case 30:break;default:Nr(f,p,o)}r=r.sibling}}function Mm(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Fl(o))}function Pm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Fl(n))}function yi(n,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Xv(n,r,o,u),r=r.sibling}function Xv(n,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:yi(n,r,o,u),f&2048&&iu(9,r);break;case 1:yi(n,r,o,u);break;case 3:yi(n,r,o,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Fl(n)));break;case 12:if(f&2048){yi(n,r,o,u),n=r.stateNode;try{var p=r.memoizedProps,E=p.id,b=p.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){tt(r,r.return,I)}}else yi(n,r,o,u);break;case 13:yi(n,r,o,u);break;case 23:break;case 22:p=r.stateNode,E=r.alternate,r.memoizedState!==null?p._visibility&2?yi(n,r,o,u):au(n,r):p._visibility&2?yi(n,r,o,u):(p._visibility|=2,lo(n,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&Mm(E,r);break;case 24:yi(n,r,o,u),f&2048&&Pm(r.alternate,r);break;default:yi(n,r,o,u)}}function lo(n,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=n,E=r,b=o,I=u,j=E.flags;switch(E.tag){case 0:case 11:case 15:lo(p,E,b,I,f),iu(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?lo(p,E,b,I,f):au(p,E):(X._visibility|=2,lo(p,E,b,I,f)),f&&j&2048&&Mm(E.alternate,E);break;case 24:lo(p,E,b,I,f),f&&j&2048&&Pm(E.alternate,E);break;default:lo(p,E,b,I,f)}r=r.sibling}}function au(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,u=r,f=u.flags;switch(u.tag){case 22:au(o,u),f&2048&&Mm(u.alternate,u);break;case 24:au(o,u),f&2048&&Pm(u.alternate,u);break;default:au(o,u)}r=r.sibling}}var su=8192;function uo(n){if(n.subtreeFlags&su)for(n=n.child;n!==null;)Zv(n),n=n.sibling}function Zv(n){switch(n.tag){case 26:uo(n),n.flags&su&&n.memoizedState!==null&&FR(Wn,n.memoizedState,n.memoizedProps);break;case 5:uo(n);break;case 3:case 4:var r=Wn;Wn=zh(n.stateNode.containerInfo),uo(n),Wn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=su,su=16777216,uo(n),su=r):uo(n));break;default:uo(n)}}function Jv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function ou(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];jt=u,eE(u,n)}Jv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wv(n),n=n.sibling}function Wv(n){switch(n.tag){case 0:case 11:case 15:ou(n),n.flags&2048&&Cr(9,n,n.return);break;case 3:ou(n);break;case 12:ou(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,wh(n)):ou(n);break;default:ou(n)}}function wh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];jt=u,eE(u,n)}Jv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Cr(8,r,r.return),wh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,wh(r));break;default:wh(r)}n=n.sibling}}function eE(n,r){for(;jt!==null;){var o=jt;switch(o.tag){case 0:case 11:case 15:Cr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Fl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,jt=u;else e:for(o=n;jt!==null;){u=jt;var f=u.sibling,p=u.return;if(Hv(u),u===o){jt=null;break e}if(f!==null){f.return=p,jt=f;break e}jt=p}}}var aR={getCacheForType:function(n){var r=nn(Pt),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o}},sR=typeof WeakMap=="function"?WeakMap:Map,Qe=0,it=null,Ne=null,Ue=0,Ye=0,xn=null,Or=!1,co=!1,Lm=!1,er=0,_t=0,Mr=0,Ja=0,zm=0,Hn=0,ho=0,lu=null,vn=null,km=!1,Um=0,Rh=1/0,Ih=null,Pr=null,Xt=0,Lr=null,fo=null,mo=0,Bm=0,qm=null,tE=null,uu=0,jm=null;function Cn(){if((Qe&2)!==0&&Ue!==0)return Ue&-Ue;if($.T!==null){var n=eo;return n!==0?n:$m()}return yr()}function nE(){Hn===0&&(Hn=(Ue&536870912)===0||Ge?_l():536870912);var n=Gn.current;return n!==null&&(n.flags|=32),Hn}function Vn(n,r,o){(n===it&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)&&(po(n,0),zr(n,Ue,Hn,!1)),Ni(n,o),((Qe&2)===0||n!==it)&&(n===it&&((Qe&2)===0&&(Ja|=o),_t===4&&zr(n,Ue,Hn,!1)),_i(n))}function iE(n,r,o){if((Qe&6)!==0)throw Error(i(327));var u=!o&&(r&124)===0&&(r&n.expiredLanes)===0||Sa(n,r),f=u?uR(n,r):Hm(n,r,!0),p=u;do{if(f===0){co&&!u&&zr(n,r,0,!1);break}else{if(o=n.current.alternate,p&&!oR(o)){f=Hm(n,r,!1),p=!1;continue}if(f===2){if(p=r,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var b=n;f=lu;var I=b.current.memoizedState.isDehydrated;if(I&&(po(b,E).flags|=256),E=Hm(b,E,!1),E!==2){if(Lm&&!I){b.errorRecoveryDisabledLanes|=p,Ja|=p,f=4;break e}p=vn,vn=f,p!==null&&(vn===null?vn=p:vn.push.apply(vn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){po(n,0),zr(n,r,0,!0);break}e:{switch(u=n,p=f,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:zr(u,r,Hn,!Or);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=Um+300-Mn(),10<f)){if(zr(u,r,Hn,!Or),Vs(u,0,!0)!==0)break e;u.timeoutHandle=NE(rE.bind(null,u,o,vn,Ih,km,r,Hn,Ja,ho,Or,p,2,-0,0),f);break e}rE(u,o,vn,Ih,km,r,Hn,Ja,ho,Or,p,0,-0,0)}}break}while(!0);_i(n)}function rE(n,r,o,u,f,p,E,b,I,j,X,te,F,H){if(n.timeoutHandle=-1,te=r.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(gu={stylesheets:null,count:0,unsuspend:jR},Zv(r),te=GR(),te!==null)){n.cancelPendingCommit=te(hE.bind(null,n,r,p,o,u,f,E,b,I,X,1,F,H)),zr(n,p,E,!j);return}hE(n,r,p,o,u,f,E,b,I)}function oR(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!wn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function zr(n,r,o,u){r&=~zm,r&=~Ja,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var p=31-tn(f),E=1<<p;u[p]=-1,f&=~E}o!==0&&ii(n,o,r)}function Dh(){return(Qe&6)===0?(cu(0),!1):!0}function Fm(){if(Ne!==null){if(Ye===0)var n=Ne.return;else n=Ne,Ki=Ka=null,sm(n),so=null,eu=0,n=Ne;for(;n!==null;)zv(n.alternate,n),n=n.return;Ne=null}}function po(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,wR(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Fm(),it=n,Ne=o=Fi(n.current,null),Ue=r,Ye=0,xn=null,Or=!1,co=Sa(n,r),Lm=!1,ho=Hn=zm=Ja=Mr=_t=0,vn=lu=null,km=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-tn(u),p=1<<f;r|=n[f],u&=~p}return er=r,Xc(),o}function aE(n,r){xe=null,$.H=ph,r===Hl||r===ah?(r=b_(),Ye=3):r===v_?(r=b_(),Ye=4):Ye=r===Av?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xn=r,Ne===null&&(_t=1,Eh(n,Bn(r,n.current)))}function sE(){var n=$.H;return $.H=ph,n===null?ph:n}function oE(){var n=$.A;return $.A=aR,n}function Gm(){_t=4,Or||(Ue&4194048)!==Ue&&Gn.current!==null||(co=!0),(Mr&134217727)===0&&(Ja&134217727)===0||it===null||zr(it,Ue,Hn,!1)}function Hm(n,r,o){var u=Qe;Qe|=2;var f=sE(),p=oE();(it!==n||Ue!==r)&&(Ih=null,po(n,r)),r=!1;var E=_t;e:do try{if(Ye!==0&&Ne!==null){var b=Ne,I=xn;switch(Ye){case 8:Fm(),E=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(r=!0);var j=Ye;if(Ye=0,xn=null,go(n,b,I,j),o&&co){E=0;break e}break;default:j=Ye,Ye=0,xn=null,go(n,b,I,j)}}lR(),E=_t;break}catch(X){aE(n,X)}while(!0);return r&&n.shellSuspendCounter++,Ki=Ka=null,Qe=u,$.H=f,$.A=p,Ne===null&&(it=null,Ue=0,Xc()),E}function lR(){for(;Ne!==null;)lE(Ne)}function uR(n,r){var o=Qe;Qe|=2;var u=sE(),f=oE();it!==n||Ue!==r?(Ih=null,Rh=Mn()+500,po(n,r)):co=Sa(n,r);e:do try{if(Ye!==0&&Ne!==null){r=Ne;var p=xn;t:switch(Ye){case 1:Ye=0,xn=null,go(n,r,p,1);break;case 2:case 9:if(E_(p)){Ye=0,xn=null,uE(r);break}r=function(){Ye!==2&&Ye!==9||it!==n||(Ye=7),_i(n)},p.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:E_(p)?(Ye=0,xn=null,uE(r)):(Ye=0,xn=null,go(n,r,p,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var b=Ne;if(!E||GE(E)){Ye=0,xn=null;var I=b.sibling;if(I!==null)Ne=I;else{var j=b.return;j!==null?(Ne=j,xh(j)):Ne=null}break t}}Ye=0,xn=null,go(n,r,p,5);break;case 6:Ye=0,xn=null,go(n,r,p,6);break;case 8:Fm(),_t=6;break e;default:throw Error(i(462))}}cR();break}catch(X){aE(n,X)}while(!0);return Ki=Ka=null,$.H=u,$.A=f,Qe=o,Ne!==null?0:(it=null,Ue=0,Xc(),_t)}function cR(){for(;Ne!==null&&!ml();)lE(Ne)}function lE(n){var r=Pv(n.alternate,n,er);n.memoizedProps=n.pendingProps,r===null?xh(n):Ne=r}function uE(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=xv(o,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=xv(o,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:sm(r);default:zv(o,r),r=Ne=c_(r,er),r=Pv(o,r,er)}n.memoizedProps=n.pendingProps,r===null?xh(n):Ne=r}function go(n,r,o,u){Ki=Ka=null,sm(r),so=null,eu=0;var f=r.return;try{if(Ww(n,f,r,o,Ue)){_t=1,Eh(n,Bn(o,n.current)),Ne=null;return}}catch(p){if(f!==null)throw Ne=f,p;_t=1,Eh(n,Bn(o,n.current)),Ne=null;return}r.flags&32768?(Ge||u===1?n=!0:co||(Ue&536870912)!==0?n=!1:(Or=n=!0,(u===2||u===9||u===3||u===6)&&(u=Gn.current,u!==null&&u.tag===13&&(u.flags|=16384))),cE(r,n)):xh(r)}function xh(n){var r=n;do{if((r.flags&32768)!==0){cE(r,Or);return}n=r.return;var o=tR(r.alternate,r,er);if(o!==null){Ne=o;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=n}while(r!==null);_t===0&&(_t=5)}function cE(n,r){do{var o=nR(n.alternate,n);if(o!==null){o.flags&=32767,Ne=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=o}while(n!==null);_t=6,Ne=null}function hE(n,r,o,u,f,p,E,b,I){n.cancelPendingCommit=null;do Ch();while(Xt!==0);if((Qe&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=Pd,El(n,o,p,E,b,I),n===it&&(Ne=it=null,Ue=0),fo=r,Lr=n,mo=o,Bm=p,qm=f,tE=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,mR(Ea,function(){return gE(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,f=ue.p,ue.p=2,E=Qe,Qe|=4;try{iR(n,r,o)}finally{Qe=E,ue.p=f,$.T=u}}Xt=1,fE(),dE(),mE()}}function fE(){if(Xt===1){Xt=0;var n=Lr,r=fo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var u=ue.p;ue.p=2;var f=Qe;Qe|=4;try{Yv(r,n);var p=ip,E=e_(n.containerInfo),b=p.focusedElem,I=p.selectionRange;if(E!==b&&b&&b.ownerDocument&&Wy(b.ownerDocument.documentElement,b)){if(I!==null&&Cd(b)){var j=I.start,X=I.end;if(X===void 0&&(X=j),"selectionStart"in b)b.selectionStart=j,b.selectionEnd=Math.min(X,b.value.length);else{var te=b.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var H=F.getSelection(),we=b.textContent.length,be=Math.min(I.start,we),et=I.end===void 0?be:Math.min(I.end,we);!H.extend&&be>et&&(E=et,et=be,be=E);var L=Jy(b,be),O=Jy(b,et);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var q=te.createRange();q.setStart(L.node,L.offset),H.removeAllRanges(),be>et?(H.addRange(q),H.extend(O.node,O.offset)):(q.setEnd(O.node,O.offset),H.addRange(q))}}}}for(te=[],H=b;H=H.parentNode;)H.nodeType===1&&te.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var J=te[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}jh=!!np,ip=np=null}finally{Qe=f,ue.p=u,$.T=o}}n.current=r,Xt=2}}function dE(){if(Xt===2){Xt=0;var n=Lr,r=fo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var u=ue.p;ue.p=2;var f=Qe;Qe|=4;try{Gv(n,r.alternate,r)}finally{Qe=f,ue.p=u,$.T=o}}Xt=3}}function mE(){if(Xt===4||Xt===3){Xt=0,wc();var n=Lr,r=fo,o=mo,u=tE;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Xt=5:(Xt=0,fo=Lr=null,pE(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Pr=null),Ns(o),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(gt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=$.T,f=ue.p,ue.p=2,$.T=null;try{for(var p=n.onRecoverableError,E=0;E<u.length;E++){var b=u[E];p(b.value,{componentStack:b.stack})}}finally{$.T=r,ue.p=f}}(mo&3)!==0&&Ch(),_i(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===jm?uu++:(uu=0,jm=n):uu=0,cu(0)}}function pE(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Fl(r)))}function Ch(n){return fE(),dE(),mE(),gE()}function gE(){if(Xt!==5)return!1;var n=Lr,r=Bm;Bm=0;var o=Ns(mo),u=$.T,f=ue.p;try{ue.p=32>o?32:o,$.T=null,o=qm,qm=null;var p=Lr,E=mo;if(Xt=0,fo=Lr=null,mo=0,(Qe&6)!==0)throw Error(i(331));var b=Qe;if(Qe|=4,Wv(p.current),Xv(p,p.current,E,o),Qe=b,cu(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(gt,p)}catch{}return!0}finally{ue.p=f,$.T=u,pE(n,r)}}function yE(n,r,o){r=Bn(o,r),r=Em(n.stateNode,r,2),n=Rr(n,r,2),n!==null&&(Ni(n,2),_i(n))}function tt(n,r,o){if(n.tag===3)yE(n,n,o);else for(;r!==null;){if(r.tag===3){yE(r,n,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Pr===null||!Pr.has(u))){n=Bn(o,n),o=Tv(2),u=Rr(r,o,2),u!==null&&(bv(o,u,r,n),Ni(u,2),_i(u));break}}r=r.return}}function Km(n,r,o){var u=n.pingCache;if(u===null){u=n.pingCache=new sR;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Lm=!0,f.add(o),n=hR.bind(null,n,r,o),r.then(n,n))}function hR(n,r,o){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,it===n&&(Ue&o)===o&&(_t===4||_t===3&&(Ue&62914560)===Ue&&300>Mn()-Um?(Qe&2)===0&&po(n,0):zm|=o,ho===Ue&&(ho=0)),_i(n)}function _E(n,r){r===0&&(r=vl()),n=Xs(n,r),n!==null&&(Ni(n,r),_i(n))}function fR(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),_E(n,o)}function dR(n,r){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),_E(n,o)}function mR(n,r){return _a(n,r)}var Vh=null,yo=null,Qm=!1,Nh=!1,Ym=!1,Wa=0;function _i(n){n!==yo&&n.next===null&&(yo===null?Vh=yo=n:yo=yo.next=n),Nh=!0,Qm||(Qm=!0,gR())}function cu(n,r){if(!Ym&&Nh){Ym=!0;do for(var o=!1,u=Vh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var E=u.suspendedLanes,b=u.pingedLanes;p=(1<<31-tn(42|n)+1)-1,p&=f&~(E&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,bE(u,p))}else p=Ue,p=Vs(u,u===it?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Sa(u,p)||(o=!0,bE(u,p));u=u.next}while(o);Ym=!1}}function pR(){vE()}function vE(){Nh=Qm=!1;var n=0;Wa!==0&&(SR()&&(n=Wa),Wa=0);for(var r=Mn(),o=null,u=Vh;u!==null;){var f=u.next,p=EE(u,r);p===0?(u.next=null,o===null?Vh=f:o.next=f,f===null&&(yo=o)):(o=u,(n!==0||(p&3)!==0)&&(Nh=!0)),u=f}cu(n)}function EE(n,r){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-tn(p),b=1<<E,I=f[E];I===-1?((b&o)===0||(b&u)!==0)&&(f[E]=yl(b,r)):I<=r&&(n.expiredLanes|=b),p&=~b}if(r=it,o=Ue,o=Vs(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===r&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&va(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Sa(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(u!==null&&va(u),Ns(o)){case 2:case 8:o=xs;break;case 32:o=Ea;break;case 268435456:o=Cs;break;default:o=Ea}return u=TE.bind(null,n),o=_a(o,u),n.callbackPriority=r,n.callbackNode=o,r}return u!==null&&u!==null&&va(u),n.callbackPriority=2,n.callbackNode=null,2}function TE(n,r){if(Xt!==0&&Xt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Ch()&&n.callbackNode!==o)return null;var u=Ue;return u=Vs(n,n===it?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(iE(n,u,r),EE(n,Mn()),n.callbackNode!=null&&n.callbackNode===o?TE.bind(null,n):null)}function bE(n,r){if(Ch())return null;iE(n,r,!0)}function gR(){RR(function(){(Qe&6)!==0?_a(pl,pR):vE()})}function $m(){return Wa===0&&(Wa=_l()),Wa}function AE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ks(""+n)}function SE(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function yR(n,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var p=AE((f[Rt]||null).action),E=u.submitter;E&&(r=(r=E[Rt]||null)?AE(r.formAction):E.getAttribute("formAction"),r!==null&&(p=r,E=null));var b=new Us("action","action",null,u,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Wa!==0){var I=E?SE(f,E):new FormData(f);pm(o,{pending:!0,data:I,method:f.method,action:p},null,I)}}else typeof p=="function"&&(b.preventDefault(),I=E?SE(f,E):new FormData(f),pm(o,{pending:!0,data:I,method:f.method,action:p},p,I))},currentTarget:f}]})}}for(var Xm=0;Xm<Md.length;Xm++){var Zm=Md[Xm],_R=Zm.toLowerCase(),vR=Zm[0].toUpperCase()+Zm.slice(1);Jn(_R,"on"+vR)}Jn(i_,"onAnimationEnd"),Jn(r_,"onAnimationIteration"),Jn(a_,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(Lw,"onTransitionRun"),Jn(zw,"onTransitionStart"),Jn(kw,"onTransitionCancel"),Jn(s_,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ER=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hu));function wE(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var E=u.length-1;0<=E;E--){var b=u[E],I=b.instance,j=b.currentTarget;if(b=b.listener,I!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=j;try{p(f)}catch(X){vh(X)}f.currentTarget=null,p=I}else for(E=0;E<u.length;E++){if(b=u[E],I=b.instance,j=b.currentTarget,b=b.listener,I!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=j;try{p(f)}catch(X){vh(X)}f.currentTarget=null,p=I}}}}function Oe(n,r){var o=r[bl];o===void 0&&(o=r[bl]=new Set);var u=n+"__bubble";o.has(u)||(RE(r,n,2,!1),o.add(u))}function Jm(n,r,o){var u=0;r&&(u|=4),RE(o,n,u,r)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function Wm(n){if(!n[Oh]){n[Oh]=!0,Al.forEach(function(o){o!=="selectionchange"&&(ER.has(o)||Jm(o,!1,n),Jm(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Oh]||(r[Oh]=!0,Jm("selectionchange",!1,r))}}function RE(n,r,o,u){switch(XE(r)){case 2:var f=QR;break;case 8:f=YR;break;default:f=dp}o=f.bind(null,r,o,n),f=void 0,!kn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,o,{capture:!0,passive:f}):n.addEventListener(r,o,!0):f!==void 0?n.addEventListener(r,o,{passive:f}):n.addEventListener(r,o,!1)}function ep(n,r,o,u,f){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=u.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Oi(b),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){u=p=E;continue e}b=b.parentNode}}u=u.return}Pc(function(){var j=p,X=zn(o),te=[];e:{var F=o_.get(n);if(F!==void 0){var H=Us,we=n;switch(n){case"keypress":if(ui(o)===0)break e;case"keydown":case"keyup":H=Hs;break;case"focusin":we="focus",H=js;break;case"focusout":we="blur",H=js;break;case"beforeblur":case"afterblur":H=js;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Rd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Fc;break;case i_:case r_:case a_:H=Fs;break;case s_:H=Hc;break;case"scroll":case"scrollend":H=Lc;break;case"wheel":H=Ks;break;case"copy":case"cut":case"paste":H=Gs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Pl;break;case"toggle":case"beforetoggle":H=Qc}var be=(r&4)!==0,et=!be&&(n==="scroll"||n==="scrollend"),L=be?F!==null?F+"Capture":null:F;be=[];for(var O=j,q;O!==null;){var J=O;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||L===null||(J=Na(O,L),J!=null&&be.push(fu(O,J,q))),et)break;O=O.return}0<be.length&&(F=new H(F,we,null,o,X),te.push({event:F,listeners:be}))}}if((r&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",H=n==="mouseout"||n==="pointerout",F&&o!==zi&&(we=o.relatedTarget||o.fromElement)&&(Oi(we)||we[Pn]))break e;if((H||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,H?(we=o.relatedTarget||o.toElement,H=j,we=we?Oi(we):null,we!==null&&(et=l(we),be=we.tag,we!==et||be!==5&&be!==27&&be!==6)&&(we=null)):(H=null,we=j),H!==we)){if(be=Un,J="onMouseLeave",L="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(be=Pl,J="onPointerLeave",L="onPointerEnter",O="pointer"),et=H==null?F:ai(H),q=we==null?F:ai(we),F=new be(J,O+"leave",H,o,X),F.target=et,F.relatedTarget=q,J=null,Oi(X)===j&&(be=new be(L,O+"enter",we,o,X),be.target=q,be.relatedTarget=et,J=be),et=J,H&&we)t:{for(be=H,L=we,O=0,q=be;q;q=_o(q))O++;for(q=0,J=L;J;J=_o(J))q++;for(;0<O-q;)be=_o(be),O--;for(;0<q-O;)L=_o(L),q--;for(;O--;){if(be===L||L!==null&&be===L.alternate)break t;be=_o(be),L=_o(L)}be=null}else be=null;H!==null&&IE(te,F,H,be,!1),we!==null&&et!==null&&IE(te,et,we,be,!0)}}e:{if(F=j?ai(j):window,H=F.nodeName&&F.nodeName.toLowerCase(),H==="select"||H==="input"&&F.type==="file")var pe=Ky;else if(Mt(F))if(Qy)pe=Ow;else{pe=Vw;var Ve=Cw}else H=F.nodeName,!H||H.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?j&&Dl(j.elementType)&&(pe=Ky):pe=Nw;if(pe&&(pe=pe(n,j))){ji(te,pe,o,X);break e}Ve&&Ve(n,F,j),n==="focusout"&&j&&F.type==="number"&&j.memoizedProps.value!=null&&Tr(F,"number",F.value)}switch(Ve=j?ai(j):window,n){case"focusin":(Mt(Ve)||Ve.contentEditable==="true")&&(Qs=Ve,Vd=j,kl=null);break;case"focusout":kl=Vd=Qs=null;break;case"mousedown":Nd=!0;break;case"contextmenu":case"mouseup":case"dragend":Nd=!1,t_(te,o,X);break;case"selectionchange":if(Pw)break;case"keydown":case"keyup":t_(te,o,X)}var _e;if(fi)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else ze?Q(n,o)&&(Ae="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(v&&o.locale!=="ko"&&(ze||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&ze&&(_e=Cl()):(li=X,br="value"in li?li.value:li.textContent,ze=!0)),Ve=Mh(j,Ae),0<Ve.length&&(Ae=new Ol(Ae,n,null,o,X),te.push({event:Ae,listeners:Ve}),_e?Ae.data=_e:(_e=oe(o),_e!==null&&(Ae.data=_e)))),(_e=y?Ot(n,o):ke(n,o))&&(Ae=Mh(j,"onBeforeInput"),0<Ae.length&&(Ve=new Ol("onBeforeInput","beforeinput",null,o,X),te.push({event:Ve,listeners:Ae}),Ve.data=_e)),yR(te,n,j,o,X)}wE(te,r)})}function fu(n,r,o){return{instance:n,listener:r,currentTarget:o}}function Mh(n,r){for(var o=r+"Capture",u=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Na(n,o),f!=null&&u.unshift(fu(n,f,p)),f=Na(n,r),f!=null&&u.push(fu(n,f,p))),n.tag===3)return u;n=n.return}return[]}function _o(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function IE(n,r,o,u,f){for(var p=r._reactName,E=[];o!==null&&o!==u;){var b=o,I=b.alternate,j=b.stateNode;if(b=b.tag,I!==null&&I===u)break;b!==5&&b!==26&&b!==27||j===null||(I=j,f?(j=Na(o,p),j!=null&&E.unshift(fu(o,j,I))):f||(j=Na(o,p),j!=null&&E.push(fu(o,j,I)))),o=o.return}E.length!==0&&n.push({event:r,listeners:E})}var TR=/\r\n?/g,bR=/\u0000|\uFFFD/g;function DE(n){return(typeof n=="string"?n:""+n).replace(TR,`
`).replace(bR,"")}function xE(n,r){return r=DE(r),DE(n)===r}function Ph(){}function We(n,r,o,u,f,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Ln(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Ln(n,""+u);break;case"className":si(n,"class",u);break;case"tabIndex":si(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":si(n,o,u);break;case"style":Il(n,u,p);break;case"data":if(r!=="object"){si(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=ks(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&We(n,r,"name",f.name,f,null),We(n,r,"formEncType",f.formEncType,f,null),We(n,r,"formMethod",f.formMethod,f,null),We(n,r,"formTarget",f.formTarget,f,null)):(We(n,r,"encType",f.encType,f,null),We(n,r,"method",f.method,f,null),We(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=ks(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Ph);break;case"onScroll":u!=null&&Oe("scroll",n);break;case"onScrollEnd":u!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=ks(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),Er(n,"popover",u);break;case"xlinkActuate":Qt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Qt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Qt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Qt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Qt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Qt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Er(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Sd.get(o)||o,Er(n,o,u))}}function tp(n,r,o,u,f,p){switch(o){case"style":Il(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Ln(n,u):(typeof u=="number"||typeof u=="bigint")&&Ln(n,""+u);break;case"onScroll":u!=null&&Oe("scroll",n);break;case"onScrollEnd":u!=null&&Oe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Ph);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Os.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=n[Rt]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(r,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Er(n,o,u)}}}function Zt(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:We(n,r,p,E,o,null)}}f&&We(n,r,"srcSet",o.srcSet,o,null),u&&We(n,r,"src",o.src,o,null);return;case"input":Oe("invalid",n);var b=p=E=f=null,I=null,j=null;for(u in o)if(o.hasOwnProperty(u)){var X=o[u];if(X!=null)switch(u){case"name":f=X;break;case"type":E=X;break;case"checked":I=X;break;case"defaultChecked":j=X;break;case"value":p=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:We(n,r,u,X,o,null)}}xa(n,p,b,I,j,E,f,!1),zs(n);return;case"select":Oe("invalid",n),u=E=p=null;for(f in o)if(o.hasOwnProperty(f)&&(b=o[f],b!=null))switch(f){case"value":p=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:We(n,r,f,b,o,null)}r=p,o=E,n.multiple=!!u,r!=null?Li(n,!!u,r,!1):o!=null&&Li(n,!!u,o,!0);return;case"textarea":Oe("invalid",n),p=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(b=o[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":f=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:We(n,r,E,b,o,null)}Ca(n,u,f,p),zs(n);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(n,r,I,u,o,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(u=0;u<hu.length;u++)Oe(hu[u],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:We(n,r,j,u,o,null)}return;default:if(Dl(r)){for(X in o)o.hasOwnProperty(X)&&(u=o[X],u!==void 0&&tp(n,r,X,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&We(n,r,b,u,o,null))}function AR(n,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,b=null,I=null,j=null,X=null;for(H in o){var te=o[H];if(o.hasOwnProperty(H)&&te!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=te;default:u.hasOwnProperty(H)||We(n,r,H,null,u,te)}}for(var F in u){var H=u[F];if(te=o[F],u.hasOwnProperty(F)&&(H!=null||te!=null))switch(F){case"type":p=H;break;case"name":f=H;break;case"checked":j=H;break;case"defaultChecked":X=H;break;case"value":E=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,r));break;default:H!==te&&We(n,r,F,H,u,te)}}Sn(n,E,b,I,j,X,p,f);return;case"select":H=E=b=F=null;for(p in o)if(I=o[p],o.hasOwnProperty(p)&&I!=null)switch(p){case"value":break;case"multiple":H=I;default:u.hasOwnProperty(p)||We(n,r,p,null,u,I)}for(f in u)if(p=u[f],I=o[f],u.hasOwnProperty(f)&&(p!=null||I!=null))switch(f){case"value":F=p;break;case"defaultValue":b=p;break;case"multiple":E=p;default:p!==I&&We(n,r,f,p,u,I)}r=b,o=E,u=H,F!=null?Li(n,!!o,F,!1):!!u!=!!o&&(r!=null?Li(n,!!o,r,!0):Li(n,!!o,o?[]:"",!1));return;case"textarea":H=F=null;for(b in o)if(f=o[b],o.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(n,r,b,null,u,f)}for(E in u)if(f=u[E],p=o[E],u.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":F=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==p&&We(n,r,E,f,u,p)}Ze(n,F,H);return;case"option":for(var we in o)if(F=o[we],o.hasOwnProperty(we)&&F!=null&&!u.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:We(n,r,we,null,u,F)}for(I in u)if(F=u[I],H=o[I],u.hasOwnProperty(I)&&F!==H&&(F!=null||H!=null))switch(I){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(n,r,I,F,u,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)F=o[be],o.hasOwnProperty(be)&&F!=null&&!u.hasOwnProperty(be)&&We(n,r,be,null,u,F);for(j in u)if(F=u[j],H=o[j],u.hasOwnProperty(j)&&F!==H&&(F!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,r));break;default:We(n,r,j,F,u,H)}return;default:if(Dl(r)){for(var et in o)F=o[et],o.hasOwnProperty(et)&&F!==void 0&&!u.hasOwnProperty(et)&&tp(n,r,et,void 0,u,F);for(X in u)F=u[X],H=o[X],!u.hasOwnProperty(X)||F===H||F===void 0&&H===void 0||tp(n,r,X,F,u,H);return}}for(var L in o)F=o[L],o.hasOwnProperty(L)&&F!=null&&!u.hasOwnProperty(L)&&We(n,r,L,null,u,F);for(te in u)F=u[te],H=o[te],!u.hasOwnProperty(te)||F===H||F==null&&H==null||We(n,r,te,F,u,H)}var np=null,ip=null;function Lh(n){return n.nodeType===9?n:n.ownerDocument}function CE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VE(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function rp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ap=null;function SR(){var n=window.event;return n&&n.type==="popstate"?n===ap?!1:(ap=n,!0):(ap=null,!1)}var NE=typeof setTimeout=="function"?setTimeout:void 0,wR=typeof clearTimeout=="function"?clearTimeout:void 0,OE=typeof Promise=="function"?Promise:void 0,RR=typeof queueMicrotask=="function"?queueMicrotask:typeof OE<"u"?function(n){return OE.resolve(null).then(n).catch(IR)}:NE;function IR(n){setTimeout(function(){throw n})}function kr(n){return n==="head"}function ME(n,r){var o=r,u=0,f=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var E=n.ownerDocument;if(o&1&&du(E.documentElement),o&2&&du(E.body),o&4)for(o=E.head,du(o),E=o.firstChild;E;){var b=E.nextSibling,I=E.nodeName;E[wa]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=b}}if(f===0){n.removeChild(p),Tu(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);Tu(r)}function sp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":sp(o),vr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function DR(n,r,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[wa])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=ei(n.nextSibling),n===null)break}return null}function xR(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=ei(n.nextSibling),n===null))return null;return n}function op(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function CR(n,r){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function ei(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var lp=null;function PE(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}function LE(n,r,o){switch(r=Lh(o),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function du(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);vr(n)}var Kn=new Map,zE=new Set;function zh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var tr=ue.d;ue.d={f:VR,r:NR,D:OR,C:MR,L:PR,m:LR,X:kR,S:zR,M:UR};function VR(){var n=tr.f(),r=Dh();return n||r}function NR(n){var r=ri(n);r!==null&&r.tag===5&&r.type==="form"?iv(r):tr.r(n)}var vo=typeof document>"u"?null:document;function kE(n,r,o){var u=vo;if(u&&typeof r=="string"&&r){var f=It(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),zE.has(f)||(zE.add(f),n={rel:n,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Zt(r,"link",n),Et(r),u.head.appendChild(r)))}}function OR(n){tr.D(n),kE("dns-prefetch",n,null)}function MR(n,r){tr.C(n,r),kE("preconnect",n,r)}function PR(n,r,o){tr.L(n,r,o);var u=vo;if(u&&n&&r){var f='link[rel="preload"][as="'+It(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+It(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+It(o.imageSizes)+'"]')):f+='[href="'+It(n)+'"]';var p=f;switch(r){case"style":p=Eo(n);break;case"script":p=To(n)}Kn.has(p)||(n=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),Kn.set(p,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(mu(p))||r==="script"&&u.querySelector(pu(p))||(r=u.createElement("link"),Zt(r,"link",n),Et(r),u.head.appendChild(r)))}}function LR(n,r){tr.m(n,r);var o=vo;if(o&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+It(u)+'"][href="'+It(n)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=To(n)}if(!Kn.has(p)&&(n=_({rel:"modulepreload",href:n},r),Kn.set(p,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(pu(p)))return}u=o.createElement("link"),Zt(u,"link",n),Et(u),o.head.appendChild(u)}}}function zR(n,r,o){tr.S(n,r,o);var u=vo;if(u&&n){var f=un(u).hoistableStyles,p=Eo(n);r=r||"default";var E=f.get(p);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(mu(p)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},o),(o=Kn.get(p))&&up(n,o);var I=E=u.createElement("link");Et(I),Zt(I,"link",n),I._p=new Promise(function(j,X){I.onload=j,I.onerror=X}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,kh(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(p,E)}}}function kR(n,r){tr.X(n,r);var o=vo;if(o&&n){var u=un(o).hoistableScripts,f=To(n),p=u.get(f);p||(p=o.querySelector(pu(f)),p||(n=_({src:n,async:!0},r),(r=Kn.get(f))&&cp(n,r),p=o.createElement("script"),Et(p),Zt(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function UR(n,r){tr.M(n,r);var o=vo;if(o&&n){var u=un(o).hoistableScripts,f=To(n),p=u.get(f);p||(p=o.querySelector(pu(f)),p||(n=_({src:n,async:!0,type:"module"},r),(r=Kn.get(f))&&cp(n,r),p=o.createElement("script"),Et(p),Zt(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function UE(n,r,o,u){var f=(f=Re.current)?zh(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Eo(o.href),o=un(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Eo(o.href);var p=un(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(mu(n)))&&!p._p&&(E.instance=p,E.state.loading=5),Kn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Kn.set(n,o),p||BR(f,n,o,E.state))),r&&u===null)throw Error(i(528,""));return E}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=To(o),o=un(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Eo(n){return'href="'+It(n)+'"'}function mu(n){return'link[rel="stylesheet"]['+n+"]"}function BE(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function BR(n,r,o,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Zt(r,"link",o),Et(r),n.head.appendChild(r))}function To(n){return'[src="'+It(n)+'"]'}function pu(n){return"script[async]"+n}function qE(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+It(o.href)+'"]');if(u)return r.instance=u,Et(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Et(u),Zt(u,"style",f),kh(u,o.precedence,n),r.instance=u;case"stylesheet":f=Eo(o.href);var p=n.querySelector(mu(f));if(p)return r.state.loading|=4,r.instance=p,Et(p),p;u=BE(o),(f=Kn.get(f))&&up(u,f),p=(n.ownerDocument||n).createElement("link"),Et(p);var E=p;return E._p=new Promise(function(b,I){E.onload=b,E.onerror=I}),Zt(p,"link",u),r.state.loading|=4,kh(p,o.precedence,n),r.instance=p;case"script":return p=To(o.src),(f=n.querySelector(pu(p)))?(r.instance=f,Et(f),f):(u=o,(f=Kn.get(p))&&(u=_({},o),cp(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Et(f),Zt(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,kh(u,o.precedence,n));return r.instance}function kh(n,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===r)p=b;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function up(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function cp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Uh=null;function jE(n,r,o){if(Uh===null){var u=new Map,f=Uh=new Map;f.set(o,u)}else f=Uh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var p=o[f];if(!(p[wa]||p[Nt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(r)||"";E=n+E;var b=u.get(E);b?b.push(p):u.set(E,[p])}}return u}function FE(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function qR(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function GE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var gu=null;function jR(){}function FR(n,r,o){if(gu===null)throw Error(i(475));var u=gu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Eo(o.href),p=n.querySelector(mu(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Bh.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=p,Et(p);return}p=n.ownerDocument||n,o=BE(o),(f=Kn.get(f))&&up(o,f),p=p.createElement("link"),Et(p);var E=p;E._p=new Promise(function(b,I){E.onload=b,E.onerror=I}),Zt(p,"link",o),r.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Bh.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function GR(){if(gu===null)throw Error(i(475));var n=gu;return n.stylesheets&&n.count===0&&hp(n,n.stylesheets),0<n.count?function(r){var o=setTimeout(function(){if(n.stylesheets&&hp(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Bh(){if(this.count--,this.count===0){if(this.stylesheets)hp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var qh=null;function hp(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,qh=new Map,r.forEach(HR,n),qh=null,Bh.call(n))}function HR(n,r){if(!(r.state.loading&4)){var o=qh.get(n);if(o)var u=o.get(null);else{o=new Map,qh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,f),o.set(E,f),this.count++,u=Bh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var yu={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function KR(n,r,o,u,f,p,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function HE(n,r,o,u,f,p,E,b,I,j,X,te){return n=new KR(n,r,o,E,b,I,j,te),r=1,p===!0&&(r|=24),p=Rn(3,null,null,r),n.current=p,p.stateNode=n,r=Kd(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},Xd(p),n}function KE(n){return n?(n=Zs,n):Zs}function QE(n,r,o,u,f,p){f=KE(f),u.context===null?u.context=f:u.pendingContext=f,u=wr(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Rr(n,u,r),o!==null&&(Vn(o,n,r),Ql(o,n,r))}function YE(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function fp(n,r){YE(n,r),(n=n.alternate)&&YE(n,r)}function $E(n){if(n.tag===13){var r=Xs(n,67108864);r!==null&&Vn(r,n,67108864),fp(n,67108864)}}var jh=!0;function QR(n,r,o,u){var f=$.T;$.T=null;var p=ue.p;try{ue.p=2,dp(n,r,o,u)}finally{ue.p=p,$.T=f}}function YR(n,r,o,u){var f=$.T;$.T=null;var p=ue.p;try{ue.p=8,dp(n,r,o,u)}finally{ue.p=p,$.T=f}}function dp(n,r,o,u){if(jh){var f=mp(u);if(f===null)ep(n,r,u,Fh,o),ZE(n,u);else if(XR(f,n,r,o,u))u.stopPropagation();else if(ZE(n,u),r&4&&-1<$R.indexOf(n)){for(;f!==null;){var p=ri(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=$n(p.pendingLanes);if(E!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var I=1<<31-tn(E);b.entanglements[1]|=I,E&=~I}_i(p),(Qe&6)===0&&(Rh=Mn()+500,cu(0))}}break;case 13:b=Xs(p,2),b!==null&&Vn(b,p,2),Dh(),fp(p,2)}if(p=mp(u),p===null&&ep(n,r,u,Fh,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else ep(n,r,u,null,o)}}function mp(n){return n=zn(n),pp(n)}var Fh=null;function pp(n){if(Fh=null,n=Oi(n),n!==null){var r=l(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=c(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Fh=n,null}function XE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_d()){case pl:return 2;case xs:return 8;case Ea:case vd:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var gp=!1,Ur=null,Br=null,qr=null,_u=new Map,vu=new Map,jr=[],$R="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZE(n,r){switch(n){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":_u.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(r.pointerId)}}function Eu(n,r,o,u,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=ri(r),r!==null&&$E(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function XR(n,r,o,u,f){switch(r){case"focusin":return Ur=Eu(Ur,n,r,o,u,f),!0;case"dragenter":return Br=Eu(Br,n,r,o,u,f),!0;case"mouseover":return qr=Eu(qr,n,r,o,u,f),!0;case"pointerover":var p=f.pointerId;return _u.set(p,Eu(_u.get(p)||null,n,r,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,vu.set(p,Eu(vu.get(p)||null,n,r,o,u,f)),!0}return!1}function JE(n){var r=Oi(n.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){n.blockedOn=r,Dc(n.priority,function(){if(o.tag===13){var u=Cn();u=gr(u);var f=Xs(o,u);f!==null&&Vn(f,o,u),fp(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=mp(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);zi=u,o.target.dispatchEvent(u),zi=null}else return r=ri(o),r!==null&&$E(r),n.blockedOn=o,!1;r.shift()}return!0}function WE(n,r,o){Gh(n)&&o.delete(r)}function ZR(){gp=!1,Ur!==null&&Gh(Ur)&&(Ur=null),Br!==null&&Gh(Br)&&(Br=null),qr!==null&&Gh(qr)&&(qr=null),_u.forEach(WE),vu.forEach(WE)}function Hh(n,r){n.blockedOn===r&&(n.blockedOn=null,gp||(gp=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,ZR)))}var Kh=null;function eT(n){Kh!==n&&(Kh=n,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Kh===n&&(Kh=null);for(var r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(pp(u||o)===null)continue;break}var p=ri(o);p!==null&&(n.splice(r,3),r-=3,pm(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Tu(n){function r(I){return Hh(I,n)}Ur!==null&&Hh(Ur,n),Br!==null&&Hh(Br,n),qr!==null&&Hh(qr,n),_u.forEach(r),vu.forEach(r);for(var o=0;o<jr.length;o++){var u=jr[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<jr.length&&(o=jr[0],o.blockedOn===null);)JE(o),o.blockedOn===null&&jr.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],E=f[Rt]||null;if(typeof p=="function")E||eT(o);else if(E){var b=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Rt]||null)b=E.formAction;else if(pp(f)!==null)continue}else b=E.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),eT(o)}}}function yp(n){this._internalRoot=n}Qh.prototype.render=yp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Cn();QE(o,u,n,r,null,null)},Qh.prototype.unmount=yp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;QE(n.current,2,null,n,null,null),Dh(),r[Pn]=null}};function Qh(n){this._internalRoot=n}Qh.prototype.unstable_scheduleHydration=function(n){if(n){var r=yr();n={blockedOn:null,target:n,priority:r};for(var o=0;o<jr.length&&r!==0&&r<jr[o].priority;o++);jr.splice(o,0,n),o===0&&JE(n)}};var tT=e.version;if(tT!=="19.1.0")throw Error(i(527,tT,"19.1.0"));ue.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=m(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var JR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{gt=Yh.inject(JR),Ke=Yh}catch{}}return Au.createRoot=function(n,r){if(!s(n))throw Error(i(299));var o=!1,u="",f=yv,p=_v,E=vv,b=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=HE(n,1,!1,null,null,o,u,f,p,E,b,null),n[Pn]=r.current,Wm(n),new yp(r)},Au.hydrateRoot=function(n,r,o){if(!s(n))throw Error(i(299));var u=!1,f="",p=yv,E=_v,b=vv,I=null,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(j=o.formState)),r=HE(n,1,!0,r,o??null,u,f,p,E,b,I,j),r.context=KE(null),o=r.current,u=Cn(),u=gr(u),f=wr(u),f.callback=null,Rr(o,f,u),o=u,r.current.lanes=o,Ni(r,o),_i(r),n[Pn]=r.current,Wm(n),new Qh(r)},Au.version="19.1.0",Au}var hT;function lI(){if(hT)return Ep.exports;hT=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Ep.exports=oI(),Ep.exports}var uI=lI(),Su={},fT;function cI(){if(fT)return Su;fT=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.parse=c,Su.serialize=g;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function c(A,D){const C=new l,G=A.length;if(G<2)return C;const k=(D==null?void 0:D.decode)||_;let Y=0;do{const ae=A.indexOf("=",Y);if(ae===-1)break;const Z=A.indexOf(";",Y),me=Z===-1?G:Z;if(ae>me){Y=A.lastIndexOf(";",ae-1)+1;continue}const fe=d(A,Y,ae),Ee=m(A,ae,fe),V=A.slice(fe,Ee);if(C[V]===void 0){let w=d(A,ae+1,me),R=m(A,me,w);const M=k(A.slice(w,R));C[V]=M}Y=me+1}while(Y<G);return C}function d(A,D,C){do{const G=A.charCodeAt(D);if(G!==32&&G!==9)return D}while(++D<C);return C}function m(A,D,C){for(;D>C;){const G=A.charCodeAt(--D);if(G!==32&&G!==9)return D+1}return C}function g(A,D,C){const G=(C==null?void 0:C.encode)||encodeURIComponent;if(!a.test(A))throw new TypeError(`argument name is invalid: ${A}`);const k=G(D);if(!e.test(k))throw new TypeError(`argument val is invalid: ${D}`);let Y=A+"="+k;if(!C)return Y;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);Y+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);Y+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);Y+="; Path="+C.path}if(C.expires){if(!T(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);Y+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(Y+="; HttpOnly"),C.secure&&(Y+="; Secure"),C.partitioned&&(Y+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return Y}function _(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function T(A){return s.call(A)==="[object Date]"}return Su}cI();var dT="popstate";function hI(a={}){function e(i,s){let{pathname:l,search:c,hash:d}=i.location;return Up("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:ju(s)}return dI(e,t,null,a)}function dt(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function wi(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fI(){return Math.random().toString(36).substring(2,10)}function mT(a,e){return{usr:a.state,key:a.key,idx:e}}function Up(a,e,t=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?rl(e):e,state:t,key:e&&e.key||i||fI()}}function ju({pathname:a="/",search:e="",hash:t=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(a+=t.charAt(0)==="#"?t:"#"+t),a}function rl(a){let e={};if(a){let t=a.indexOf("#");t>=0&&(e.hash=a.substring(t),a=a.substring(0,t));let i=a.indexOf("?");i>=0&&(e.search=a.substring(i),a=a.substring(0,i)),a&&(e.pathname=a)}return e}function dI(a,e,t,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,d="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let k=_(),Y=k==null?null:k-g;g=k,m&&m({action:d,location:G.location,delta:Y})}function A(k,Y){d="PUSH";let ae=Up(G.location,k,Y);g=_()+1;let Z=mT(ae,g),me=G.createHref(ae);try{c.pushState(Z,"",me)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;s.location.assign(me)}l&&m&&m({action:d,location:G.location,delta:1})}function D(k,Y){d="REPLACE";let ae=Up(G.location,k,Y);g=_();let Z=mT(ae,g),me=G.createHref(ae);c.replaceState(Z,"",me),l&&m&&m({action:d,location:G.location,delta:0})}function C(k){let Y=s.location.origin!=="null"?s.location.origin:s.location.href,ae=typeof k=="string"?k:ju(k);return ae=ae.replace(/ $/,"%20"),dt(Y,`No window.location.(origin|href) available to create URL for href: ${ae}`),new URL(ae,Y)}let G={get action(){return d},get location(){return a(s,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(dT,T),m=k,()=>{s.removeEventListener(dT,T),m=null}},createHref(k){return e(s,k)},createURL:C,encodeLocation(k){let Y=C(k);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:A,replace:D,go(k){return c.go(k)}};return G}function ab(a,e,t="/"){return mI(a,e,t,!1)}function mI(a,e,t,i){let s=typeof e=="string"?rl(e):e,l=ar(s.pathname||"/",t);if(l==null)return null;let c=sb(a);pI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=RI(l);d=SI(c[m],g,i)}return d}function sb(a,e=[],t=[],i=""){let s=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(dt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let g=ir([i,m.relativePath]),_=t.concat(m);l.children&&l.children.length>0&&(dt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),sb(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:bI(g,l.index),routesMeta:_})};return a.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let m of ob(l.path))s(l,c,m)}),e}function ob(a){let e=a.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=ob(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&d.push(...c),d.map(m=>a.startsWith("/")&&m===""?"/":m)}function pI(a){a.sort((e,t)=>e.score!==t.score?t.score-e.score:AI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var gI=/^:[\w-]+$/,yI=3,_I=2,vI=1,EI=10,TI=-2,pT=a=>a==="*";function bI(a,e){let t=a.split("/"),i=t.length;return t.some(pT)&&(i+=TI),e&&(i+=_I),t.filter(s=>!pT(s)).reduce((s,l)=>s+(gI.test(l)?yI:l===""?vI:EI),i)}function AI(a,e){return a.length===e.length&&a.slice(0,-1).every((i,s)=>i===e[s])?a[a.length-1]-e[e.length-1]:0}function SI(a,e,t=!1){let{routesMeta:i}=a,s={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=yf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),A=m.route;if(!T&&g&&t&&!i[i.length-1].route.index&&(T=yf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!T)return null;Object.assign(s,T.params),c.push({params:s,pathname:ir([l,T.pathname]),pathnameBase:CI(ir([l,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(l=ir([l,T.pathnameBase]))}return c}function yf(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[t,i]=wI(a.path,a.caseSensitive,a.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:T},A)=>{if(_==="*"){let C=d[A]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const D=d[A];return T&&!D?g[_]=void 0:g[_]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:a}}function wI(a,e=!1,t=!0){wi(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],s="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(i.push({paramName:"*"}),s+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":a!==""&&a!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function RI(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wi(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function ar(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=a.charAt(t);return i&&i!=="/"?null:a.slice(t)||"/"}function II(a,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof a=="string"?rl(a):a;return{pathname:t?t.startsWith("/")?t:DI(t,e):e,search:VI(i),hash:NI(s)}}function DI(a,e){let t=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Sp(a,e,t,i){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xI(a){return a.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function lb(a){let e=xI(a);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function ub(a,e,t,i=!1){let s;typeof a=="string"?s=rl(a):(s={...a},dt(!s.pathname||!s.pathname.includes("?"),Sp("?","pathname","search",s)),dt(!s.pathname||!s.pathname.includes("#"),Sp("#","pathname","hash",s)),dt(!s.search||!s.search.includes("#"),Sp("#","search","hash",s)));let l=a===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),T-=1;s.pathname=A.join("/")}d=T>=0?e[T]:"/"}let m=II(s,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var ir=a=>a.join("/").replace(/\/\/+/g,"/"),CI=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),VI=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,NI=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function OI(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var cb=["POST","PUT","PATCH","DELETE"];new Set(cb);var MI=["GET",...cb];new Set(MI);var al=ee.createContext(null);al.displayName="DataRouter";var jf=ee.createContext(null);jf.displayName="DataRouterState";var hb=ee.createContext({isTransitioning:!1});hb.displayName="ViewTransition";var PI=ee.createContext(new Map);PI.displayName="Fetchers";var LI=ee.createContext(null);LI.displayName="Await";var xi=ee.createContext(null);xi.displayName="Navigation";var lc=ee.createContext(null);lc.displayName="Location";var cr=ee.createContext({outlet:null,matches:[],isDataRoute:!1});cr.displayName="Route";var Tg=ee.createContext(null);Tg.displayName="RouteError";function zI(a,{relative:e}={}){dt(uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=ee.useContext(xi),{hash:s,pathname:l,search:c}=cc(a,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ir([t,l])),i.createHref({pathname:d,search:c,hash:s})}function uc(){return ee.useContext(lc)!=null}function As(){return dt(uc(),"useLocation() may be used only in the context of a <Router> component."),ee.useContext(lc).location}var fb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function db(a){ee.useContext(xi).static||ee.useLayoutEffect(a)}function kI(){let{isDataRoute:a}=ee.useContext(cr);return a?ZI():UI()}function UI(){dt(uc(),"useNavigate() may be used only in the context of a <Router> component.");let a=ee.useContext(al),{basename:e,navigator:t}=ee.useContext(xi),{matches:i}=ee.useContext(cr),{pathname:s}=As(),l=JSON.stringify(lb(i)),c=ee.useRef(!1);return db(()=>{c.current=!0}),ee.useCallback((m,g={})=>{if(wi(c.current,fb),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=ub(m,JSON.parse(l),s,g.relative==="path");a==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ir([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,s,a])}ee.createContext(null);function cc(a,{relative:e}={}){let{matches:t}=ee.useContext(cr),{pathname:i}=As(),s=JSON.stringify(lb(t));return ee.useMemo(()=>ub(a,JSON.parse(s),i,e==="path"),[a,s,i,e])}function BI(a,e){return mb(a,e)}function mb(a,e,t,i){var ae;dt(uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=ee.useContext(xi),{matches:c}=ee.useContext(cr),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let Z=T&&T.path||"";pb(g,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let A=As(),D;if(e){let Z=typeof e=="string"?rl(e):e;dt(_==="/"||((ae=Z.pathname)==null?void 0:ae.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),D=Z}else D=A;let C=D.pathname||"/",G=C;if(_!=="/"){let Z=_.replace(/^\//,"").split("/");G="/"+C.replace(/^\//,"").split("/").slice(Z.length).join("/")}let k=!l&&t&&t.matches&&t.matches.length>0?t.matches:ab(a,{pathname:G});wi(T||k!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),wi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=HI(k&&k.map(Z=>Object.assign({},Z,{params:Object.assign({},m,Z.params),pathname:ir([_,s.encodeLocation?s.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?_:ir([_,s.encodeLocation?s.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),c,t,i);return e&&Y?ee.createElement(lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},Y):Y}function qI(){let a=XI(),e=OI(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),t=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",a),c=ee.createElement(ee.Fragment,null,ee.createElement("p",null,"💿 Hey developer 👋"),ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ee.createElement("code",{style:l},"ErrorBoundary")," or"," ",ee.createElement("code",{style:l},"errorElement")," prop on your route.")),ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),t?ee.createElement("pre",{style:s},t):null,c)}var jI=ee.createElement(qI,null),FI=class extends ee.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?ee.createElement(cr.Provider,{value:this.props.routeContext},ee.createElement(Tg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GI({routeContext:a,match:e,children:t}){let i=ee.useContext(al);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),ee.createElement(cr.Provider,{value:a},t)}function HI(a,e=[],t=null,i=null){if(a==null){if(!t)return null;if(t.errors)a=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)a=t.matches;else return null}let s=a,l=t==null?void 0:t.errors;if(l!=null){let m=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<s.length;m++){let g=s[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:_,errors:T}=t,A=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||A){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((m,g,_)=>{let T,A=!1,D=null,C=null;t&&(T=l&&g.route.id?l[g.route.id]:void 0,D=g.route.errorElement||jI,c&&(d<0&&_===0?(pb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,C=null):d===_&&(A=!0,C=g.route.hydrateFallbackElement||null)));let G=e.concat(s.slice(0,_+1)),k=()=>{let Y;return T?Y=D:A?Y=C:g.route.Component?Y=ee.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=m,ee.createElement(GI,{match:g,routeContext:{outlet:m,matches:G,isDataRoute:t!=null},children:Y})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?ee.createElement(FI,{location:t.location,revalidation:t.revalidation,component:D,error:T,children:k(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):k()},null)}function bg(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KI(a){let e=ee.useContext(al);return dt(e,bg(a)),e}function QI(a){let e=ee.useContext(jf);return dt(e,bg(a)),e}function YI(a){let e=ee.useContext(cr);return dt(e,bg(a)),e}function Ag(a){let e=YI(a),t=e.matches[e.matches.length-1];return dt(t.route.id,`${a} can only be used on routes that contain a unique "id"`),t.route.id}function $I(){return Ag("useRouteId")}function XI(){var i;let a=ee.useContext(Tg),e=QI("useRouteError"),t=Ag("useRouteError");return a!==void 0?a:(i=e.errors)==null?void 0:i[t]}function ZI(){let{router:a}=KI("useNavigate"),e=Ag("useNavigate"),t=ee.useRef(!1);return db(()=>{t.current=!0}),ee.useCallback(async(s,l={})=>{wi(t.current,fb),t.current&&(typeof s=="number"?a.navigate(s):await a.navigate(s,{fromRouteId:e,...l}))},[a,e])}var gT={};function pb(a,e,t){!e&&!gT[a]&&(gT[a]=!0,wi(!1,t))}ee.memo(JI);function JI({routes:a,future:e,state:t}){return mb(a,void 0,t,e)}function rf(a){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WI({basename:a="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:l=!1}){dt(!uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=a.replace(/^\/*/,"/"),d=ee.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof t=="string"&&(t=rl(t));let{pathname:m="/",search:g="",hash:_="",state:T=null,key:A="default"}=t,D=ee.useMemo(()=>{let C=ar(m,c);return C==null?null:{location:{pathname:C,search:g,hash:_,state:T,key:A},navigationType:i}},[c,m,g,_,T,A,i]);return wi(D!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:ee.createElement(xi.Provider,{value:d},ee.createElement(lc.Provider,{children:e,value:D}))}function e1({children:a,location:e}){return BI(Bp(a),e)}function Bp(a,e=[]){let t=[];return ee.Children.forEach(a,(i,s)=>{if(!ee.isValidElement(i))return;let l=[...e,s];if(i.type===ee.Fragment){t.push.apply(t,Bp(i.props.children,l));return}dt(i.type===rf,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Bp(i.props.children,l)),t.push(c)}),t}var af="get",sf="application/x-www-form-urlencoded";function Ff(a){return a!=null&&typeof a.tagName=="string"}function t1(a){return Ff(a)&&a.tagName.toLowerCase()==="button"}function n1(a){return Ff(a)&&a.tagName.toLowerCase()==="form"}function i1(a){return Ff(a)&&a.tagName.toLowerCase()==="input"}function r1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function a1(a,e){return a.button===0&&(!e||e==="_self")&&!r1(a)}var $h=null;function s1(){if($h===null)try{new FormData(document.createElement("form"),0),$h=!1}catch{$h=!0}return $h}var o1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wp(a){return a!=null&&!o1.has(a)?(wi(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sf}"`),null):a}function l1(a,e){let t,i,s,l,c;if(n1(a)){let d=a.getAttribute("action");i=d?ar(d,e):null,t=a.getAttribute("method")||af,s=wp(a.getAttribute("enctype"))||sf,l=new FormData(a)}else if(t1(a)||i1(a)&&(a.type==="submit"||a.type==="image")){let d=a.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=a.getAttribute("formaction")||d.getAttribute("action");if(i=m?ar(m,e):null,t=a.getAttribute("formmethod")||d.getAttribute("method")||af,s=wp(a.getAttribute("formenctype"))||wp(d.getAttribute("enctype"))||sf,l=new FormData(d,a),!s1()){let{name:g,type:_,value:T}=a;if(_==="image"){let A=g?`${g}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else g&&l.append(g,T)}}else{if(Ff(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=af,i=null,s=sf,c=a}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}function Sg(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function u1(a,e){if(a.id in e)return e[a.id];try{let t=await import(a.module);return e[a.id]=t,t}catch(t){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function c1(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function h1(a,e,t){let i=await Promise.all(a.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await u1(l,t);return c.links?c.links():[]}return[]}));return p1(i.flat(1).filter(c1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function yT(a,e,t,i,s,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var _;return t[g].pathname!==m.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var T;let _=i.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let A=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(a,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function f1(a,e,{includeHydrateFallback:t}={}){return d1(a.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function d1(a){return[...new Set(a)]}function m1(a){let e={},t=Object.keys(a).sort();for(let i of t)e[i]=a[i];return e}function p1(a,e){let t=new Set;return new Set(e),a.reduce((i,s)=>{let l=JSON.stringify(m1(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}var g1=new Set([100,101,204,205]);function y1(a,e){let t=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return t.pathname==="/"?t.pathname="_root.data":e&&ar(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function gb(){let a=ee.useContext(al);return Sg(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function _1(){let a=ee.useContext(jf);return Sg(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var wg=ee.createContext(void 0);wg.displayName="FrameworkContext";function yb(){let a=ee.useContext(wg);return Sg(a,"You must render this element inside a <HydratedRouter> element"),a}function v1(a,e){let t=ee.useContext(wg),[i,s]=ee.useState(!1),[l,c]=ee.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,A=ee.useRef(null);ee.useEffect(()=>{if(a==="render"&&c(!0),a==="viewport"){let G=Y=>{Y.forEach(ae=>{c(ae.isIntersecting)})},k=new IntersectionObserver(G,{threshold:.5});return A.current&&k.observe(A.current),()=>{k.disconnect()}}},[a]),ee.useEffect(()=>{if(i){let G=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(G)}}},[i]);let D=()=>{s(!0)},C=()=>{s(!1),c(!1)};return t?a!=="intent"?[l,A,{}]:[l,A,{onFocus:wu(d,D),onBlur:wu(m,C),onMouseEnter:wu(g,D),onMouseLeave:wu(_,C),onTouchStart:wu(T,D)}]:[!1,A,{}]}function wu(a,e){return t=>{a&&a(t),t.defaultPrevented||e(t)}}function E1({page:a,...e}){let{router:t}=gb(),i=ee.useMemo(()=>ab(t.routes,a,t.basename),[t.routes,a,t.basename]);return i?ee.createElement(b1,{page:a,matches:i,...e}):null}function T1(a){let{manifest:e,routeModules:t}=yb(),[i,s]=ee.useState([]);return ee.useEffect(()=>{let l=!1;return h1(a,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[a,e,t]),i}function b1({page:a,matches:e,...t}){let i=As(),{manifest:s,routeModules:l}=yb(),{basename:c}=gb(),{loaderData:d,matches:m}=_1(),g=ee.useMemo(()=>yT(a,e,m,s,i,"data"),[a,e,m,s,i]),_=ee.useMemo(()=>yT(a,e,m,s,i,"assets"),[a,e,m,s,i]),T=ee.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let C=new Set,G=!1;if(e.forEach(Y=>{var Z;let ae=s.routes[Y.route.id];!ae||!ae.hasLoader||(!g.some(me=>me.route.id===Y.route.id)&&Y.route.id in d&&((Z=l[Y.route.id])!=null&&Z.shouldRevalidate)||ae.hasClientLoader?G=!0:C.add(Y.route.id))}),C.size===0)return[];let k=y1(a,c);return G&&C.size>0&&k.searchParams.set("_routes",e.filter(Y=>C.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[k.pathname+k.search]},[c,d,i,s,g,e,a,l]),A=ee.useMemo(()=>f1(_,s),[_,s]),D=T1(_);return ee.createElement(ee.Fragment,null,T.map(C=>ee.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),A.map(C=>ee.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),D.map(({key:C,link:G})=>ee.createElement("link",{key:C,...G})))}function A1(...a){return e=>{a.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var _b=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_b&&(window.__reactRouterVersion="7.5.3")}catch{}function S1({basename:a,children:e,window:t}){let i=ee.useRef();i.current==null&&(i.current=hI({window:t,v5Compat:!0}));let s=i.current,[l,c]=ee.useState({action:s.action,location:s.location}),d=ee.useCallback(m=>{ee.startTransition(()=>c(m))},[c]);return ee.useLayoutEffect(()=>s.listen(d),[s,d]),ee.createElement(WI,{basename:a,children:e,location:l.location,navigationType:l.action,navigator:s})}var vb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eb=ee.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:_,viewTransition:T,...A},D){let{basename:C}=ee.useContext(xi),G=typeof g=="string"&&vb.test(g),k,Y=!1;if(typeof g=="string"&&G&&(k=g,_b))try{let R=new URL(window.location.href),M=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=ar(M.pathname,C);M.origin===R.origin&&P!=null?g=P+M.search+M.hash:Y=!0}catch{wi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ae=zI(g,{relative:s}),[Z,me,fe]=v1(i,A),Ee=I1(g,{replace:c,state:d,target:m,preventScrollReset:_,relative:s,viewTransition:T});function V(R){e&&e(R),R.defaultPrevented||Ee(R)}let w=ee.createElement("a",{...A,...fe,href:k||ae,onClick:Y||l?e:V,ref:A1(D,me),target:m,"data-discover":!G&&t==="render"?"true":void 0});return Z&&!G?ee.createElement(ee.Fragment,null,w,ee.createElement(E1,{page:ae})):w});Eb.displayName="Link";var qp=ee.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:d,children:m,...g},_){let T=cc(c,{relative:g.relative}),A=As(),D=ee.useContext(jf),{navigator:C,basename:G}=ee.useContext(xi),k=D!=null&&N1(T)&&d===!0,Y=C.encodeLocation?C.encodeLocation(T).pathname:T.pathname,ae=A.pathname,Z=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(ae=ae.toLowerCase(),Z=Z?Z.toLowerCase():null,Y=Y.toLowerCase()),Z&&G&&(Z=ar(Z,G)||Z);const me=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let fe=ae===Y||!s&&ae.startsWith(Y)&&ae.charAt(me)==="/",Ee=Z!=null&&(Z===Y||!s&&Z.startsWith(Y)&&Z.charAt(Y.length)==="/"),V={isActive:fe,isPending:Ee,isTransitioning:k},w=fe?e:void 0,R;typeof i=="function"?R=i(V):R=[i,fe?"active":null,Ee?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(V):l;return ee.createElement(Eb,{...g,"aria-current":w,className:R,ref:_,style:M,to:c,viewTransition:d},typeof m=="function"?m(V):m)});qp.displayName="NavLink";var w1=ee.forwardRef(({discover:a="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=af,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:T,...A},D)=>{let C=C1(),G=V1(d,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",Y=typeof d=="string"&&vb.test(d),ae=Z=>{if(m&&m(Z),Z.defaultPrevented)return;Z.preventDefault();let me=Z.nativeEvent.submitter,fe=(me==null?void 0:me.getAttribute("formmethod"))||c;C(me||Z.currentTarget,{fetcherKey:e,method:fe,navigate:t,replace:s,state:l,relative:g,preventScrollReset:_,viewTransition:T})};return ee.createElement("form",{ref:D,method:k,action:G,onSubmit:i?m:ae,...A,"data-discover":!Y&&a==="render"?"true":void 0})});w1.displayName="Form";function R1(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tb(a){let e=ee.useContext(al);return dt(e,R1(a)),e}function I1(a,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=kI(),m=As(),g=cc(a,{relative:l});return ee.useCallback(_=>{if(a1(_,e)){_.preventDefault();let T=t!==void 0?t:ju(m)===ju(g);d(a,{replace:T,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[m,d,g,t,i,e,a,s,l,c])}var D1=0,x1=()=>`__${String(++D1)}__`;function C1(){let{router:a}=Tb("useSubmit"),{basename:e}=ee.useContext(xi),t=$I();return ee.useCallback(async(i,s={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=l1(i,e);if(s.navigate===!1){let _=s.fetcherKey||x1();await a.fetch(_,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await a.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[a,e,t])}function V1(a,{relative:e}={}){let{basename:t}=ee.useContext(xi),i=ee.useContext(cr);dt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...cc(a||".",{relative:e})},c=As();if(a==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!a||a===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ir([t,l.pathname])),ju(l)}function N1(a,e={}){let t=ee.useContext(hb);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Tb("useViewTransitionState"),s=cc(a,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ar(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ar(t.nextLocation.pathname,i)||t.nextLocation.pathname;return yf(s.pathname,c)!=null||yf(s.pathname,l)!=null}new TextEncoder;[...g1];const O1="https://xipeRafa.github.io/notassueltas/assets/publicidad0-CHY_KE40.png",M1="https://xipeRafa.github.io/notassueltas/assets/publicidad1-mkK1pIMd.webp";function P1(){return W.jsxs("footer",{children:["CONTACTO:",W.jsx("br",{}),"info  ",W.jsx("span",{children:"📱 662 111 1111"}),W.jsx("br",{}),W.jsx("hr",{}),W.jsx("a",{href:"",target:"_blank",children:"FACEBOOK ↗"}),W.jsx("br",{}),"correo@gmail.com",W.jsx("hr",{}),"Horario: ",W.jsx("br",{}),"Lunes a Viernes de 8 am a 8 pm ",W.jsx("br",{}),"Sabados de 8 am a 4 pm",W.jsx("br",{}),W.jsx("hr",{}),"hello!!!",W.jsx("br",{}),"Hermosillo, Sonora ",W.jsx("br",{})]})}function L1(){const[a,e]=ee.useState(!0),t=window.innerWidth,i=()=>{t<999&&e(!0)};return W.jsxs("div",{className:"navBar",children:[W.jsxs("div",{onClick:()=>e(!a),className:"hamburger",children:[W.jsxs("div",{className:"menu-bar",children:[W.jsx("div",{className:"uno"}),W.jsx("div",{className:"dos"}),W.jsx("div",{className:"tres"})]}),W.jsx("span",{className:"menuX",children:a?"MENU":"✘"})]}),W.jsxs("div",{className:a?"menu ":"menu display",onClick:i,children:[W.jsx(qp,{to:"/notassueltas",onClick:()=>window.scrollTo(0,0),children:" Inicio "}),W.jsx(qp,{to:"/notassueltas/CENACULOS",onClick:()=>window.scrollTo(0,0),children:" holis "})]})]})}const z1="https://xipeRafa.github.io/notassueltas/assets/n0-CnfOGzzs.webp",k1="https://xipeRafa.github.io/notassueltas/assets/n1-B2H49Yz-.webp",U1="https://xipeRafa.github.io/notassueltas/assets/banner-h-ns-BVK_SyPg.webp",B1="https://xipeRafa.github.io/notassueltas/assets/publicidad2-Djr5XKDk.webp",q1="https://xipeRafa.github.io/notassueltas/assets/publicidad3-SNSf9SOy.webp",j1="https://xipeRafa.github.io/notassueltas/assets/publicidad4-CeMKdsf1.webp";function _T(){const a=ee.useRef(),e=()=>{a.current.scroll({top:0}),window.scrollTo(0,0)},[t,i]=ee.useState([{img:z1,titulo:"Justicia en manos del pueblo: elecciones judiciales en Sonora",descripcionHeader:"El pasado 1 de junio de 2025, México vivió un momento histórico al celebrar por primera vez elecciones para renovar más de 2,600 cargos del Poder Judicial, incluyendo ministros de la Suprema Corte, magistrados y jueces federales y locales. Este proceso, impulsado por la reforma constitucional de 2024, busca abrir las puertas de la justicia a la participación ciudadana y democratizar uno de los poderes más importantes del Estado.",descripcion:[{d:"El pasado 1 de junio de 2025, México vivió un momento histórico al celebrar por primera vez elecciones para renovar más de 2,600 cargos del Poder Judicial, incluyendo ministros de la Suprema Corte, magistrados y jueces federales y locales. Este proceso, impulsado por la reforma constitucional de 2024, busca abrir las puertas de la justicia a la participación ciudadana y democratizar uno de los poderes más importantes del Estado."},{d:"En Sonora, este ejercicio democrático también marcó un precedente: por primera vez, la ciudadanía eligió directamente a tres ministras y ministros del Supremo Tribunal de Justicia del Estado. Estos nuevos representantes judiciales tendrán en sus manos decisiones que impactan directamente a la sociedad, desde controversias legales hasta derechos fundamentales. Sin embargo, el camino hacia este hito estuvo marcado por desafíos, incertidumbres y una participación ciudadana mucho menor a la esperada."},{d:"Participación ciudadana: un reto persistente"},{d:"A pesar de la magnitud de estas elecciones y de la expectativa generada por la reforma, la participación en Sonora fue notablemente baja. Según datos del Instituto Estatal Electoral y de Participación Ciudadana (IEE Sonora), apenas el 9.27% del padrón electoral acudió a las urnas, lo que equivale a poco más de 216,000 votantes de un universo superior a los 2.3 millones de ciudadanos registrados."},{d:"Este fenómeno de apatía no fue exclusivo de Sonora. A nivel nacional, la participación promedio apenas superó el 13%, confirmando una tendencia preocupante: la falta de información y de confianza en las instituciones públicas aún pesa más que la emoción de un cambio. Muchos ciudadanos no comprendieron del todo la relevancia de estas elecciones ni tuvieron acceso a datos claros sobre las trayectorias y propuestas de los candidatos."},{d:"Organizaciones como Sonora Transparente y el Centro de Estudios Sociales del Norte coinciden en señalar que la falta de campañas efectivas de información y la complejidad del nuevo sistema generaron confusión y desinterés. “No sabíamos quiénes eran los candidatos, cuáles eran sus propuestas, ni qué papel desempeñarían realmente estos jueces electos”, comenta Margarita Córdova, habitante de Hermosillo y promotora comunitaria."},{d:"Resultados preliminares: caras nuevas y retos viejos"},{d:"En la contienda para ministras del Supremo Tribunal de Justicia del Estado, Ana Patricia Briceño Torres se colocó en primer lugar con el 32.7% de los votos, seguida por Violeta Ybarra Escalante (20.6%) y María del Carmen Soto Esquer (18.8%). En la categoría masculina, Eduardo Sánchez Moreno obtuvo el 72.3% de las preferencias, superando a José Gilberto Meza Escalante, que alcanzó el 27.6%."},{d:"Estos resultados representan la voluntad de los votantes que, aunque en baja proporción, decidieron apostar por perfiles nuevos en la justicia estatal. Sin embargo, también abren interrogantes sobre la idoneidad de algunos candidatos y el riesgo de que la justicia pueda verse influenciada por intereses políticos o empresariales."},{d:"Una jornada electoral sin contratiempos mayores"},{d:"El proceso electoral en Sonora se desarrolló sin incidentes graves. El IEE Sonora informó que se registraron 65 incidencias menores, como apertura tardía de casillas, ausencia de funcionarios y proselitismo en las inmediaciones de los centros de votación. Estos incidentes, aunque lamentables, no afectaron la instalación y funcionamiento de las casillas, que operaron en su totalidad."},{d:"El esfuerzo de las autoridades electorales y de los observadores ciudadanos permitió que, pese a las dudas iniciales, el proceso concluyera sin mayores tropiezos. Sin embargo, el verdadero reto está en lo que sigue: garantizar que los nuevos ministros y ministras respondan a las demandas de justicia de los sonorenses y actúen con independencia y transparencia."},{d:"La reforma judicial en debate"},{d:"La reforma que permitió estas elecciones fue aprobada en 2024 con el objetivo de transparentar la impartición de justicia y reducir la opacidad en el Poder Judicial. Según sus defensores, abrir los tribunales a la decisión directa de la ciudadanía permitirá que los jueces respondan a las necesidades reales de la población y se mantengan alejados de acuerdos políticos en la cúpula del poder."},{d:"No obstante, críticos como el jurista Alejandro Valenzuela señalan que la reforma tiene un riesgo claro: la politización de la justicia. “Un juez o magistrado debe ser independiente, no estar sujeto a los vaivenes de la opinión pública o de grupos de interés. Hay que tener cuidado de no convertir la justicia en un espacio de competencia política más”, advierte Valenzuela."},{d:"En el contexto de Sonora, estas preocupaciones se amplifican debido a los problemas estructurales que enfrenta el estado: altos índices de inseguridad, desigualdad social, corrupción y falta de confianza en las instituciones. Si la ciudadanía no percibe un verdadero cambio en el funcionamiento del Poder Judicial, la legitimidad de estos nuevos jueces y magistrados podría verse cuestionada."},{d:"Reacciones y posturas: voces a favor y en contra"},{d:"Las reacciones tras la jornada electoral no se hicieron esperar. Desde el Ejecutivo estatal, el gobernador Alfonso Durazo reconoció el esfuerzo de la ciudadanía que salió a participar y expresó su confianza en que los nuevos ministros aportarán a la transformación de la justicia en el estado. “Es un paso firme hacia una justicia más cercana a la gente”, declaró durante una rueda de prensa posterior al conteo preliminar."},{d:"Por otro lado, diversas organizaciones de la sociedad civil advirtieron que estos resultados deben ser acompañados de mecanismos de seguimiento y control. Causa Común Sonora, por ejemplo, llamó a vigilar de cerca la actuación de los jueces electos y a exigirles transparencia y rendición de cuentas, especialmente en casos de alto impacto social como feminicidios, desapariciones forzadas y corrupción en la función pública."},{d:"“Si queremos que la justicia sea verdaderamente ciudadana, necesitamos exigir resultados. La elección es solo el primer paso; ahora viene el trabajo de construcción de confianza y credibilidad”, afirmó la abogada y activista María José Peralta."}],descripcion2:[{d:"Voces ciudadanas: entre el Escepticismo y la Esperanza"},{d:"En las calles de Hermosillo, Cajeme y Nogales, las opiniones son variadas. Para muchos, la elección pasó casi desapercibida. “Nadie me explicó bien para qué eran estas elecciones, y no conocía a los candidatos”, comentó Francisco Ramírez, comerciante del centro de Hermosillo."},{d:"Sin embargo, hay quienes ven esta apertura como una oportunidad para que los tribunales dejen de ser percibidos como entes lejanos y poco confiables. “Si los jueces saben que tienen que dar la cara a la gente, van a pensarlo dos veces antes de dejarse presionar por intereses políticos”, señaló Alejandra Valdez, estudiante de derecho de la Universidad de Sonora."},{d:"Estas voces reflejan el pulso ciudadano: una mezcla de desconfianza histórica y un atisbo de optimismo frente a un cambio que, aunque modesto en participación, podría sentar bases para una nueva cultura cívica en la impartición de justicia."},{d:"Desafíos por delante: el gran reto de legitimar el Poder Judicial"},{d:"Los expertos coinciden en que la baja participación representa un reto enorme para la legitimidad de este proceso. “Sin información clara y con tan poca participación, estos jueces llegan con un mandato ciudadano muy débil”, advierte el politólogo Luis Alberto Reyes."},{d:"Esto implica la necesidad de repensar la manera en que se comunica la relevancia de estas elecciones y de fortalecer la educación cívica desde temprana edad. Además, se vuelve urgente garantizar la independencia de los nuevos ministros: aunque hayan sido electos por voto popular, su función no es la de agradar a las mayorías, sino la de aplicar la ley de forma imparcial."},{d:"En este sentido, la elección judicial también debe entenderse como parte de un proceso más amplio de modernización del sistema político y de reconstrucción de la confianza social en las instituciones. La falta de participación no puede ser ignorada, pero tampoco debe ser excusa para retroceder en este intento de democratizar uno de los poderes más cerrados del país."},{d:"Un camino por recorrer"},{d:"Sonora tiene ahora la responsabilidad de demostrar que esta histórica elección no se convertirá en un ejercicio aislado, sino en el inicio de una transformación profunda. Los próximos meses serán decisivos: la actuación de los jueces electos, su independencia y compromiso, y la forma en que la ciudadanía los observe y les exija cuentas serán el verdadero termómetro de este cambio."},{d:"Al mismo tiempo, esta experiencia deja varias lecciones claras para el futuro. La primera: la información es poder. Sin campañas claras y accesibles, la ciudadanía difícilmente se involucrará en procesos tan técnicos y especializados como la elección de ministros judiciales. La segunda: la justicia no puede quedarse solo en discursos. Requiere de acciones, vigilancia y participación constante para convertirse en una herramienta real de equidad y paz social."},{d:"Conclusión: la justicia, un tema de todos"},{d:"Las elecciones judiciales de 2025 son un hito que no debe pasar desapercibido. Aunque la participación fue baja y el proceso enfrentó críticas y dudas, representan un parteaguas para la democracia y la justicia en Sonora y en México."},{d:"Ahora, más que nunca, la ciudadanía tiene la oportunidad y la responsabilidad de involucrarse, de exigir resultados y de entender que la justicia es un asunto que nos concierne a todos. Porque, al final del día, el verdadero cambio no depende únicamente de quienes ocupan las sillas del tribunal, sino de la voluntad colectiva de construir una sociedad más justa, donde la ley sea respetada y la dignidad humana sea defendida por encima de todo."}],fecha:"1 de Junio de 2025"},{img:k1,titulo:"Sonora en crecimiento: la fuerza de su economía en 2025",descripcionHeader:"Sonora, tierra de sol y de oportunidades, ha comenzado 2025 con cifras que confirman su posición como uno de los motores económicos más importantes del norte de México. Desde la minería y la agricultura hasta el turismo y la innovación tecnológica, el estado ha sabido combinar tradición y modernidad para construir un panorama económico sólido y en expansión.",descripcion:[{d:"Sonora, tierra de sol y de oportunidades, ha comenzado 2025 con cifras que confirman su posición como uno de los motores económicos más importantes del norte de México. Desde la minería y la agricultura hasta el turismo y la innovación tecnológica, el estado ha sabido combinar tradición y modernidad para construir un panorama económico sólido y en expansión."},{d:"Según datos recientes de la Secretaría de Economía estatal, Sonora alcanzó un récord histórico en su Indicador Anualizado de la Actividad Económica, llegando a los 105.8 puntos al cierre de 2024. Este crecimiento refleja no solo la recuperación tras la pandemia, sino también la consolidación de políticas públicas que han impulsado la inversión, la competitividad y la inclusión social."},{d:"Minería: el corazón de la economía sonorense"},{d:"La minería sigue siendo la columna vertebral de la economía de Sonora. Con más de 100 proyectos mineros activos, el estado produce el 34% del cobre a nivel nacional y es uno de los principales exportadores de oro y plata. Empresas como Grupo México y Fresnillo plc han reforzado sus operaciones en la región, generando empleos directos e indirectos y fortaleciendo las cadenas productivas locales."},{d:"Este sector, sin embargo, no está exento de retos. Las preocupaciones ambientales y las demandas de las comunidades han llevado a que el gobierno estatal y las empresas mineras intensifiquen sus esfuerzos de responsabilidad social. Expertos como la economista Lourdes Martínez subrayan que el verdadero crecimiento económico debe ir de la mano de un desarrollo sustentable que respete los derechos de las comunidades y los ecosistemas locales."},{d:"Agricultura y agroindustria: del campo al mercado global"},{d:"Sonora también destaca como un líder nacional en la producción agrícola. Sus campos producen más de 10 millones de toneladas de trigo, espárrago, uva, cítricos y hortalizas que abastecen tanto el mercado interno como las exportaciones hacia Estados Unidos y Canadá."},{d:"La agroindustria sonorense, además, ha logrado posicionarse como un sector estratégico en la cadena de valor, generando empleo en zonas rurales y contribuyendo a la estabilidad económica de miles de familias."},{d:"No obstante, la sequía y la falta de agua siguen siendo desafíos críticos para el sector agrícola. La región enfrenta una crisis hídrica que ha llevado a la búsqueda de soluciones innovadoras, como la tecnificación de riego y la implementación de proyectos de reúso de agua. Estas iniciativas no solo son vitales para garantizar la continuidad de las actividades productivas, sino también para asegurar la sustentabilidad a largo plazo."},{d:"Turismo: la fuerza de la hospitalidad sonorense"},{d:"El turismo, aunque no es el principal motor de la economía estatal, ha experimentado un crecimiento sostenido en los últimos años. Destinos como Puerto Peñasco, San Carlos y Álamos se han consolidado como puntos de atracción tanto para el turismo nacional como para el internacional."},{d:"La Secretaría de Turismo de Sonora reportó que en 2024 se registró un incremento del 15% en la llegada de visitantes en comparación con 2023, lo que se traduce en una mayor derrama económica para comunidades locales y una reactivación de servicios como la hotelería, la gastronomía y el comercio artesanal."},{d:"El reto para este sector, según la analista de turismo Carolina Sánchez, es mantener la calidad y sostenibilidad de los destinos, especialmente en zonas costeras donde el crecimiento turístico debe equilibrarse con la protección de los ecosistemas marinos y la identidad cultural de las comunidades."},{d:"Innovación tecnológica: la nueva frontera económica"},{d:"En los últimos años, Sonora ha comenzado a perfilarse como un estado que apuesta por la innovación y la tecnología como motores de su desarrollo económico. Proyectos como el Distrito de Innovación de Hermosillo y la llegada de empresas tecnológicas nacionales e internacionales han creado un ambiente propicio para el emprendimiento y la transferencia de conocimiento."},{d:"Las universidades y centros de investigación, como la Universidad de Sonora y el Tecnológico de Monterrey campus Sonora Norte, han impulsado programas de formación en áreas como energías limpias, inteligencia artificial y biotecnología. Esto no solo fomenta la competitividad de los jóvenes sonorenses, sino que también fortalece la economía del conocimiento, abriendo oportunidades para diversificar la base productiva del estado."},{d:"El secretario de Economía de Sonora, Armando Villa, ha destacado que uno de los objetivos principales de su administración es lograr que el estado no dependa exclusivamente de sectores tradicionales como la minería o la agricultura, sino que se convierta en un hub de innovación y desarrollo tecnológico para la región norte del país."}],descripcion2:[{d:"Retos persistentes: desigualdad y sostenibilidad"},{d:"A pesar de los avances y las cifras positivas, la economía de Sonora enfrenta desafíos estructurales que no pueden ser ignorados. La desigualdad social y la brecha entre zonas urbanas y rurales siguen siendo una realidad para miles de familias. Según el Consejo Nacional de Evaluación de la Política de Desarrollo Social (CONEVAL), aunque la pobreza extrema ha disminuido ligeramente en los últimos cinco años, más del 20% de la población aún carece de acceso a servicios básicos y oportunidades de desarrollo."},{d:"La sostenibilidad ambiental también es un punto clave en la agenda económica. El crecimiento de sectores como la minería y la agricultura intensiva ha generado tensiones con comunidades indígenas y organizaciones ambientalistas, que reclaman mayor participación en la toma de decisiones y respeto por los recursos naturales."},{d:"Para la investigadora Rosaura Medina, especialista en desarrollo sustentable, “Sonora tiene un enorme potencial económico, pero debe ser gestionado con una visión de justicia social y ambiental que asegure que el crecimiento beneficie a todas las personas y no destruya el patrimonio natural del estado”."},{d:"Opiniones ciudadanas: confianza y cautela"},{d:"En las calles de Hermosillo, Guaymas y Navojoa, las reacciones ante el auge económico son mixtas. Mientras que empresarios y comerciantes expresan optimismo por las oportunidades de inversión y empleo, trabajadores agrícolas y habitantes de comunidades mineras siguen reclamando mejores condiciones laborales y mayor protección social."},{d:"“Vemos que hay dinero, que hay proyectos, pero muchas veces no llegan hasta nosotros”, comenta Juan Valenzuela, trabajador agrícola en la costa de Hermosillo. Por otro lado, Patricia Salcido, propietaria de una pequeña cafetería en el centro histórico, destaca cómo el turismo y la cultura han dinamizado la economía local. “Ahora tenemos más clientes y más oportunidades para crecer”, afirma."},{d:"Estas voces reflejan la complejidad del momento económico que vive Sonora: una región en expansión, pero que aún debe asegurar que sus frutos se repartan de manera más equitativa."},{d:"Perspectivas y futuro de la economía sonorense"},{d:"De cara a los próximos años, expertos coinciden en que Sonora tiene la oportunidad de consolidarse como un estado líder en desarrollo económico en el norte de México. El reto será balancear el impulso de sectores tradicionales con la innovación, garantizar un crecimiento sostenible e incluyente y mantener la confianza de la ciudadanía y de los inversionistas."},{d:"El secretario de Economía estatal ha anunciado que en 2025 se lanzará un programa integral de apoyo a las micro, pequeñas y medianas empresas (MiPyMEs), con financiamiento y capacitación para fortalecer el tejido económico local. Además, se espera la firma de acuerdos de colaboración con empresas tecnológicas para impulsar la transformación digital en el sector agropecuario y en la industria manufacturera."},{d:"Estos esfuerzos, sin embargo, solo tendrán éxito si están acompañados de una ciudadanía activa y una política económica que ponga en el centro a las personas y al medio ambiente. Como señala la analista Carolina Sánchez, “Sonora tiene la oportunidad de demostrar que el crecimiento económico no es solo una cifra, sino una herramienta para mejorar la vida de todos sus habitantes”."},{d:"Conclusión"},{d:"Sonora ha iniciado el 2025 con un panorama económico alentador: minería fuerte, agricultura de exportación, turismo en expansión e innovación tecnológica en ciernes. Sin embargo, este crecimiento debe ser vigilado y dirigido para que no se quede en manos de unos pocos, sino que sea una verdadera palanca de desarrollo social, humano y ambiental para toda la región."},{d:"La fuerza de la economía sonorense radica, al final, en su gente: en los productores del campo, los trabajadores de la industria, los emprendedores tecnológicos y las comunidades que día a día construyen el presente y el futuro de este estado."}],fecha:"22 de mayo 2022"}]),[s,l]=ee.useState(!1),[c,d]=ee.useState([{}]),m=g=>{console.log("EL ===>",g[0].descripcion),d(g),l(!0)};return console.log(c),W.jsx(W.Fragment,{children:W.jsxs("header",{children:[W.jsx("h2",{children:" BLOG DE NOTICIAS "}),W.jsx("span",{children:"NOTAS SUELTAS "}),W.jsx("br",{}),W.jsx("br",{}),W.jsx("div",{className:"sombra noticias",children:t.map((g,_)=>W.jsxs("div",{className:"noticia",onClick:()=>m([g]),children:[W.jsx("div",{children:W.jsx("img",{src:g.img})}),W.jsxs("div",{children:[W.jsx("div",{className:"titulo",children:g.titulo}),W.jsxs("div",{className:"descripcion",children:[g.descripcionHeader.slice(0,290),"..."]}),W.jsx("div",{className:"fecha",children:g.fecha})]})]},_))}),W.jsxs("div",{className:s?"modalNoticia":"display-none",ref:a,children:[W.jsx("div",{className:"publicidadModal1",children:W.jsx("img",{src:q1})}),c==null?void 0:c.map((g,_)=>{var T,A;return W.jsxs("div",{className:"ModalNoticiaInfo",children:[W.jsx("button",{className:"regresar",onClick:()=>{l(!1),e()},children:" ⇦ REGRESAR"}),W.jsx("div",{className:"tituloModal",children:g.titulo}),W.jsx("div",{className:"fechaModal",children:g.fecha}),W.jsx("img",{src:g.img,style:{width:"90%"},className:"sombra"}),(T=g==null?void 0:g.descripcion)==null?void 0:T.map((D,C)=>W.jsx("div",{className:"descripcionModal",children:D.d},C)),W.jsx("img",{src:j1,style:{width:"80%"}}),(A=g==null?void 0:g.descripcion2)==null?void 0:A.map((D,C)=>W.jsx("div",{className:"descripcionModal",children:D.d},C)),W.jsx("p",{children:"* Redacción Notas Sueltas *"}),W.jsx("img",{src:U1}),W.jsx("button",{className:"regresar regresarBottom1",onClick:()=>{l(!1),e()},children:" ⇦ REGRESAR"})]},_)}),W.jsxs("div",{className:"publicidadModal2",children:[W.jsx("img",{src:B1}),W.jsx("button",{className:"regresar regresarBottom2",onClick:()=>{l(!1),e()},children:" ⇦ REGRESAR"})]})]})]})})}const F1=()=>{};var vT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=function(a){const e=[];let t=0;for(let i=0;i<a.length;i++){let s=a.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<a.length&&(a.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(a.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},G1=function(a){const e=[];let t=0,i=0;for(;t<a.length;){const s=a[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=a[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=a[t++],c=a[t++],d=a[t++],m=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=a[t++],c=a[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Ab={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<a.length;s+=3){const l=a[s],c=s+1<a.length,d=c?a[s+1]:0,m=s+2<a.length,g=m?a[s+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let A=(d&15)<<2|g>>6,D=g&63;m||(D=64,c||(A=64)),i.push(t[_],t[T],t[A],t[D])}return i.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(bb(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):G1(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<a.length;){const l=t[a.charAt(s++)],d=s<a.length?t[a.charAt(s)]:0;++s;const g=s<a.length?t[a.charAt(s)]:64;++s;const T=s<a.length?t[a.charAt(s)]:64;if(++s,l==null||d==null||g==null||T==null)throw new H1;const A=l<<2|d>>4;if(i.push(A),g!==64){const D=d<<4&240|g>>2;if(i.push(D),T!==64){const C=g<<6&192|T;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class H1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K1=function(a){const e=bb(a);return Ab.encodeByteArray(e,!0)},_f=function(a){return K1(a).replace(/\./g,"")},Sb=function(a){try{return Ab.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vf(a,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Q1(t)||(a[t]=vf(a[t],e[t]));return a}function Q1(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=()=>Rg().__FIREBASE_DEFAULTS__,$1=()=>{if(typeof process>"u"||typeof vT>"u")return;const a=vT.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},X1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Sb(a[1]);return e&&JSON.parse(e)},Ig=()=>{try{return F1()||Y1()||$1()||X1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Z1=a=>{var e,t;return(t=(e=Ig())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[a]},J1=a=>{const e=Z1(a);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},wb=()=>{var a;return(a=Ig())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=a.iat||0,l=a.sub||a.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},a);return[_f(JSON.stringify(t)),_f(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tD(){var a;const e=(a=Ig())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nD(){return typeof window<"u"||Rb()}function Rb(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Ib(){return!tD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Db(){try{return typeof indexedDB=="object"}catch{return!1}}function iD(){return new Promise((a,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),a(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="FirebaseError";class Ss extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=rD,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gf.prototype.create)}}class Gf{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?aD(l,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Ss(s,d,i)}}function aD(a,e){return a.replace(sD,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const sD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(a,e){return Object.prototype.hasOwnProperty.call(a,e)}function Po(a,e){if(a===e)return!0;const t=Object.keys(a),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=a[s],c=e[s];if(TT(l)&&TT(c)){if(!Po(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function TT(a){return a!==null&&typeof a=="object"}function oD(a,e){const t=new lD(a,e);return t.subscribe.bind(t)}class lD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");uD(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Rp),s.error===void 0&&(s.error=Rp),s.complete===void 0&&(s.complete=Rp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uD(a,e){if(typeof a!="object"||a===null)return!1;for(const t of e)if(t in a&&typeof a[t]=="function")return!0;return!1}function Rp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(a){return a&&a._delegate?a._delegate:a}class ds{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new W1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fD(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:hD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hD(a){return a===ts?void 0:a}function fD(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=[];var Le;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Le||(Le={}));const Cb={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},dD=Le.INFO,mD={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},pD=(a,e,...t)=>{if(e<a.logLevel)return;const i=new Date().toISOString(),s=mD[e];if(s)console[s](`[${i}]  ${a.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xg{constructor(e){this.name=e,this._logLevel=dD,this._logHandler=pD,this._userLogHandler=null,Dg.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}function gD(a){Dg.forEach(e=>{e.setLogLevel(a)})}function yD(a,e){for(const t of Dg){let i=null;e&&e.level&&(i=Cb[e.level]),a===null?t.userLogHandler=null:t.userLogHandler=(s,l,...c)=>{const d=c.map(m=>{if(m==null)return null;if(typeof m=="string")return m;if(typeof m=="number"||typeof m=="boolean")return m.toString();if(m instanceof Error)return m.message;try{return JSON.stringify(m)}catch{return null}}).filter(m=>m).join(" ");l>=(i??s.logLevel)&&a({level:Le[l].toLowerCase(),message:d,args:c,type:s.name})}}}const _D=(a,e)=>e.some(t=>a instanceof t);let bT,AT;function vD(){return bT||(bT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ED(){return AT||(AT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vb=new WeakMap,jp=new WeakMap,Nb=new WeakMap,Ip=new WeakMap,Cg=new WeakMap;function TD(a){const e=new Promise((t,i)=>{const s=()=>{a.removeEventListener("success",l),a.removeEventListener("error",c)},l=()=>{t(Zr(a.result)),s()},c=()=>{i(a.error),s()};a.addEventListener("success",l),a.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Vb.set(t,a)}).catch(()=>{}),Cg.set(e,a),e}function bD(a){if(jp.has(a))return;const e=new Promise((t,i)=>{const s=()=>{a.removeEventListener("complete",l),a.removeEventListener("error",c),a.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(a.error||new DOMException("AbortError","AbortError")),s()};a.addEventListener("complete",l),a.addEventListener("error",c),a.addEventListener("abort",c)});jp.set(a,e)}let Fp={get(a,e,t){if(a instanceof IDBTransaction){if(e==="done")return jp.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Nb.get(a);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zr(a[e])},set(a,e,t){return a[e]=t,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function AD(a){Fp=a(Fp)}function SD(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=a.call(Dp(this),e,...t);return Nb.set(i,e.sort?e.sort():[e]),Zr(i)}:ED().includes(a)?function(...e){return a.apply(Dp(this),e),Zr(Vb.get(this))}:function(...e){return Zr(a.apply(Dp(this),e))}}function wD(a){return typeof a=="function"?SD(a):(a instanceof IDBTransaction&&bD(a),_D(a,vD())?new Proxy(a,Fp):a)}function Zr(a){if(a instanceof IDBRequest)return TD(a);if(Ip.has(a))return Ip.get(a);const e=wD(a);return e!==a&&(Ip.set(a,e),Cg.set(e,a)),e}const Dp=a=>Cg.get(a);function RD(a,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(a,e),d=Zr(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Zr(c.result),m.oldVersion,m.newVersion,Zr(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),s&&m.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const ID=["get","getKey","getAll","getAllKeys","count"],DD=["put","add","delete","clear"],xp=new Map;function ST(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(xp.get(e))return xp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=DD.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||ID.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,s?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),s&&m.done]))[0]};return xp.set(e,l),l}AD(a=>({...a,get:(e,t,i)=>ST(e,t)||a.get(e,t,i),has:(e,t)=>!!ST(e,t)||a.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(CD(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function CD(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tf="@firebase/app",Gp="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new xg("@firebase/app"),VD="@firebase/app-compat",ND="@firebase/analytics-compat",OD="@firebase/analytics",MD="@firebase/app-check-compat",PD="@firebase/app-check",LD="@firebase/auth",zD="@firebase/auth-compat",kD="@firebase/database",UD="@firebase/data-connect",BD="@firebase/database-compat",qD="@firebase/functions",jD="@firebase/functions-compat",FD="@firebase/installations",GD="@firebase/installations-compat",HD="@firebase/messaging",KD="@firebase/messaging-compat",QD="@firebase/performance",YD="@firebase/performance-compat",$D="@firebase/remote-config",XD="@firebase/remote-config-compat",ZD="@firebase/storage",JD="@firebase/storage-compat",WD="@firebase/firestore",ex="@firebase/vertexai",tx="@firebase/firestore-compat",nx="firebase",ix="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]",rx={[Tf]:"fire-core",[VD]:"fire-core-compat",[OD]:"fire-analytics",[ND]:"fire-analytics-compat",[PD]:"fire-app-check",[MD]:"fire-app-check-compat",[LD]:"fire-auth",[zD]:"fire-auth-compat",[kD]:"fire-rtdb",[UD]:"fire-data-connect",[BD]:"fire-rtdb-compat",[qD]:"fire-fn",[jD]:"fire-fn-compat",[FD]:"fire-iid",[GD]:"fire-iid-compat",[HD]:"fire-fcm",[KD]:"fire-fcm-compat",[QD]:"fire-perf",[YD]:"fire-perf-compat",[$D]:"fire-rc",[XD]:"fire-rc-compat",[ZD]:"fire-gcs",[JD]:"fire-gcs-compat",[WD]:"fire-fst",[tx]:"fire-fst-compat",[ex]:"fire-vertex","fire-js":"fire-js",[nx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Map,Lo=new Map,zo=new Map;function Fu(a,e){try{a.container.addComponent(e)}catch(t){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,t)}}function Ob(a,e){a.container.addOrOverwriteComponent(e)}function ko(a){const e=a.name;if(zo.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;zo.set(e,a);for(const t of na.values())Fu(t,a);for(const t of Lo.values())Fu(t,a);return!0}function Vg(a,e){const t=a.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),a.container.getProvider(e)}function ax(a,e,t=ta){Vg(a,e).clearInstance(t)}function Mb(a){return a.options!==void 0}function Pb(a){return a==null?!1:a.settings!==void 0}function sx(){zo.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yn=new Gf("app","Firebase",ox);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lb=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(a,e){const t=Sb(a.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const s=JSON.parse(t).exp*1e3,l=new Date().getTime();s-l<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class lx extends Lb{constructor(e,t,i,s){const l=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,c={name:i,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,c,s);else{const d=e;super(d.options,c,s)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:l},t),this._serverConfig.authIdToken&&wT(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&wT(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,rr(Tf,Gp,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Mg(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Yn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=ix;function Og(a,e={}){let t=a;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ta,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Yn.create("bad-app-name",{appName:String(s)});if(t||(t=wb()),!t)throw Yn.create("no-options");const l=na.get(s);if(l){if(Po(t,l.options)&&Po(i,l.config))return l;throw Yn.create("duplicate-app",{appName:s})}const c=new xb(s);for(const m of zo.values())c.addComponent(m);const d=new Lb(t,i,c);return na.set(s,d),d}function ux(a,e){if(nD()&&!Rb())throw Yn.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;Mb(a)?t=a.options:t=a;const i=Object.assign(Object.assign({},e),t);i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=g=>[...g].reduce((_,T)=>Math.imul(31,_)+T.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Yn.create("finalization-registry-not-supported",{});const l=""+s(JSON.stringify(i)),c=Lo.get(l);if(c)return c.incRefCount(e.releaseOnDeref),c;const d=new xb(l);for(const g of zo.values())d.addComponent(g);const m=new lx(t,e,l,d);return Lo.set(l,m),m}function zb(a=ta){const e=na.get(a);if(!e&&a===ta&&wb())return Og();if(!e)throw Yn.create("no-app",{appName:a});return e}function cx(){return Array.from(na.values())}async function Mg(a){let e=!1;const t=a.name;na.has(t)?(e=!0,na.delete(t)):Lo.has(t)&&a.decRefCount()<=0&&(Lo.delete(t),e=!0),e&&(await Promise.all(a.container.getProviders().map(i=>i.delete())),a.isDeleted=!0)}function rr(a,e,t){var i;let s=(i=rx[a])!==null&&i!==void 0?i:a;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(d.join(" "));return}ko(new ds(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function kb(a,e){if(a!==null&&typeof a!="function")throw Yn.create("invalid-log-argument");yD(a,e)}function Ub(a){gD(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="firebase-heartbeat-database",fx=1,Gu="firebase-heartbeat-store";let Cp=null;function Bb(){return Cp||(Cp=RD(hx,fx,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Gu)}catch(t){console.warn(t)}}}}).catch(a=>{throw Yn.create("idb-open",{originalErrorMessage:a.message})})),Cp}async function dx(a){try{const t=(await Bb()).transaction(Gu),i=await t.objectStore(Gu).get(qb(a));return await t.done,i}catch(e){if(e instanceof Ss)sr.warn(e.message);else{const t=Yn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sr.warn(t.message)}}}async function RT(a,e){try{const i=(await Bb()).transaction(Gu,"readwrite");await i.objectStore(Gu).put(e,qb(a)),await i.done}catch(t){if(t instanceof Ss)sr.warn(t.message);else{const i=Yn.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});sr.warn(i.message)}}}function qb(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=1024,px=30;class gx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _x(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=IT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>px){const c=vx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){sr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=IT(),{heartbeatsToSend:i,unsentEntries:s}=yx(this._heartbeatsCache.heartbeats),l=_f(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return sr.warn(t),""}}}function IT(){return new Date().toISOString().substring(0,10)}function yx(a,e=mx){const t=[];let i=a.slice();for(const s of a){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),DT(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),DT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class _x{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Db()?iD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await dx(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return RT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return RT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function DT(a){return _f(JSON.stringify({version:2,heartbeats:a})).length}function vx(a){if(a.length===0)return-1;let e=0,t=a[0].date;for(let i=1;i<a.length;i++)a[i].date<t&&(t=a[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(a){ko(new ds("platform-logger",e=>new xD(e),"PRIVATE")),ko(new ds("heartbeat",e=>new gx(e),"PRIVATE")),rr(Tf,Gp,a),rr(Tf,Gp,"esm2017"),rr("fire-js","")}Ex("");const Tx=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Ss,SDK_VERSION:Ng,_DEFAULT_ENTRY_NAME:ta,_addComponent:Fu,_addOrOverwriteComponent:Ob,_apps:na,_clearComponents:sx,_components:zo,_getProvider:Vg,_isFirebaseApp:Mb,_isFirebaseServerApp:Pb,_registerComponent:ko,_removeServiceInstance:ax,_serverApps:Lo,deleteApp:Mg,getApp:zb,getApps:cx,initializeApp:Og,initializeServerApp:ux,onLog:kb,registerVersion:rr,setLogLevel:Ub},Symbol.toStringTag,{value:"Module"}));var xT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jr,jb;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,w){function R(){}R.prototype=w.prototype,V.D=w.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(M,P,z){for(var x=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)x[Kt-2]=arguments[Kt];return w.prototype[P].apply(M,x)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,w,R){R||(R=0);var M=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)M[P]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(P=0;16>P;++P)M[P]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=V.g[0],R=V.g[1],P=V.g[2];var z=V.g[3],x=w+(z^R&(P^z))+M[0]+3614090360&4294967295;w=R+(x<<7&4294967295|x>>>25),x=z+(P^w&(R^P))+M[1]+3905402710&4294967295,z=w+(x<<12&4294967295|x>>>20),x=P+(R^z&(w^R))+M[2]+606105819&4294967295,P=z+(x<<17&4294967295|x>>>15),x=R+(w^P&(z^w))+M[3]+3250441966&4294967295,R=P+(x<<22&4294967295|x>>>10),x=w+(z^R&(P^z))+M[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=z+(P^w&(R^P))+M[5]+1200080426&4294967295,z=w+(x<<12&4294967295|x>>>20),x=P+(R^z&(w^R))+M[6]+2821735955&4294967295,P=z+(x<<17&4294967295|x>>>15),x=R+(w^P&(z^w))+M[7]+4249261313&4294967295,R=P+(x<<22&4294967295|x>>>10),x=w+(z^R&(P^z))+M[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=z+(P^w&(R^P))+M[9]+2336552879&4294967295,z=w+(x<<12&4294967295|x>>>20),x=P+(R^z&(w^R))+M[10]+4294925233&4294967295,P=z+(x<<17&4294967295|x>>>15),x=R+(w^P&(z^w))+M[11]+2304563134&4294967295,R=P+(x<<22&4294967295|x>>>10),x=w+(z^R&(P^z))+M[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=z+(P^w&(R^P))+M[13]+4254626195&4294967295,z=w+(x<<12&4294967295|x>>>20),x=P+(R^z&(w^R))+M[14]+2792965006&4294967295,P=z+(x<<17&4294967295|x>>>15),x=R+(w^P&(z^w))+M[15]+1236535329&4294967295,R=P+(x<<22&4294967295|x>>>10),x=w+(P^z&(R^P))+M[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=z+(R^P&(w^R))+M[6]+3225465664&4294967295,z=w+(x<<9&4294967295|x>>>23),x=P+(w^R&(z^w))+M[11]+643717713&4294967295,P=z+(x<<14&4294967295|x>>>18),x=R+(z^w&(P^z))+M[0]+3921069994&4294967295,R=P+(x<<20&4294967295|x>>>12),x=w+(P^z&(R^P))+M[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=z+(R^P&(w^R))+M[10]+38016083&4294967295,z=w+(x<<9&4294967295|x>>>23),x=P+(w^R&(z^w))+M[15]+3634488961&4294967295,P=z+(x<<14&4294967295|x>>>18),x=R+(z^w&(P^z))+M[4]+3889429448&4294967295,R=P+(x<<20&4294967295|x>>>12),x=w+(P^z&(R^P))+M[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=z+(R^P&(w^R))+M[14]+3275163606&4294967295,z=w+(x<<9&4294967295|x>>>23),x=P+(w^R&(z^w))+M[3]+4107603335&4294967295,P=z+(x<<14&4294967295|x>>>18),x=R+(z^w&(P^z))+M[8]+1163531501&4294967295,R=P+(x<<20&4294967295|x>>>12),x=w+(P^z&(R^P))+M[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=z+(R^P&(w^R))+M[2]+4243563512&4294967295,z=w+(x<<9&4294967295|x>>>23),x=P+(w^R&(z^w))+M[7]+1735328473&4294967295,P=z+(x<<14&4294967295|x>>>18),x=R+(z^w&(P^z))+M[12]+2368359562&4294967295,R=P+(x<<20&4294967295|x>>>12),x=w+(R^P^z)+M[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=z+(w^R^P)+M[8]+2272392833&4294967295,z=w+(x<<11&4294967295|x>>>21),x=P+(z^w^R)+M[11]+1839030562&4294967295,P=z+(x<<16&4294967295|x>>>16),x=R+(P^z^w)+M[14]+4259657740&4294967295,R=P+(x<<23&4294967295|x>>>9),x=w+(R^P^z)+M[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=z+(w^R^P)+M[4]+1272893353&4294967295,z=w+(x<<11&4294967295|x>>>21),x=P+(z^w^R)+M[7]+4139469664&4294967295,P=z+(x<<16&4294967295|x>>>16),x=R+(P^z^w)+M[10]+3200236656&4294967295,R=P+(x<<23&4294967295|x>>>9),x=w+(R^P^z)+M[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=z+(w^R^P)+M[0]+3936430074&4294967295,z=w+(x<<11&4294967295|x>>>21),x=P+(z^w^R)+M[3]+3572445317&4294967295,P=z+(x<<16&4294967295|x>>>16),x=R+(P^z^w)+M[6]+76029189&4294967295,R=P+(x<<23&4294967295|x>>>9),x=w+(R^P^z)+M[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=z+(w^R^P)+M[12]+3873151461&4294967295,z=w+(x<<11&4294967295|x>>>21),x=P+(z^w^R)+M[15]+530742520&4294967295,P=z+(x<<16&4294967295|x>>>16),x=R+(P^z^w)+M[2]+3299628645&4294967295,R=P+(x<<23&4294967295|x>>>9),x=w+(P^(R|~z))+M[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=z+(R^(w|~P))+M[7]+1126891415&4294967295,z=w+(x<<10&4294967295|x>>>22),x=P+(w^(z|~R))+M[14]+2878612391&4294967295,P=z+(x<<15&4294967295|x>>>17),x=R+(z^(P|~w))+M[5]+4237533241&4294967295,R=P+(x<<21&4294967295|x>>>11),x=w+(P^(R|~z))+M[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=z+(R^(w|~P))+M[3]+2399980690&4294967295,z=w+(x<<10&4294967295|x>>>22),x=P+(w^(z|~R))+M[10]+4293915773&4294967295,P=z+(x<<15&4294967295|x>>>17),x=R+(z^(P|~w))+M[1]+2240044497&4294967295,R=P+(x<<21&4294967295|x>>>11),x=w+(P^(R|~z))+M[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=z+(R^(w|~P))+M[15]+4264355552&4294967295,z=w+(x<<10&4294967295|x>>>22),x=P+(w^(z|~R))+M[6]+2734768916&4294967295,P=z+(x<<15&4294967295|x>>>17),x=R+(z^(P|~w))+M[13]+1309151649&4294967295,R=P+(x<<21&4294967295|x>>>11),x=w+(P^(R|~z))+M[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=z+(R^(w|~P))+M[11]+3174756917&4294967295,z=w+(x<<10&4294967295|x>>>22),x=P+(w^(z|~R))+M[2]+718787259&4294967295,P=z+(x<<15&4294967295|x>>>17),x=R+(z^(P|~w))+M[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+z&4294967295}i.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var R=w-this.blockSize,M=this.B,P=this.h,z=0;z<w;){if(P==0)for(;z<=R;)s(this,V,z),z+=this.blockSize;if(typeof V=="string"){for(;z<w;)if(M[P++]=V.charCodeAt(z++),P==this.blockSize){s(this,M),P=0;break}}else for(;z<w;)if(M[P++]=V[z++],P==this.blockSize){s(this,M),P=0;break}}this.h=P,this.o+=w},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var R=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=R&255,R/=256;for(this.u(V),V=Array(16),w=R=0;4>w;++w)for(var M=0;32>M;M+=8)V[R++]=this.g[w]>>>M&255;return V};function l(V,w){var R=d;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=w(V)}function c(V,w){this.h=w;for(var R=[],M=!0,P=V.length-1;0<=P;P--){var z=V[P]|0;M&&z==w||(R[P]=z,M=!1)}this.g=R}var d={};function m(V){return-128<=V&&128>V?l(V,function(w){return new c([w|0],0>w?-1:0)}):new c([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return k(g(-V));for(var w=[],R=1,M=0;V>=R;M++)w[M]=V/R|0,R*=4294967296;return new c(w,0)}function _(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return k(_(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),M=T,P=0;P<V.length;P+=8){var z=Math.min(8,V.length-P),x=parseInt(V.substring(P,P+z),w);8>z?(z=g(Math.pow(w,z)),M=M.j(z).add(g(x))):(M=M.j(R),M=M.add(g(x)))}return M}var T=m(0),A=m(1),D=m(16777216);a=c.prototype,a.m=function(){if(G(this))return-k(this).m();for(var V=0,w=1,R=0;R<this.g.length;R++){var M=this.i(R);V+=(0<=M?M:4294967296+M)*w,w*=4294967296}return V},a.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(G(this))return"-"+k(this).toString(V);for(var w=g(Math.pow(V,6)),R=this,M="";;){var P=me(R,w).g;R=Y(R,P.j(w));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=P,C(R))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},a.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function C(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function G(V){return V.h==-1}a.l=function(V){return V=Y(this,V),G(V)?-1:C(V)?0:1};function k(V){for(var w=V.g.length,R=[],M=0;M<w;M++)R[M]=~V.g[M];return new c(R,~V.h).add(A)}a.abs=function(){return G(this)?k(this):this},a.add=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],M=0,P=0;P<=w;P++){var z=M+(this.i(P)&65535)+(V.i(P)&65535),x=(z>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);M=x>>>16,z&=65535,x&=65535,R[P]=x<<16|z}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Y(V,w){return V.add(k(w))}a.j=function(V){if(C(this)||C(V))return T;if(G(this))return G(V)?k(this).j(k(V)):k(k(this).j(V));if(G(V))return k(this.j(k(V)));if(0>this.l(D)&&0>V.l(D))return g(this.m()*V.m());for(var w=this.g.length+V.g.length,R=[],M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<V.g.length;P++){var z=this.i(M)>>>16,x=this.i(M)&65535,Kt=V.i(P)>>>16,pt=V.i(P)&65535;R[2*M+2*P]+=x*pt,ae(R,2*M+2*P),R[2*M+2*P+1]+=z*pt,ae(R,2*M+2*P+1),R[2*M+2*P+1]+=x*Kt,ae(R,2*M+2*P+1),R[2*M+2*P+2]+=z*Kt,ae(R,2*M+2*P+2)}for(M=0;M<w;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=w;M<2*w;M++)R[M]=0;return new c(R,0)};function ae(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function Z(V,w){this.g=V,this.h=w}function me(V,w){if(C(w))throw Error("division by zero");if(C(V))return new Z(T,T);if(G(V))return w=me(k(V),w),new Z(k(w.g),k(w.h));if(G(w))return w=me(V,k(w)),new Z(k(w.g),w.h);if(30<V.g.length){if(G(V)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,M=w;0>=M.l(V);)R=fe(R),M=fe(M);var P=Ee(R,1),z=Ee(M,1);for(M=Ee(M,2),R=Ee(R,2);!C(M);){var x=z.add(M);0>=x.l(V)&&(P=P.add(R),z=x),M=Ee(M,1),R=Ee(R,1)}return w=Y(V,P.j(w)),new Z(P,w)}for(P=T;0<=V.l(w);){for(R=Math.max(1,Math.floor(V.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=g(R),x=z.j(w);G(x)||0<x.l(V);)R-=M,z=g(R),x=z.j(w);C(z)&&(z=A),P=P.add(z),V=Y(V,x)}return new Z(P,V)}a.A=function(V){return me(this,V).h},a.and=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],M=0;M<w;M++)R[M]=this.i(M)&V.i(M);return new c(R,this.h&V.h)},a.or=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],M=0;M<w;M++)R[M]=this.i(M)|V.i(M);return new c(R,this.h|V.h)},a.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],M=0;M<w;M++)R[M]=this.i(M)^V.i(M);return new c(R,this.h^V.h)};function fe(V){for(var w=V.g.length+1,R=[],M=0;M<w;M++)R[M]=V.i(M)<<1|V.i(M-1)>>>31;return new c(R,V.h)}function Ee(V,w){var R=w>>5;w%=32;for(var M=V.g.length-R,P=[],z=0;z<M;z++)P[z]=0<w?V.i(z+R)>>>w|V.i(z+R+1)<<32-w:V.i(z+R);return new c(P,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,jb=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Jr=c}).apply(typeof xT<"u"?xT:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fb,Vu,Gb,of,Hp,Hb,Kb,Qb;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,v){return h==Array.prototype||h==Object.prototype||(h[y]=v.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function s(h,y){if(y)e:{var v=i;h=h.split(".");for(var S=0;S<h.length-1;S++){var U=h[S];if(!(U in v))break e;v=v[U]}h=h[h.length-1],S=v[h],y=y(S),y!=S&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var v=0,S=!1,U={next:function(){if(!S&&v<h.length){var Q=v++;return{value:y(Q,h[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(h){return h||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function _(h,y,v){return h.call.apply(h.bind,arguments)}function T(h,y,v){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),h.apply(y,U)}}return function(){return h.apply(y,arguments)}}function A(h,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,A.apply(null,arguments)}function D(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function C(h,y){function v(){}v.prototype=y.prototype,h.aa=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(S,U,Q){for(var oe=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)oe[ze-2]=arguments[ze];return y.prototype[U].apply(S,oe)}}function G(h){const y=h.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=h[S];return v}return[]}function k(h,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(m(S)){const U=h.length||0,Q=S.length||0;h.length=U+Q;for(let oe=0;oe<Q;oe++)h[U+oe]=S[oe]}else h.push(S)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ae(h){return/^[\s\xa0]*$/.test(h)}function Z(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function me(h){return me[" "](h),h}me[" "]=function(){};var fe=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Ee(h,y,v){for(const S in h)y.call(v,h[S],S,h)}function V(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function w(h){const y={};for(const v in h)y[v]=h[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,y){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)h[v]=S[v];for(let Q=0;Q<R.length;Q++)v=R[Q],Object.prototype.hasOwnProperty.call(S,v)&&(h[v]=S[v])}}function P(h){var y=1;h=h.split(":");const v=[];for(;0<y&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function z(h){d.setTimeout(()=>{throw h},0)}function x(){var h=Fe;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Kt{constructor(){this.h=this.g=null}add(y,v){const S=pt.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var pt=new Y(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ve=!1,Fe=new Kt,N=()=>{const h=d.Promise.resolve(void 0);ue=()=>{h.then(ne)}};var ne=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(v){z(v)}var y=pt;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ve=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return h}();function Ce(h,y){if(se.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(fe){e:{try{me(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ce.aa.h.call(this)}}C(Ce,se);var Re={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),nt=0;function ni(h,y,v,S,U){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=U,this.key=++nt,this.da=this.fa=!1}function pr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ci(h){this.src=h,this.g={},this.h=0}Ci.prototype.add=function(h,y,v,S,U){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var oe=_a(h,y,S,U);return-1<oe?(y=h[oe],v||(y.fa=!1)):(y=new ni(y,this.src,Q,!!S,U),y.fa=v,h.push(y)),y};function ya(h,y){var v=y.type;if(v in h.g){var S=h.g[v],U=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=0<=U)&&Array.prototype.splice.call(S,U,1),Q&&(pr(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function _a(h,y,v,S){for(var U=0;U<h.length;++U){var Q=h[U];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==S)return U}return-1}var va="closure_lm_"+(1e6*Math.random()|0),ml={};function wc(h,y,v,S,U){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)wc(h,y[Q],v,S,U);return null}return v=Rc(v),h&&h[kt]?h.K(y,v,g(S)?!!S.capture:!1,U):Mn(h,y,v,!1,S,U)}function Mn(h,y,v,S,U,Q){if(!y)throw Error("Invalid event type");var oe=g(U)?!!U.capture:!!U,ze=Cs(h);if(ze||(h[va]=ze=new Ci(h)),v=ze.add(y,v,S,oe,Q),v.proxy)return v;if(S=_d(),v.proxy=S,S.src=h,S.listener=v,h.addEventListener)Te||(U=oe),U===void 0&&(U=!1),h.addEventListener(y.toString(),S,U);else if(h.attachEvent)h.attachEvent(Ea(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function _d(){function h(v){return y.call(h.src,h.listener,v)}const y=vd;return h}function pl(h,y,v,S,U){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)pl(h,y[Q],v,S,U);else S=g(S)?!!S.capture:!!S,v=Rc(v),h&&h[kt]?(h=h.i,y=String(y).toString(),y in h.g&&(Q=h.g[y],v=_a(Q,v,S,U),-1<v&&(pr(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete h.g[y],h.h--)))):h&&(h=Cs(h))&&(y=h.g[y.toString()],h=-1,y&&(h=_a(y,v,S,U)),(v=-1<h?y[h]:null)&&xs(v))}function xs(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[kt])ya(y.i,h);else{var v=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(v,S,h.capture):y.detachEvent?y.detachEvent(Ea(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Cs(y))?(ya(v,h),v.h==0&&(v.src=null,y[va]=null)):pr(h)}}}function Ea(h){return h in ml?ml[h]:ml[h]="on"+h}function vd(h,y){if(h.da)h=!0;else{y=new Ce(y,this);var v=h.listener,S=h.ha||h.src;h.fa&&xs(h),h=v.call(S,y)}return h}function Cs(h){return h=h[va],h instanceof Ci?h:null}var gl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rc(h){return typeof h=="function"?h:(h[gl]||(h[gl]=function(y){return h.handleEvent(y)}),h[gl])}function gt(){he.call(this),this.i=new Ci(this),this.M=this,this.F=null}C(gt,he),gt.prototype[kt]=!0,gt.prototype.removeEventListener=function(h,y,v,S){pl(this,h,y,v,S)};function Ke(h,y){var v,S=h.F;if(S)for(v=[];S;S=S.F)v.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new se(y,h);else if(y instanceof se)y.target=y.target||h;else{var U=y;y=new se(S,h),M(y,U)}if(U=!0,v)for(var Q=v.length-1;0<=Q;Q--){var oe=y.g=v[Q];U=An(oe,S,!0,y)&&U}if(oe=y.g=h,U=An(oe,S,!0,y)&&U,U=An(oe,S,!1,y)&&U,v)for(Q=0;Q<v.length;Q++)oe=y.g=v[Q],U=An(oe,S,!1,y)&&U}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var v=h.g[y],S=0;S<v.length;S++)pr(v[S]);delete h.g[y],h.h--}}this.F=null},gt.prototype.K=function(h,y,v,S){return this.i.add(String(h),y,!1,v,S)},gt.prototype.L=function(h,y,v,S){return this.i.add(String(h),y,!0,v,S)};function An(h,y,v,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,Q=0;Q<y.length;++Q){var oe=y[Q];if(oe&&!oe.da&&oe.capture==v){var ze=oe.listener,Ot=oe.ha||oe.src;oe.fa&&ya(h.i,oe),U=ze.call(Ot,S)!==!1&&U}}return U&&!S.defaultPrevented}function tn(h,y,v){if(typeof h=="function")v&&(h=A(h,v));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Ic(h){h.g=tn(()=>{h.g=null,h.i&&(h.i=!1,Ic(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Ed extends he{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ic(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ta(h){he.call(this),this.h=h,this.g={}}C(Ta,he);var ba=[];function Aa(h){Ee(h.g,function(y,v){this.g.hasOwnProperty(v)&&xs(y)},h),h.g={}}Ta.prototype.N=function(){Ta.aa.N.call(this),Aa(this)},Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=d.JSON.stringify,Vs=d.JSON.parse,Sa=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function yl(){}yl.prototype.h=null;function _l(h){return h.h||(h.h=h.i())}function vl(){}var Vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ni(){se.call(this,"d")}C(Ni,se);function El(){se.call(this,"c")}C(El,se);var ii={},Tl=null;function gr(){return Tl=Tl||new gt}ii.La="serverreachability";function Ns(h){se.call(this,ii.La,h)}C(Ns,se);function yr(h){const y=gr();Ke(y,new Ns(y))}ii.STAT_EVENT="statevent";function Dc(h,y){se.call(this,ii.STAT_EVENT,h),this.stat=y}C(Dc,se);function st(h){const y=gr();Ke(y,new Dc(y,h))}ii.Ma="timingevent";function Nt(h,y){se.call(this,ii.Ma,h),this.size=y}C(Nt,se);function Rt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Pn(){this.g=!0}Pn.prototype.xa=function(){this.g=!1};function bl(h,y,v,S,U,Q){h.info(function(){if(h.g)if(Q)for(var oe="",ze=Q.split("&"),Ot=0;Ot<ze.length;Ot++){var ke=ze[Ot].split("=");if(1<ke.length){var Bt=ke[0];ke=ke[1];var Mt=Bt.split("_");oe=2<=Mt.length&&Mt[1]=="type"?oe+(Bt+"="+ke+"&"):oe+(Bt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+y+`
`+v+`
`+oe})}function Td(h,y,v,S,U,Q,oe){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+y+`
`+v+`
`+Q+" "+oe})}function _r(h,y,v,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+wa(h,v)+(S?" "+S:"")})}function xc(h,y){h.info(function(){return"TIMEOUT: "+y})}Pn.prototype.info=function(){};function wa(h,y){if(!h.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var S=v[h];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var Q=U[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<U.length;oe++)U[oe]=""}}}}return $n(v)}catch{return y}}var vr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ri;function ai(){}C(ai,yl),ai.prototype.g=function(){return new XMLHttpRequest},ai.prototype.i=function(){return{}},ri=new ai;function un(h,y,v,S){this.j=h,this.i=y,this.l=v,this.R=S||1,this.U=new Ta(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Et}function Et(){this.i=null,this.g="",this.h=!1}var Al={},Os={};function Xn(h,y,v){h.L=1,h.v=Ca(Sn(y)),h.m=v,h.P=!0,Mi(h,null)}function Mi(h,y){h.F=Date.now(),Ra(h),h.A=Sn(h.v);var v=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),xl(v.i,"t",S),h.C=0,v=h.j.J,h.h=new Et,h.g=Hc(h.j,v?y:null,!h.m),0<h.O&&(h.M=new Ed(A(h.Y,h,h.g),h.O)),y=h.U,v=h.g,S=h.ca;var U="readystatechange";Array.isArray(U)||(U&&(ba[0]=U.toString()),U=ba);for(var Q=0;Q<U.length;Q++){var oe=wc(v,U[Q],S||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),yr(),bl(h.i,h.u,h.A,h.l,h.R,h.m)}un.prototype.ca=function(h){h=h.target;const y=this.M;y&&Un(h)==3?y.j():this.Y(h)},un.prototype.Y=function(h){try{if(h==this.g)e:{const Mt=Un(this.g);var y=this.g.Ba();const ji=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||zc(this.g)))){this.J||Mt!=4||y==7||(y==8||0>=ji?yr(3):yr(2)),Er(this);var v=this.g.Z();this.X=v;t:if(Cc(this)){var S=zc(this.g);h="";var U=S.length,Q=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),si(this);var oe="";break t}this.h.i=new d.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,h+=this.h.i.decode(S[y],{stream:!(Q&&y==U-1)});S.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,Td(this.i,this.u,this.A,this.l,this.R,Mt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Ot=this.g;if((ze=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(ze)){var ke=ze;break t}}ke=null}if(v=ke)_r(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ia(this,v);else{this.o=!1,this.s=3,st(12),Qt(this),si(this);break e}}if(this.P){v=!0;let Yt;for(;!this.J&&this.C<oe.length;)if(Yt=Vc(this,oe),Yt==Os){Mt==4&&(this.s=4,st(14),v=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Al){this.s=4,st(15),_r(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else _r(this.i,this.l,Yt,null),Ia(this,Yt);if(Cc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||oe.length!=0||this.h.h||(this.s=1,st(16),v=!1),this.o=this.o&&v,!v)_r(this.i,this.l,oe,"[Invalid Chunked Response]"),Qt(this),si(this);else if(0<oe.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),ka(Bt),Bt.M=!0,st(11))}}else _r(this.i,this.l,oe,null),Ia(this,oe);Mt==4&&Qt(this),this.o&&!this.J&&(Mt==4?jc(this.j,this):(this.o=!1,Ra(this)))}else Rd(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Qt(this),si(this)}}}catch{}finally{}};function Cc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Vc(h,y){var v=h.C,S=y.indexOf(`
`,v);return S==-1?Os:(v=Number(y.substring(v,S)),isNaN(v)?Al:(S+=1,S+v>y.length?Os:(y=y.slice(S,S+v),h.C=S+v,y)))}un.prototype.cancel=function(){this.J=!0,Qt(this)};function Ra(h){h.S=Date.now()+h.I,Nc(h,h.I)}function Nc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Rt(A(h.ba,h),y)}function Er(h){h.B&&(d.clearTimeout(h.B),h.B=null)}un.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(xc(this.i,this.A),this.L!=2&&(yr(),st(17)),Qt(this),this.s=2,si(this)):Nc(this,this.S-h)};function si(h){h.j.G==0||h.J||jc(h.j,h)}function Qt(h){Er(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Aa(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Ia(h,y){try{var v=h.j;if(v.G!=0&&(v.g==h||Sl(v.h,h))){if(!h.K&&Sl(v.h,h)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)Hs(v),Fs(v);else break e;Ml(v),st(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=Rt(A(v.Za,v),6e3));if(1>=Ps(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else qi(v,11)}else if((h.K||v.g==h)&&Hs(v),!ae(y))for(U=v.Da.g.parse(y),y=0;y<U.length;y++){let ke=U[y];if(v.T=ke[0],ke=ke[1],v.G==2)if(ke[0]=="c"){v.K=ke[1],v.ia=ke[2];const Bt=ke[3];Bt!=null&&(v.la=Bt,v.j.info("VER="+v.la));const Mt=ke[4];Mt!=null&&(v.Aa=Mt,v.j.info("SVER="+v.Aa));const ji=ke[5];ji!=null&&typeof ji=="number"&&0<ji&&(S=1.5*ji,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Yt=h.g;if(Yt){const di=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(di){var Q=S.h;Q.g||di.indexOf("spdy")==-1&&di.indexOf("quic")==-1&&di.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ls(Q,Q.h),Q.h=null))}if(S.D){const Ll=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ll&&(S.ya=Ll,Ze(S.I,S.D,Ll))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var oe=h;if(S.qa=Gc(S,S.J?S.ia:null,S.W),oe.K){cn(S.h,oe);var ze=oe,Ot=S.L;Ot&&(ze.I=Ot),ze.B&&(Er(ze),Ra(ze)),S.g=oe}else Bc(S);0<v.i.length&&Gs(v)}else ke[0]!="stop"&&ke[0]!="close"||qi(v,7);else v.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?qi(v,7):Nl(v):ke[0]!="noop"&&v.l&&v.l.ta(ke),v.v=0)}}yr(4)}catch{}}var Oc=class{constructor(h,y){this.g=h,this.map=y}};function Pi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ms(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ps(h){return h.h?1:h.g?h.g.size:0}function Sl(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ls(h,y){h.g?h.g.add(y):h.h=y}function cn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Pi.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function wl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.D);return y}return G(h.i)}function bd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],v=h.length,S=0;S<v;S++)y.push(h[S]);return y}y=[],v=0;for(S in h)y[v++]=h[S];return y}function zs(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var v=0;v<h;v++)y.push(v);return y}y=[],v=0;for(const S in h)y[v++]=S;return y}}}function Rl(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var v=zs(h),S=bd(h),U=S.length,Q=0;Q<U;Q++)y.call(void 0,S[Q],v&&v[Q],h)}var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ad(h,y){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var S=h[v].indexOf("="),U=null;if(0<=S){var Q=h[v].substring(0,S);U=h[v].substring(S+1)}else Q=h[v];y(Q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function It(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof It){this.h=h.h,xa(this,h.j),this.o=h.o,this.g=h.g,Tr(this,h.s),this.l=h.l;var y=h.i,v=new zi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Li(this,v),this.m=h.m}else h&&(y=String(h).match(Da))?(this.h=!1,xa(this,y[1]||"",!0),this.o=Ln(y[2]||""),this.g=Ln(y[3]||"",!0),Tr(this,y[4]),this.l=Ln(y[5]||"",!0),Li(this,y[6]||"",!0),this.m=Ln(y[7]||"")):(this.h=!1,this.i=new zi(null,this.h))}It.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Va(y,Il,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Va(y,Il,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Va(v,v.charAt(0)=="/"?Sd:Dl,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Va(v,ks)),h.join("")};function Sn(h){return new It(h)}function xa(h,y,v){h.j=v?Ln(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Tr(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Li(h,y,v){y instanceof zi?(h.i=y,Pc(h.i,h.h)):(v||(y=Va(y,wd)),h.i=new zi(y,h.h))}function Ze(h,y,v){h.i.set(y,v)}function Ca(h){return Ze(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ln(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Va(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,Mc),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Mc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Il=/[#\/\?@]/g,Dl=/[#\?:]/g,Sd=/[#\?]/g,wd=/[#\?@]/g,ks=/#/g;function zi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function zn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ad(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}a=zi.prototype,a.add=function(h,y){zn(this),this.i=null,h=oi(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function ki(h,y){zn(h),y=oi(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Ui(h,y){return zn(h),y=oi(h,y),h.g.has(y)}a.forEach=function(h,y){zn(this),this.g.forEach(function(v,S){v.forEach(function(U){h.call(y,U,S,this)},this)},this)},a.na=function(){zn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const U=h[S];for(let Q=0;Q<U.length;Q++)v.push(y[S])}return v},a.V=function(h){zn(this);let y=[];if(typeof h=="string")Ui(this,h)&&(y=y.concat(this.g.get(oi(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)y=y.concat(h[v])}return y},a.set=function(h,y){return zn(this),this.i=null,h=oi(this,h),Ui(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},a.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function xl(h,y,v){ki(h,y),0<v.length&&(h.i=null,h.g.set(oi(h,y),G(v)),h.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const Q=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var U=Q;oe[S]!==""&&(U+="="+encodeURIComponent(String(oe[S]))),h.push(U)}}return this.i=h.join("&")};function oi(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Pc(h,y){y&&!h.j&&(zn(h),h.i=null,h.g.forEach(function(v,S){var U=S.toLowerCase();S!=U&&(ki(this,S),xl(this,U,v))},h)),h.j=y}function Na(h,y){const v=new Pn;if(d.Image){const S=new Image;S.onload=D(kn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=D(kn,v,"TestLoadImage: error",!1,y,S),S.onabort=D(kn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=D(kn,v,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Zn(h,y){const v=new Pn,S=new AbortController,U=setTimeout(()=>{S.abort(),kn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(Q=>{clearTimeout(U),Q.ok?kn(v,"TestPingServer: ok",!0,y):kn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),kn(v,"TestPingServer: error",!1,y)})}function kn(h,y,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Oa(){this.g=new Sa}function li(h,y,v){const S=v||"";try{Rl(h,function(U,Q){let oe=U;g(U)&&(oe=$n(U)),y.push(S+Q+"="+encodeURIComponent(oe))})}catch(U){throw y.push(S+"type="+encodeURIComponent("_badmap")),U}}function br(h){this.l=h.Ub||null,this.j=h.eb||!1}C(br,yl),br.prototype.g=function(){return new Bi(this.l,this.j)},br.prototype.i=function(h){return function(){return h}}({});function Bi(h,y){gt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Bi,gt),a=Bi.prototype,a.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,ci(this)},a.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},a.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}a.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ui(this):ci(this),this.readyState==3&&Cl(this)}},a.Ra=function(h){this.g&&(this.response=this.responseText=h,ui(this))},a.Qa=function(h){this.g&&(this.response=h,ui(this))},a.ga=function(){this.g&&ui(this)};function ui(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ci(h)}a.setRequestHeader=function(h,y){this.u.append(h,y)},a.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function ci(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vl(h){let y="";return Ee(h,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ut(h,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Vl(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):Ze(h,y,v))}function He(h){gt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(He,gt);var Us=/^https?$/i,Ma=["POST","PUT"];a=He.prototype,a.Ha=function(h){this.J=h},a.ea=function(h,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ri.g(),this.v=this.o?_l(this.o):_l(ri),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Q){Lc(this,Q);return}if(h=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())v.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),U=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ma,y,void 0))||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of v)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pa(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){Lc(this,Q)}};function Lc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Bs(h),hi(h)}function Bs(h){h.A||(h.A=!0,Ke(h,"complete"),Ke(h,"error"))}a.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ke(this,"complete"),Ke(this,"abort"),hi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),He.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?qs(this):this.bb())},a.bb=function(){qs(this)};function qs(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Un(h)!=4||h.Z()!=2)){if(h.u&&Un(h)==4)tn(h.Ea,0,h);else if(Ke(h,"readystatechange"),Un(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=oe===0){var U=String(h.D).match(Da)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),S=!Us.test(U?U.toLowerCase():"")}v=S}if(v)Ke(h,"complete"),Ke(h,"success");else{h.m=6;try{var Q=2<Un(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",Bs(h)}}finally{hi(h)}}}}function hi(h,y){if(h.g){Pa(h);const v=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Ke(h,"ready");try{v.onreadystatechange=S}catch{}}}function Pa(h){h.I&&(d.clearTimeout(h.I),h.I=null)}a.isActive=function(){return!!this.g};function Un(h){return h.g?h.g.readyState:0}a.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Vs(y)}};function zc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Rd(h){const y={};h=(h.g&&2<=Un(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(ae(h[S]))continue;var v=P(h[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[U]||[];y[U]=Q,Q.push(v)}V(y,function(S){return S.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function La(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function js(h){this.Aa=0,this.i=[],this.j=new Pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=La("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=La("baseRetryDelayMs",5e3,h),this.cb=La("retryDelaySeedMs",1e4,h),this.Wa=La("forwardChannelMaxRetries",2,h),this.wa=La("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Pi(h&&h.concurrentRequestLimit),this.Da=new Oa,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=js.prototype,a.la=8,a.G=1,a.connect=function(h,y,v,S){st(0),this.W=h,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Gc(this,null,this.W),Gs(this)};function Nl(h){if(kc(h),h.G==3){var y=h.U++,v=Sn(h.I);if(Ze(v,"SID",h.K),Ze(v,"RID",y),Ze(v,"TYPE","terminate"),za(h,v),y=new un(h,h.j,y),y.L=2,y.v=Ca(Sn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Hc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ra(y)}Fc(h)}function Fs(h){h.g&&(ka(h),h.g.cancel(),h.g=null)}function kc(h){Fs(h),h.u&&(d.clearTimeout(h.u),h.u=null),Hs(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Gs(h){if(!Ms(h.h)&&!h.s){h.s=!0;var y=h.Ga;ue||N(),ve||(ue(),ve=!0),Fe.add(y,h),h.B=0}}function Id(h,y){return Ps(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Rt(A(h.Ga,h,y),Pl(h,h.B)),h.B++,!0)}a.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const U=new un(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=w(Q),M(Q,this.S)):Q=this.S),this.m!==null||this.O||(U.H=Q,Q=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Uc(this,U,y),v=Sn(this.I),Ze(v,"RID",h),Ze(v,"CVER",22),this.D&&Ze(v,"X-HTTP-Session-Id",this.D),za(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(Vl(Q)))+"&"+y:this.m&&Ut(v,this.m,Q)),Ls(this.h,U),this.Ua&&Ze(v,"TYPE","init"),this.P?(Ze(v,"$req",y),Ze(v,"SID","null"),U.T=!0,Xn(U,v,null)):Xn(U,v,y),this.G=2}}else this.G==3&&(h?Ol(this,h):this.i.length==0||Ms(this.h)||Ol(this))};function Ol(h,y){var v;y?v=y.l:v=h.U++;const S=Sn(h.I);Ze(S,"SID",h.K),Ze(S,"RID",v),Ze(S,"AID",h.T),za(h,S),h.m&&h.o&&Ut(S,h.m,h.o),v=new un(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Uc(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ls(h.h,v),Xn(v,S,y)}function za(h,y){h.H&&Ee(h.H,function(v,S){Ze(y,S,v)}),h.l&&Rl({},function(v,S){Ze(y,S,v)})}function Uc(h,y,v){v=Math.min(h.i.length,v);var S=h.l?A(h.l.Na,h.l,h):null;e:{var U=h.i;let Q=-1;for(;;){const oe=["count="+v];Q==-1?0<v?(Q=U[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let ze=!0;for(let Ot=0;Ot<v;Ot++){let ke=U[Ot].g;const Bt=U[Ot].map;if(ke-=Q,0>ke)Q=Math.max(0,U[Ot].g-100),ze=!1;else try{li(Bt,oe,"req"+ke+"_")}catch{S&&S(Bt)}}if(ze){S=oe.join("&");break e}}}return h=h.i.splice(0,v),y.D=h,S}function Bc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ue||N(),ve||(ue(),ve=!0),Fe.add(y,h),h.v=0}}function Ml(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Rt(A(h.Fa,h),Pl(h,h.v)),h.v++,!0)}a.Fa=function(){if(this.u=null,qc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Rt(A(this.ab,this),h)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Fs(this),qc(this))};function ka(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function qc(h){h.g=new un(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Sn(h.qa);Ze(y,"RID","rpc"),Ze(y,"SID",h.K),Ze(y,"AID",h.T),Ze(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ze(y,"TO",h.ja),Ze(y,"TYPE","xmlhttp"),za(h,y),h.m&&h.o&&Ut(y,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=Ca(Sn(y)),v.m=null,v.P=!0,Mi(v,h)}a.Za=function(){this.C!=null&&(this.C=null,Fs(this),Ml(this),st(19))};function Hs(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function jc(h,y){var v=null;if(h.g==y){Hs(h),ka(h),h.g=null;var S=2}else if(Sl(h.h,y))v=y.D,cn(h.h,y),S=1;else return;if(h.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var U=h.B;S=gr(),Ke(S,new Nt(S,v)),Gs(h)}else Bc(h);else if(U=y.s,U==3||U==0&&0<y.X||!(S==1&&Id(h,y)||S==2&&Ml(h)))switch(v&&0<v.length&&(y=h.h,y.i=y.i.concat(v)),U){case 1:qi(h,5);break;case 4:qi(h,10);break;case 3:qi(h,6);break;default:qi(h,2)}}}function Pl(h,y){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*y}function qi(h,y){if(h.j.info("Error code "+y),y==2){var v=A(h.fb,h),S=h.Xa;const U=!S;S=new It(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xa(S,"https"),Ca(S),U?Na(S.toString(),v):Zn(S.toString(),v)}else st(2);h.G=0,h.l&&h.l.sa(y),Fc(h),kc(h)}a.fb=function(h){h?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Fc(h){if(h.G=0,h.ka=[],h.l){const y=wl(h.h);(y.length!=0||h.i.length!=0)&&(k(h.ka,y),k(h.ka,h.i),h.h.i.length=0,G(h.i),h.i.length=0),h.l.ra()}}function Gc(h,y,v){var S=v instanceof It?Sn(v):new It(v);if(S.g!="")y&&(S.g=y+"."+S.g),Tr(S,S.s);else{var U=d.location;S=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var Q=new It(null);S&&xa(Q,S),y&&(Q.g=y),U&&Tr(Q,U),v&&(Q.l=v),S=Q}return v=h.D,y=h.ya,v&&y&&Ze(S,v,y),Ze(S,"VER",h.la),za(h,S),S}function Hc(h,y,v){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new He(new br({eb:v})):new He(h.pa),y.Ha(h.J),y}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kc(){}a=Kc.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ks(){}Ks.prototype.g=function(h,y){return new hn(h,y)};function hn(h,y){gt.call(this),this.g=new js(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!ae(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ae(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new fi(this)}C(hn,gt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Nl(this.g)},hn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=$n(h),h=v);y.i.push(new Oc(y.Ya++,h)),y.G==3&&Gs(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,hn.aa.N.call(this)};function Qc(h){Ni.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}C(Qc,Ni);function Yc(){El.call(this),this.status=1}C(Yc,El);function fi(h){this.g=h}C(fi,Kc),fi.prototype.ua=function(){Ke(this.g,"a")},fi.prototype.ta=function(h){Ke(this.g,new Qc(h))},fi.prototype.sa=function(h){Ke(this.g,new Yc)},fi.prototype.ra=function(){Ke(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,Qb=function(){return new Ks},Kb=function(){return gr()},Hb=ii,Hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,of=vr,Oi.COMPLETE="complete",Gb=Oi,vl.EventType=Vi,Vi.OPEN="a",Vi.CLOSE="b",Vi.ERROR="c",Vi.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Vu=vl,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,Fb=He}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});const CT="@firebase/firestore",VT="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new xg("@firebase/firestore");function Do(){return ia.logLevel}function bx(a){ia.setLogLevel(a)}function re(a,...e){if(ia.logLevel<=Le.DEBUG){const t=e.map(Pg);ia.debug(`Firestore (${sl}): ${a}`,...t)}}function At(a,...e){if(ia.logLevel<=Le.ERROR){const t=e.map(Pg);ia.error(`Firestore (${sl}): ${a}`,...t)}}function Ri(a,...e){if(ia.logLevel<=Le.WARN){const t=e.map(Pg);ia.warn(`Firestore (${sl}): ${a}`,...t)}}function Pg(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(a,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Yb(a,i,t)}function Yb(a,e,t){let i=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw At(i),new Error(i)}function ge(a,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,a||Yb(e,s,i)}function Ax(a,e){a||de(57014,e)}function ce(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Ss{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ht.UNAUTHENTICATED))}shutdown(){}}class wx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Rx{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ge(this.o===void 0,42304);let i=this.i;const s=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new en;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new en,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await s(this.currentUser)})},d=m=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new en)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ge(typeof i.accessToken=="string",31837,{l:i}),new $b(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class Ix{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Dx{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new Ix(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xx{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ge(this.o===void 0,3512);const i=l=>{l.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,re("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new NT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new NT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<a;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=Cx(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function Se(a,e){return a<e?-1:a>e?1:0}function Kp(a,e){let t=0;for(;t<a.length&&t<e.length;){const i=a.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return Se(i,s);{const l=Lg(),c=Vx(l.encode(OT(a,t)),l.encode(OT(e,t)));return c!==0?c:Se(i,s)}}t+=i>65535?2:1}return Se(a.length,e.length)}function OT(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function Vx(a,e){for(let t=0;t<a.length&&t<e.length;++t)if(a[t]!==e[t])return Se(a[t],e[t]);return Se(a.length,e.length)}function Uo(a,e,t){return a.length===e.length&&a.every((i,s)=>t(i,e[s]))}function Zb(a){return a+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=-62135596800,PT=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*PT);return new ht(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<MT)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PT}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-MT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new ht(0,0))}static max(){return new ye(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="__name__";class vi{constructor(e,t,i){t===void 0?t=0:t>e.length&&de(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&de(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=vi.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Se(e.length,t.length)}static compareSegments(e,t){const i=vi.isNumericId(e),s=vi.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?vi.extractNumericId(e).compare(vi.extractNumericId(t)):Kp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jr.fromString(e.substring(4,e.length-2))}}class Me extends vi{construct(e,t,i){return new Me(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ie(K.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new Me(t)}static emptyPath(){return new Me([])}}const Nx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends vi{construct(e,t,i){return new ut(e,t,i)}static isValidIdentifier(e){return Nx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LT}static keyField(){return new ut([LT])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ie(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ie(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(l(),s++)}if(l(),c)throw new ie(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(t)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Me.fromString(e))}static fromName(e){return new le(Me.fromString(e).popFirst(5))}static empty(){return new le(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Me.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Me(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=-1;class bf{constructor(e,t,i,s){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=s}}function Qp(a){return a.fields.find(e=>e.kind===2)}function ns(a){return a.fields.filter(e=>e.kind!==2)}bf.UNKNOWN_ID=-1;class lf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Hu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Hu(0,On.min())}}function Jb(a,e){const t=a.toTimestamp().seconds,i=a.toTimestamp().nanoseconds+1,s=ye.fromTimestamp(i===1e9?new ht(t+1,0):new ht(t,i));return new On(s,le.empty(),e)}function Wb(a){return new On(a.readTime,a.key,Bo)}class On{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new On(ye.min(),le.empty(),Bo)}static max(){return new On(ye.max(),le.empty(),Bo)}}function zg(a,e){let t=a.readTime.compareTo(e.readTime);return t!==0?t:(t=le.comparator(a.documentKey,e.documentKey),t!==0?t:Se(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==eA)throw a;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new B((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof B?t:B.resolve(t)}catch(t){return B.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):B.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):B.reject(t)}static resolve(e){return new B((t,i)=>{t(e)})}static reject(e){return new B((t,i)=>{i(e)})}static waitFor(e){return new B((t,i)=>{let s=0,l=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++l,c&&l===s&&t()},m=>i(m))}),c=!0,l===s&&t()})}static or(e){let t=B.resolve(!1);for(const i of e)t=t.next(s=>s?B.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,l)=>{i.push(t.call(this,s,l))}),this.waitFor(i)}static mapArray(e,t){return new B((i,s)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(_=>{c[g]=_,++d,d===l&&i(c)},_=>s(_))}})}static doWhile(e,t){return new B((i,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):i()};l()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="SimpleDb";class Hf{static open(e,t,i,s){try{return new Hf(t,e.transaction(s,i))}catch(l){throw new Pu(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new en,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Pu(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const s=kg(i.target.error);this.S.reject(new Pu(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(re(Nn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Mx(t)}}class Ai{static delete(e){return re(Nn,"Removing database:",e),rs(Rg().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Db())return!1;if(Ai.F())return!0;const e=Ef(),t=Ai.M(e),i=0<t&&t<10,s=nA(e),l=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||l)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.B=i,this.L=null,Ai.M(Ef())===12.2&&At("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(re(Nn,"Opening database:",this.name),this.db=await new Promise((t,i)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=l=>{const c=l.target.result;t(c)},s.onblocked=()=>{i(new Pu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const c=l.target.error;c.name==="VersionError"?i(new ie(K.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?i(new ie(K.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):i(new Pu(e,c))},s.onupgradeneeded=l=>{re(Nn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;if(this.L!==null&&this.L!==l.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${l.oldVersion}, event.newVersion=${l.newVersion}, db.version=${c.version}`);this.B.q(c,s.transaction,l.oldVersion,this.version).next(()=>{re(Nn,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{const i=t.target;this.L=i.version},{passive:!0})),this.$&&(this.db.onversionchange=t=>this.$(t)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,s){const l=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.k(e);const d=Hf.open(this.db,e,l?"readonly":"readwrite",i),m=s(d).next(g=>(d.v(),g)).catch(g=>(d.abort(g),B.reject(g))).toPromise();return m.catch(()=>{}),await d.D,m}catch(d){const m=d,g=m.name!=="FirebaseError"&&c<3;if(re(Nn,"Transaction failed with error:",m.message,"Retrying:",g),this.close(),!g)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function nA(a){const e=a.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class Ox{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return rs(this.K.delete())}}class Pu extends ie{constructor(e,t){super(K.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function da(a){return a.name==="IndexedDbTransactionError"}class Mx{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(re(Nn,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(re(Nn,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),rs(i)}add(e){return re(Nn,"ADD",this.store.name,e,e),rs(this.store.add(e))}get(e){return rs(this.store.get(e)).next(t=>(t===void 0&&(t=null),re(Nn,"GET",this.store.name,e,t),t))}delete(e){return re(Nn,"DELETE",this.store.name,e),rs(this.store.delete(e))}count(){return re(Nn,"COUNT",this.store.name),rs(this.store.count())}J(e,t){const i=this.options(e,t),s=i.index?this.store.index(i.index):this.store;if(typeof s.getAll=="function"){const l=s.getAll(i.range);return new B((c,d)=>{l.onerror=m=>{d(m.target.error)},l.onsuccess=m=>{c(m.target.result)}})}{const l=this.cursor(i),c=[];return this.Y(l,(d,m)=>{c.push(m)}).next(()=>c)}}Z(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new B((s,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{s(c.target.result)}})}X(e,t){re(Nn,"DELETE ALL",this.store.name);const i=this.options(e,t);i.ee=!1;const s=this.cursor(i);return this.Y(s,(l,c,d)=>d.delete())}te(e,t){let i;t?i=e:(i={},t=e);const s=this.cursor(i);return this.Y(s,t)}ne(e){const t=this.cursor({});return new B((i,s)=>{t.onerror=l=>{const c=kg(l.target.error);s(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}Y(e,t){const i=[];return new B((s,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void s();const m=new Ox(d),g=t(d.primaryKey,d.value,m);if(g instanceof B){const _=g.catch(T=>(m.done(),B.reject(T)));i.push(_)}m.isDone?s():m.j===null?d.continue():d.continue(m.j)}}).next(()=>B.waitFor(i))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.ee?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function rs(a){return new B((e,t)=>{a.onsuccess=i=>{const s=i.target.result;e(s)},a.onerror=i=>{const s=kg(i.target.error);t(s)}})}let zT=!1;function kg(a){const e=Ai.M(Ef());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(t)>=0){const i=new ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zT||(zT=!0,setTimeout(()=>{throw i},0)),i}}return a}const Lu="IndexBackfiller";class Px{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){re(Lu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.re.se();re(Lu,`Documents written: ${t}`)}catch(t){da(t)?re(Lu,"Ignoring IndexedDB error during index backfill: ",t):await fa(t)}await this.ie(6e4)})}}class Lx{constructor(e,t){this.localStore=e,this.persistence=t}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.oe(t,e))}oe(e,t){const i=new Set;let s=t,l=!0;return B.doWhile(()=>l===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(c!==null&&!i.has(c))return re(Lu,`Processing collection: ${c}`),this._e(e,c,s).next(d=>{s-=d,i.add(c)});l=!1})).next(()=>t-s)}_e(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,i).next(l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ae(s,l)).next(d=>(re(Lu,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>c.size)}))}ae(e,t){let i=e;return t.changes.forEach((s,l)=>{const c=Wb(l);zg(c,i)>0&&(i=c)}),new On(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}En.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=-1;function hc(a){return a==null}function Ku(a){return a===0&&1/a==-1/0}function iA(a){return typeof a=="number"&&Number.isInteger(a)&&!Ku(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="";function on(a){let e="";for(let t=0;t<a.length;t++)e.length>0&&(e=kT(e)),e=zx(a.get(t),e);return kT(e)}function zx(a,e){let t=e;const i=a.length;for(let s=0;s<i;s++){const l=a.charAt(s);switch(l){case"\0":t+="";break;case Af:t+="";break;default:t+=l}}return t}function kT(a){return a+Af+""}function Ti(a){const e=a.length;if(ge(e>=2,64408,{path:a}),e===2)return ge(a.charAt(0)===Af&&a.charAt(1)==="",56145,{path:a}),Me.emptyPath();const t=e-2,i=[];let s="";for(let l=0;l<e;){const c=a.indexOf(Af,l);switch((c<0||c>t)&&de(50515,{path:a}),a.charAt(c+1)){case"":const d=a.substring(l,c);let m;s.length===0?m=d:(s+=d,m=s,s=""),i.push(m);break;case"":s+=a.substring(l,c),s+="\0";break;case"":s+=a.substring(l,c+1);break;default:de(61167,{path:a})}l=c+2}return new Me(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="remoteDocuments",fc="owner",bo="owner",Qu="mutationQueues",kx="userId",ti="mutations",UT="batchId",us="userMutationsIndex",BT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(a,e){return[a,on(e)]}function rA(a,e,t){return[a,on(e),t]}const Ux={},qo="documentMutations",Sf="remoteDocumentsV14",Bx=["prefixPath","collectionGroup","readTime","documentId"],cf="documentKeyIndex",qx=["prefixPath","collectionGroup","documentId"],aA="collectionGroupIndex",jx=["collectionGroup","readTime","prefixPath","documentId"],Yu="remoteDocumentGlobal",Yp="remoteDocumentGlobalKey",jo="targets",sA="queryTargetsIndex",Fx=["canonicalId","targetId"],Fo="targetDocuments",Gx=["targetId","path"],Ug="documentTargetsIndex",Hx=["path","targetId"],wf="targetGlobalKey",fs="targetGlobal",$u="collectionParents",Kx=["collectionId","parent"],Go="clientMetadata",Qx="clientId",Kf="bundles",Yx="bundleId",Qf="namedQueries",$x="name",Bg="indexConfiguration",Xx="indexId",$p="collectionGroupIndex",Zx="collectionGroup",Rf="indexState",Jx=["indexId","uid"],oA="sequenceNumberIndex",Wx=["uid","sequenceNumber"],If="indexEntries",eC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lA="documentKeyIndex",tC=["indexId","uid","orderedDocumentKey"],Yf="documentOverlays",nC=["userId","collectionPath","documentId"],Xp="collectionPathOverlayIndex",iC=["userId","collectionPath","largestBatchId"],uA="collectionGroupOverlayIndex",rC=["userId","collectionGroup","largestBatchId"],qg="globals",aC="name",cA=[Qu,ti,qo,is,jo,fc,fs,Fo,Go,Yu,$u,Kf,Qf],sC=[...cA,Yf],hA=[Qu,ti,qo,Sf,jo,fc,fs,Fo,Go,Yu,$u,Kf,Qf,Yf],fA=hA,jg=[...fA,Bg,Rf,If],oC=jg,lC=[...jg,qg];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends tA{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function zt(a,e){const t=ce(a);return Ai.N(t.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(a){let e=0;for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&e++;return e}function ma(a,e){for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&e(t,a[t])}function dA(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zh(this.root,e,this.comparator,!0)}}class Zh{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??Jt.RED,this.left=s??Jt.EMPTY,this.right=l??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new Jt(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Jt.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,t,i,s,l){return this}insert(e,t,i){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jT(this.data.getIterator())}getIteratorFrom(e){return new jT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xe(this.comparator);return t.data=e,t}}class jT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ao(a){return a.hasNext()?a.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Tn([])}unionWith(e){let t=new Xe(ut.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Tn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new mA("Invalid base64 string: "+l):l}}(e);return new vt(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const cC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(a){if(ge(!!a,39018),typeof a=="string"){let e=0;const t=cC.exec(a);if(ge(!!t,46558,{timestamp:a}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(a);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lt(a.seconds),nanos:lt(a.nanos)}}function lt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function lr(a){return typeof a=="string"?vt.fromBase64String(a):vt.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="server_timestamp",gA="__type__",yA="__previous_value__",_A="__local_write_time__";function $f(a){var e,t;return((t=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[gA])===null||t===void 0?void 0:t.stringValue)===pA}function Xf(a){const e=a.mapValue.fields[yA];return $f(e)?Xf(e):e}function Xu(a){const e=or(a.mapValue.fields[_A].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,t,i,s,l,c,d,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const Df="(default)";class ra{constructor(e,t){this.projectId=e,this.database=t||Df}static empty(){return new ra("","")}get isDefaultDatabase(){return this.database===Df}isEqual(e){return e instanceof ra&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="__type__",vA="__max__",$r={mapValue:{fields:{__type__:{stringValue:vA}}}},Gg="__vector__",Ho="value",hf={nullValue:"NULL_VALUE"};function aa(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?$f(a)?4:EA(a)?9007199254740991:Zf(a)?10:11:de(28295,{value:a})}function Ii(a,e){if(a===e)return!0;const t=aa(a);if(t!==aa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Xu(a).isEqual(Xu(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=or(s.timestampValue),d=or(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(s,l){return lr(s.bytesValue).isEqual(lr(l.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(s,l){return lt(s.geoPointValue.latitude)===lt(l.geoPointValue.latitude)&&lt(s.geoPointValue.longitude)===lt(l.geoPointValue.longitude)}(a,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return lt(s.integerValue)===lt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=lt(s.doubleValue),d=lt(l.doubleValue);return c===d?Ku(c)===Ku(d):isNaN(c)&&isNaN(d)}return!1}(a,e);case 9:return Uo(a.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(qT(c)!==qT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ii(c[m],d[m])))return!1;return!0}(a,e);default:return de(52216,{left:a})}}function Zu(a,e){return(a.values||[]).find(t=>Ii(t,e))!==void 0}function sa(a,e){if(a===e)return 0;const t=aa(a),i=aa(e);if(t!==i)return Se(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Se(a.booleanValue,e.booleanValue);case 2:return function(l,c){const d=lt(l.integerValue||l.doubleValue),m=lt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(a,e);case 3:return FT(a.timestampValue,e.timestampValue);case 4:return FT(Xu(a),Xu(e));case 5:return Kp(a.stringValue,e.stringValue);case 6:return function(l,c){const d=lr(l),m=lr(c);return d.compareTo(m)}(a.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=Se(d[g],m[g]);if(_!==0)return _}return Se(d.length,m.length)}(a.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Se(lt(l.latitude),lt(c.latitude));return d!==0?d:Se(lt(l.longitude),lt(c.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return GT(a.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,g,_;const T=l.fields||{},A=c.fields||{},D=(d=T[Ho])===null||d===void 0?void 0:d.arrayValue,C=(m=A[Ho])===null||m===void 0?void 0:m.arrayValue,G=Se(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((_=C==null?void 0:C.values)===null||_===void 0?void 0:_.length)||0);return G!==0?G:GT(D,C)}(a.mapValue,e.mapValue);case 11:return function(l,c){if(l===$r.mapValue&&c===$r.mapValue)return 0;if(l===$r.mapValue)return 1;if(c===$r.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const A=Kp(m[T],_[T]);if(A!==0)return A;const D=sa(d[m[T]],g[_[T]]);if(D!==0)return D}return Se(m.length,_.length)}(a.mapValue,e.mapValue);default:throw de(23264,{Pe:t})}}function FT(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Se(a,e);const t=or(a),i=or(e),s=Se(t.seconds,i.seconds);return s!==0?s:Se(t.nanos,i.nanos)}function GT(a,e){const t=a.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=sa(t[s],i[s]);if(l)return l}return Se(t.length,i.length)}function Ko(a){return Jp(a)}function Jp(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(t){const i=or(t);return`time(${i.seconds},${i.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(t){return lr(t).toBase64()}(a.bytesValue):"referenceValue"in a?function(t){return le.fromName(t).toString()}(a.referenceValue):"geoPointValue"in a?function(t){return`geo(${t.latitude},${t.longitude})`}(a.geoPointValue):"arrayValue"in a?function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=Jp(l);return i+"]"}(a.arrayValue):"mapValue"in a?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${Jp(t.fields[c])}`;return s+"}"}(a.mapValue):de(61005,{value:a})}function ff(a){switch(aa(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xf(a);return e?16+ff(e):16;case 5:return 2*a.stringValue.length;case 6:return lr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,l)=>s+ff(l),0)}(a.arrayValue);case 10:case 11:return function(i){let s=0;return ma(i.fields,(l,c)=>{s+=l.length+ff(c)}),s}(a.mapValue);default:throw de(13486,{value:a})}}function ms(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Wp(a){return!!a&&"integerValue"in a}function Ju(a){return!!a&&"arrayValue"in a}function HT(a){return!!a&&"nullValue"in a}function KT(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function df(a){return!!a&&"mapValue"in a}function Zf(a){var e,t;return((t=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fg])===null||t===void 0?void 0:t.stringValue)===Gg}function zu(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return ma(a.mapValue.fields,(t,i)=>e.mapValue.fields[t]=zu(i)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(a.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zu(a.arrayValue.values[t]);return e}return Object.assign({},a)}function EA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===vA}const TA={mapValue:{fields:{[Fg]:{stringValue:Gg},[Ho]:{arrayValue:{}}}}};function fC(a){return"nullValue"in a?hf:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?ms(ra.empty(),le.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?Zf(a)?TA:{mapValue:{}}:de(35942,{value:a})}function dC(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?ms(ra.empty(),le.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?TA:"mapValue"in a?Zf(a)?{mapValue:{}}:$r:de(61959,{value:a})}function QT(a,e){const t=sa(a.value,e.value);return t!==0?t:a.inclusive&&!e.inclusive?-1:!a.inclusive&&e.inclusive?1:0}function YT(a,e){const t=sa(a.value,e.value);return t!==0?t:a.inclusive&&!e.inclusive?1:!a.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!df(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(t)}setAll(e){let t=ut.emptyPath(),i={},s=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,s),i={},s=[],t=d.popLast()}c?i[d.lastSegment()]=zu(c):s.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());df(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];df(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){ma(t,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new Wt(zu(this.value))}}function bA(a){const e=[];return ma(a.fields,(t,i)=>{const s=new ut([t]);if(df(i)){const l=bA(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t,i,s,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new at(e,0,ye.min(),ye.min(),ye.min(),Wt.empty(),0)}static newFoundDocument(e,t,i,s){return new at(e,1,t,ye.min(),i,s,0)}static newNoDocument(e,t){return new at(e,2,t,ye.min(),ye.min(),Wt.empty(),0)}static newUnknownDocument(e,t){return new at(e,3,t,ye.min(),ye.min(),Wt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof at&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new at(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,t){this.position=e,this.inclusive=t}}function $T(a,e,t){let i=0;for(let s=0;s<a.position.length;s++){const l=e[s],c=a.position[s];if(l.field.isKeyField()?i=le.comparator(le.fromName(c.referenceValue),t.key):i=sa(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function XT(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let t=0;t<a.position.length;t++)if(!Ii(a.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function mC(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{}class Pe extends AA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new pC(e,t,i):t==="array-contains"?new _C(e,i):t==="in"?new xA(e,i):t==="not-in"?new vC(e,i):t==="array-contains-any"?new EC(e,i):new Pe(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new gC(e,i):new yC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(sa(t,this.value)):t!==null&&aa(this.value)===aa(t)&&this.matchesComparison(sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $e extends AA{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new $e(e,t)}matches(e){return Qo(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Qo(a){return a.op==="and"}function eg(a){return a.op==="or"}function Hg(a){return SA(a)&&Qo(a)}function SA(a){for(const e of a.filters)if(e instanceof $e)return!1;return!0}function tg(a){if(a instanceof Pe)return a.field.canonicalString()+a.op.toString()+Ko(a.value);if(Hg(a))return a.filters.map(e=>tg(e)).join(",");{const e=a.filters.map(t=>tg(t)).join(",");return`${a.op}(${e})`}}function wA(a,e){return a instanceof Pe?function(i,s){return s instanceof Pe&&i.op===s.op&&i.field.isEqual(s.field)&&Ii(i.value,s.value)}(a,e):a instanceof $e?function(i,s){return s instanceof $e&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((l,c,d)=>l&&wA(c,s.filters[d]),!0):!1}(a,e):void de(19439)}function RA(a,e){const t=a.filters.concat(e);return $e.create(t,a.op)}function IA(a){return a instanceof Pe?function(t){return`${t.field.canonicalString()} ${t.op} ${Ko(t.value)}`}(a):a instanceof $e?function(t){return t.op.toString()+" {"+t.getFilters().map(IA).join(" ,")+"}"}(a):"Filter"}class pC extends Pe{constructor(e,t,i){super(e,t,i),this.key=le.fromName(i.referenceValue)}matches(e){const t=le.comparator(e.key,this.key);return this.matchesComparison(t)}}class gC extends Pe{constructor(e,t){super(e,"in",t),this.keys=DA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yC extends Pe{constructor(e,t){super(e,"not-in",t),this.keys=DA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DA(a,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>le.fromName(i.referenceValue))}class _C extends Pe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ju(t)&&Zu(t.arrayValue,this.value)}}class xA extends Pe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zu(this.value.arrayValue,t)}}class vC extends Pe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zu(this.value.arrayValue,t)}}class EC extends Pe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ju(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Zu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,t=null,i=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function ng(a,e=null,t=[],i=[],s=null,l=null,c=null){return new TC(a,e,t,i,s,l,c)}function ps(a){const e=ce(a);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>tg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),hc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ko(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ko(i)).join(",")),e.Ie=t}return e.Ie}function dc(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<a.orderBy.length;t++)if(!mC(a.orderBy[t],e.orderBy[t]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let t=0;t<a.filters.length;t++)if(!wA(a.filters[t],e.filters[t]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!XT(a.startAt,e.startAt)&&XT(a.endAt,e.endAt)}function xf(a){return le.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function Cf(a,e){return a.filters.filter(t=>t instanceof Pe&&t.field.isEqual(e))}function ZT(a,e,t){let i=hf,s=!0;for(const l of Cf(a,e)){let c=hf,d=!0;switch(l.op){case"<":case"<=":c=fC(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=hf}QT({value:i,inclusive:s},{value:c,inclusive:d})<0&&(i=c,s=d)}if(t!==null){for(let l=0;l<a.orderBy.length;++l)if(a.orderBy[l].field.isEqual(e)){const c=t.position[l];QT({value:i,inclusive:s},{value:c,inclusive:t.inclusive})<0&&(i=c,s=t.inclusive);break}}return{value:i,inclusive:s}}function JT(a,e,t){let i=$r,s=!0;for(const l of Cf(a,e)){let c=$r,d=!0;switch(l.op){case">=":case">":c=dC(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=$r}YT({value:i,inclusive:s},{value:c,inclusive:d})>0&&(i=c,s=d)}if(t!==null){for(let l=0;l<a.orderBy.length;++l)if(a.orderBy[l].field.isEqual(e)){const c=t.position[l];YT({value:i,inclusive:s},{value:c,inclusive:t.inclusive})>0&&(i=c,s=t.inclusive);break}}return{value:i,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,t=null,i=[],s=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function CA(a,e,t,i,s,l,c,d){return new hr(a,e,t,i,s,l,c,d)}function ol(a){return new hr(a)}function WT(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Kg(a){return a.collectionGroup!==null}function Oo(a){const e=ce(a);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Xe(ut.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Wu(l,i))}),t.has(ut.keyField().canonicalString())||e.Ee.push(new Wu(ut.keyField(),i))}return e.Ee}function pn(a){const e=ce(a);return e.de||(e.de=bC(e,Oo(a))),e.de}function bC(a,e){if(a.limitType==="F")return ng(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Wu(s.field,l)});const t=a.endAt?new oa(a.endAt.position,a.endAt.inclusive):null,i=a.startAt?new oa(a.startAt.position,a.startAt.inclusive):null;return ng(a.path,a.collectionGroup,e,a.filters,a.limit,t,i)}}function ig(a,e){const t=a.filters.concat([e]);return new hr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),t,a.limit,a.limitType,a.startAt,a.endAt)}function Vf(a,e,t){return new hr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,t,a.startAt,a.endAt)}function mc(a,e){return dc(pn(a),pn(e))&&a.limitType===e.limitType}function VA(a){return`${ps(pn(a))}|lt:${a.limitType}`}function xo(a){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>IA(s)).join(", ")}]`),hc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Ko(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Ko(s)).join(",")),`Target(${i})`}(pn(a))}; limitType=${a.limitType})`}function pc(a,e){return e.isFoundDocument()&&function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):le.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(a,e)&&function(i,s){for(const l of Oo(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(a,e)&&function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0}(a,e)&&function(i,s){return!(i.startAt&&!function(c,d,m){const g=$T(c,d,m);return c.inclusive?g<=0:g<0}(i.startAt,Oo(i),s)||i.endAt&&!function(c,d,m){const g=$T(c,d,m);return c.inclusive?g>=0:g>0}(i.endAt,Oo(i),s))}(a,e)}function NA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function OA(a){return(e,t)=>{let i=!1;for(const s of Oo(a)){const l=AC(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function AC(a,e,t){const i=a.field.isKeyField()?le.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?sa(m,g):de(42886)}(a.field,e,t);switch(a.dir){case"asc":return i;case"desc":return-1*i;default:return de(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,(t,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return dA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new rt(le.comparator);function bn(){return SC}const MA=new rt(le.comparator);function Nu(...a){let e=MA;for(const t of a)e=e.insert(t.key,t);return e}function PA(a){let e=MA;return a.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function bi(){return ku()}function LA(){return ku()}function ku(){return new fr(a=>a.toString(),(a,e)=>a.isEqual(e))}const wC=new rt(le.comparator),RC=new Xe(le.comparator);function Ie(...a){let e=RC;for(const t of a)e=e.add(t);return e}const IC=new Xe(Se);function Qg(){return IC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(e)?"-0":e}}function zA(a){return{integerValue:""+a}}function kA(a,e){return iA(e)?zA(e):Yg(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(){this._=void 0}}function DC(a,e,t){return a instanceof Yo?function(s,l){const c={fields:{[gA]:{stringValue:pA},[_A]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&$f(l)&&(l=Xf(l)),l&&(c.fields[yA]=l),{mapValue:c}}(t,e):a instanceof gs?BA(a,e):a instanceof ys?qA(a,e):function(s,l){const c=UA(s,l),d=e0(c)+e0(s.Re);return Wp(c)&&Wp(s.Re)?zA(d):Yg(s.serializer,d)}(a,e)}function xC(a,e,t){return a instanceof gs?BA(a,e):a instanceof ys?qA(a,e):t}function UA(a,e){return a instanceof $o?function(i){return Wp(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Yo extends Jf{}class gs extends Jf{constructor(e){super(),this.elements=e}}function BA(a,e){const t=jA(e);for(const i of a.elements)t.some(s=>Ii(s,i))||t.push(i);return{arrayValue:{values:t}}}class ys extends Jf{constructor(e){super(),this.elements=e}}function qA(a,e){let t=jA(e);for(const i of a.elements)t=t.filter(s=>!Ii(s,i));return{arrayValue:{values:t}}}class $o extends Jf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function e0(a){return lt(a.integerValue||a.doubleValue)}function jA(a){return Ju(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t){this.field=e,this.transform=t}}function CC(a,e){return a.field.isEqual(e.field)&&function(i,s){return i instanceof gs&&s instanceof gs||i instanceof ys&&s instanceof ys?Uo(i.elements,s.elements,Ii):i instanceof $o&&s instanceof $o?Ii(i.Re,s.Re):i instanceof Yo&&s instanceof Yo}(a.transform,e.transform)}class VC{constructor(e,t){this.version=e,this.transformResults=t}}class ct{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ct}static exists(e){return new ct(void 0,e)}static updateTime(e){return new ct(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Wf{}function FA(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new ul(a.key,ct.none()):new ll(a.key,a.data,ct.none());{const t=a.data,i=Wt.empty();let s=new Xe(ut.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new dr(a.key,i,new Tn(s.toArray()),ct.none())}}function NC(a,e,t){a instanceof ll?function(s,l,c){const d=s.value.clone(),m=n0(s.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(a,e,t):a instanceof dr?function(s,l,c){if(!mf(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=n0(s.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(GA(s)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(a,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Uu(a,e,t,i){return a instanceof ll?function(l,c,d,m){if(!mf(l.precondition,c))return d;const g=l.value.clone(),_=i0(l.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(a,e,t,i):a instanceof dr?function(l,c,d,m){if(!mf(l.precondition,c))return d;const g=i0(l.fieldTransforms,m,c),_=c.data;return _.setAll(GA(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(a,e,t,i):function(l,c,d){return mf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(a,e,t)}function OC(a,e){let t=null;for(const i of a.fieldTransforms){const s=e.data.field(i.field),l=UA(i.transform,s||null);l!=null&&(t===null&&(t=Wt.empty()),t.set(i.field,l))}return t||null}function t0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Uo(i,s,(l,c)=>CC(l,c))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class ll extends Wf{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class dr extends Wf{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function GA(a){const e=new Map;return a.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=a.data.field(t);e.set(t,i)}}),e}function n0(a,e,t){const i=new Map;ge(a.length===t.length,32656,{Ve:t.length,me:a.length});for(let s=0;s<t.length;s++){const l=a[s],c=l.transform,d=e.data.field(l.field);i.set(l.field,xC(c,d,t[s]))}return i}function i0(a,e,t){const i=new Map;for(const s of a){const l=s.transform,c=t.data.field(s.field);i.set(s.field,DC(l,c,e))}return i}class ul extends Wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $g extends Wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&NC(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Uu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Uu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=LA();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(s.key)?null:d;const m=FA(c,d);m!==null&&i.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(ye.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(t,i)=>t0(t,i))&&Uo(this.baseMutations,e.baseMutations,(t,i)=>t0(t,i))}}class Zg{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){ge(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return wC}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new Zg(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Be;function HA(a){switch(a){case K.OK:return de(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return de(15467,{code:a})}}function KA(a){if(a===void 0)return At("GRPC error has no .code"),K.UNKNOWN;switch(a){case Ct.OK:return K.OK;case Ct.CANCELLED:return K.CANCELLED;case Ct.UNKNOWN:return K.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return K.INTERNAL;case Ct.UNAVAILABLE:return K.UNAVAILABLE;case Ct.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ct.NOT_FOUND:return K.NOT_FOUND;case Ct.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ct.ABORTED:return K.ABORTED;case Ct.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ct.DATA_LOSS:return K.DATA_LOSS;default:return de(39323,{code:a})}}(Be=Ct||(Ct={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new Jr([4294967295,4294967295],0);function r0(a){const e=Lg().encode(a),t=new jb;return t.update(e),new Uint8Array(t.digest())}function a0(a){const e=new DataView(a.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Jr([t,i],0),new Jr([s,l],0)]}class Wg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ou(`Invalid padding: ${t}`);if(i<0)throw new Ou(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Jr.fromNumber(this.pe)}we(e,t,i){let s=e.add(t.multiply(Jr.fromNumber(i)));return s.compare(PC)===1&&(s=new Jr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=r0(e),[i,s]=a0(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,s,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Wg(l,s,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=r0(e),[i,s]=a0(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,s,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,_c.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new yc(ye.min(),s,new rt(Se),bn(),Ie())}}class _c{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new _c(i,t,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t,i,s){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=s}}class QA{constructor(e,t){this.targetId=e,this.Ce=t}}class YA{constructor(e,t,i=vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class s0{constructor(){this.Fe=0,this.Me=o0(),this.xe=vt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ie(),t=Ie(),i=Ie();return this.Me.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:de(38017,{changeType:l})}}),new _c(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=o0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class LC{constructor(e){this.ze=e,this.je=new Map,this.He=bn(),this.Je=Jh(),this.Ye=Jh(),this.Ze=new rt(Se)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,i=e.Ce.count,s=this._t(t);if(s){const l=s.target;if(xf(l))if(i===0){const c=new le(l.path);this.tt(t,c,at.newNoDocument(c,ye.min()))}else ge(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),m=d?this.lt(d,e,c):1;if(m!==0){this.st(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,d;try{c=lr(i).toUint8Array()}catch(m){if(m instanceof mA)return Ri("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Wg(c,s,l)}catch(m){return Ri(m instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let s=0;return i.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),s++)}),s}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&xf(d.target)){const m=new le(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,at.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=Ie();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const s=new yc(e,t,this.Ze,this.He,i);return this.He=bn(),this.Je=Jh(),this.Ye=Jh(),this.Ze=new rt(Se),s}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new s0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Xe(Se),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Xe(Se),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||re("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new s0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Jh(){return new rt(le.comparator)}function o0(){return new rt(le.comparator)}const zC={asc:"ASCENDING",desc:"DESCENDING"},kC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UC={and:"AND",or:"OR"};class BC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rg(a,e){return a.useProto3Json||hc(e)?e:{value:e}}function Xo(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $A(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function qC(a,e){return Xo(a,e.toTimestamp())}function St(a){return ge(!!a,49232),ye.fromTimestamp(function(t){const i=or(t);return new ht(i.seconds,i.nanos)}(a))}function ey(a,e){return ag(a,e).canonicalString()}function ag(a,e){const t=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(a).child("documents");return e===void 0?t:t.child(e)}function XA(a){const e=Me.fromString(a);return ge(sS(e),10190,{key:e.toString()}),e}function ec(a,e){return ey(a.databaseId,e.path)}function Si(a,e){const t=XA(e);if(t.get(1)!==a.databaseId.projectId)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+a.databaseId.projectId);if(t.get(3)!==a.databaseId.database)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+a.databaseId.database);return new le(WA(t))}function ZA(a,e){return ey(a.databaseId,e)}function JA(a){const e=XA(a);return e.length===4?Me.emptyPath():WA(e)}function sg(a){return new Me(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function WA(a){return ge(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function l0(a,e,t){return{name:ec(a,e),fields:t.value.mapValue.fields}}function eS(a,e,t){const i=Si(a,e.name),s=St(e.updateTime),l=e.createTime?St(e.createTime):ye.min(),c=new Wt({mapValue:{fields:e.fields}}),d=at.newFoundDocument(i,s,l,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function jC(a,e){return"found"in e?function(i,s){ge(!!s.found,43571),s.found.name,s.found.updateTime;const l=Si(i,s.found.name),c=St(s.found.updateTime),d=s.found.createTime?St(s.found.createTime):ye.min(),m=new Wt({mapValue:{fields:s.found.fields}});return at.newFoundDocument(l,c,d,m)}(a,e):"missing"in e?function(i,s){ge(!!s.missing,3894),ge(!!s.readTime,22933);const l=Si(i,s.missing),c=St(s.readTime);return at.newNoDocument(l,c)}(a,e):de(7234,{result:e})}function FC(a,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:de(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(ge(_===void 0||typeof _=="string",58123),vt.fromBase64String(_||"")):(ge(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),vt.fromUint8Array(_||new Uint8Array))}(a,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const _=g.code===void 0?K.UNKNOWN:KA(g.code);return new ie(_,g.message||"")}(c);t=new YA(i,s,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Si(a,i.document.name),l=St(i.document.updateTime),c=i.document.createTime?St(i.document.createTime):ye.min(),d=new Wt({mapValue:{fields:i.document.fields}}),m=at.newFoundDocument(s,l,c,d),g=i.targetIds||[],_=i.removedTargetIds||[];t=new pf(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Si(a,i.document),l=i.readTime?St(i.readTime):ye.min(),c=at.newNoDocument(s,l),d=i.removedTargetIds||[];t=new pf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Si(a,i.document),l=i.removedTargetIds||[];t=new pf([],l,s,null)}else{if(!("filter"in e))return de(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new MC(s,l),d=i.targetId;t=new QA(d,c)}}return t}function tc(a,e){let t;if(e instanceof ll)t={update:l0(a,e.key,e.value)};else if(e instanceof ul)t={delete:ec(a,e.key)};else if(e instanceof dr)t={update:l0(a,e.key,e.data),updateMask:$C(e.fieldMask)};else{if(!(e instanceof $g))return de(16599,{ft:e.type});t={verify:ec(a,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Yo)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof gs)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ys)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $o)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw de(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:qC(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:de(27497)}(a,e.precondition)),t}function og(a,e){const t=e.currentDocument?function(l){return l.updateTime!==void 0?ct.updateTime(St(l.updateTime)):l.exists!==void 0?ct.exists(l.exists):ct.none()}(e.currentDocument):ct.none(),i=e.updateTransforms?e.updateTransforms.map(s=>function(c,d){let m=null;if("setToServerValue"in d)ge(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),m=new Yo;else if("appendMissingElements"in d){const _=d.appendMissingElements.values||[];m=new gs(_)}else if("removeAllFromArray"in d){const _=d.removeAllFromArray.values||[];m=new ys(_)}else"increment"in d?m=new $o(c,d.increment):de(16584,{proto:d});const g=ut.fromServerFormat(d.fieldPath);return new gc(g,m)}(a,s)):[];if(e.update){e.update.name;const s=Si(a,e.update.name),l=new Wt({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=function(m){const g=m.fieldPaths||[];return new Tn(g.map(_=>ut.fromServerFormat(_)))}(e.updateMask);return new dr(s,l,c,t,i)}return new ll(s,l,t,i)}if(e.delete){const s=Si(a,e.delete);return new ul(s,t)}if(e.verify){const s=Si(a,e.verify);return new $g(s,t)}return de(1463,{proto:e})}function GC(a,e){return a&&a.length>0?(ge(e!==void 0,14353),a.map(t=>function(s,l){let c=s.updateTime?St(s.updateTime):St(l);return c.isEqual(ye.min())&&(c=St(l)),new VC(c,s.transformResults||[])}(t,e))):[]}function tS(a,e){return{documents:[ZA(a,e.path)]}}function nS(a,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=ZA(a,s);const l=function(g){if(g.length!==0)return aS($e.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(A){return{field:Co(A.field),direction:KC(A.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=rg(a,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:s}}function iS(a){let e=JA(a.parent);const t=a.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){ge(i===1,65062);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const A=rS(T);return A instanceof $e&&Hg(A)?A.getFilters():[A]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(A=>function(C){return new Wu(Vo(C.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(A))}(t.orderBy));let d=null;t.limit&&(d=function(T){let A;return A=typeof T=="object"?T.value:T,hc(A)?null:A}(t.limit));let m=null;t.startAt&&(m=function(T){const A=!!T.before,D=T.values||[];return new oa(D,A)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const A=!T.before,D=T.values||[];return new oa(D,A)}(t.endAt)),CA(e,s,c,l,d,"F",m,g)}function HC(a,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rS(a){return a.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Vo(t.unaryFilter.field);return Pe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Vo(t.unaryFilter.field);return Pe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Vo(t.unaryFilter.field);return Pe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vo(t.unaryFilter.field);return Pe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(a):a.fieldFilter!==void 0?function(t){return Pe.create(Vo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(t){return $e.create(t.compositeFilter.filters.map(i=>rS(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(t.compositeFilter.op))}(a):de(30097,{filter:a})}function KC(a){return zC[a]}function QC(a){return kC[a]}function YC(a){return UC[a]}function Co(a){return{fieldPath:a.canonicalString()}}function Vo(a){return ut.fromServerFormat(a.fieldPath)}function aS(a){return a instanceof Pe?function(t){if(t.op==="=="){if(KT(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NAN"}};if(HT(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(KT(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NOT_NAN"}};if(HT(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(t.field),op:QC(t.op),value:t.value}}}(a):a instanceof $e?function(t){const i=t.getFilters().map(s=>aS(s));return i.length===1?i[0]:{compositeFilter:{op:YC(t.op),filters:i}}}(a):de(54877,{filter:a})}function $C(a){const e=[];return a.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sS(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t,i,s,l=ye.min(),c=ye.min(),d=vt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.wt=e}}function XC(a,e){let t;if(e.document)t=eS(a.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=le.fromSegments(e.noDocument.path),s=vs(e.noDocument.readTime);t=at.newNoDocument(i,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return de(56709);{const i=le.fromSegments(e.unknownDocument.path),s=vs(e.unknownDocument.version);t=at.newUnknownDocument(i,s)}}return e.readTime&&t.setReadTime(function(s){const l=new ht(s[0],s[1]);return ye.fromTimestamp(l)}(e.readTime)),t}function u0(a,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Nf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(l,c){return{name:ec(l,c.key),fields:c.data.value.mapValue.fields,updateTime:Xo(l,c.version.toTimestamp()),createTime:Xo(l,c.createTime.toTimestamp())}}(a.wt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:_s(e.version)};else{if(!e.isUnknownDocument())return de(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:_s(e.version)}}return i}function Nf(a){const e=a.toTimestamp();return[e.seconds,e.nanoseconds]}function _s(a){const e=a.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vs(a){const e=new ht(a.seconds,a.nanoseconds);return ye.fromTimestamp(e)}function as(a,e){const t=(e.baseMutations||[]).map(l=>og(a.wt,l));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const d=e.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const i=e.mutations.map(l=>og(a.wt,l)),s=ht.fromMillis(e.localWriteTimeMs);return new Xg(e.batchId,s,t,i)}function Mu(a){const e=vs(a.readTime),t=a.lastLimboFreeSnapshotVersion!==void 0?vs(a.lastLimboFreeSnapshotVersion):ye.min();let i;return i=function(l){return l.documents!==void 0}(a.query)?function(l){const c=l.documents.length;return ge(c===1,1966,{count:c}),pn(ol(JA(l.documents[0])))}(a.query):function(l){return pn(iS(l))}(a.query),new nr(i,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,e,t,vt.fromBase64String(a.resumeToken))}function lS(a,e){const t=_s(e.snapshotVersion),i=_s(e.lastLimboFreeSnapshotVersion);let s;s=xf(e.target)?tS(a.wt,e.target):nS(a.wt,e.target).gt;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ps(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}function ty(a){const e=iS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Vf(e,e.limit,"L"):e}function Vp(a,e){return new Jg(e.largestBatchId,og(a.wt,e.overlayMutation))}function c0(a,e){const t=e.path.lastSegment();return[a,on(e.path.popLast()),t]}function h0(a,e,t,i){return{indexId:a,uid:e,sequenceNumber:t,readTime:_s(i.readTime),documentKey:on(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{getBundleMetadata(e,t){return f0(e).get(t).next(i=>{if(i)return function(l){return{id:l.bundleId,createTime:vs(l.createTime),version:l.version}}(i)})}saveBundleMetadata(e,t){return f0(e).put(function(s){return{bundleId:s.id,createTime:_s(St(s.createTime)),version:s.version}}(t))}getNamedQuery(e,t){return d0(e).get(t).next(i=>{if(i)return function(l){return{name:l.name,query:ty(l.bundledQuery),readTime:vs(l.readTime)}}(i)})}saveNamedQuery(e,t){return d0(e).put(function(s){return{name:s.name,readTime:_s(St(s.readTime)),bundledQuery:s.bundledQuery}}(t))}}function f0(a){return zt(a,Kf)}function d0(a){return zt(a,Qf)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t){this.serializer=e,this.userId=t}static bt(e,t){const i=t.uid||"";return new ed(e,i)}getOverlay(e,t){return Ru(e).get(c0(this.userId,t)).next(i=>i?Vp(this.serializer,i):null)}getOverlays(e,t){const i=bi();return B.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){const s=[];return i.forEach((l,c)=>{const d=new Jg(t,c);s.push(this.St(e,d))}),B.waitFor(s)}removeOverlaysForBatchId(e,t,i){const s=new Set;t.forEach(c=>s.add(on(c.getCollectionPath())));const l=[];return s.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);l.push(Ru(e).X(Xp,d))}),B.waitFor(l)}getOverlaysForCollection(e,t,i){const s=bi(),l=on(t),c=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Ru(e).J(Xp,c).next(d=>{for(const m of d){const g=Vp(this.serializer,m);s.set(g.getKey(),g)}return s})}getOverlaysForCollectionGroup(e,t,i,s){const l=bi();let c;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ru(e).te({index:uA,range:d},(m,g,_)=>{const T=Vp(this.serializer,g);l.size()<s||T.largestBatchId===c?(l.set(T.getKey(),T),c=T.largestBatchId):_.done()}).next(()=>l)}St(e,t){return Ru(e).put(function(s,l,c){const[d,m,g]=c0(l,c.mutation.key);return{userId:l,collectionPath:m,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:tc(s.wt,c.mutation)}}(this.serializer,this.userId,t))}}function Ru(a){return zt(a,Yf)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{Dt(e){return zt(e,qg)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const i=t==null?void 0:t.value;return i?vt.fromUint8Array(i):vt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(lt(e.integerValue));else if("doubleValue"in e){const i=lt(e.doubleValue);isNaN(i)?this.Mt(t,13):(this.Mt(t,15),Ku(i)?t.xt(0):t.xt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Mt(t,20),typeof i=="string"&&(i=or(i)),t.Ot(`${i.seconds||""}`),t.xt(i.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(lr(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Mt(t,45),t.xt(i.latitude||0),t.xt(i.longitude||0)}else"mapValue"in e?EA(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Zf(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):de(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const i=e.fields||{};this.Mt(t,55);for(const s of Object.keys(i))this.Nt(s,t),this.Ct(i[s],t)}qt(e,t){var i,s;const l=e.fields||{};this.Mt(t,53);const c=Ho,d=((s=(i=l[c].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.length)||0;this.Mt(t,15),t.xt(lt(d)),this.Nt(c,t),this.Ct(l[c],t)}$t(e,t){const i=e.values||[];this.Mt(t,50);for(const s of i)this.Ct(s,t)}kt(e,t){this.Mt(t,37),le.fromName(e).path.forEach(i=>{this.Mt(t,60),this.Kt(i,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}ss.Wt=new ss;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=255;function WC(a){if(a===0)return 8;let e=0;return a>>4||(e+=4,a<<=4),a>>6||(e+=2,a<<=2),a>>7||(e+=1),e}function m0(a){const e=64-function(i){let s=0;for(let l=0;l<8;++l){const c=WC(255&i[l]);if(s+=c,c!==8)break}return s}(a);return Math.ceil(e/8)}class e2{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.zt(i.value),i=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Jt(i.value),i=t.next();this.Yt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.zt(i);else if(i<2048)this.zt(960|i>>>6),this.zt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.zt(480|i>>>12),this.zt(128|63&i>>>6),this.zt(128|63&i);else{const s=t.codePointAt(0);this.zt(240|s>>>18),this.zt(128|63&s>>>12),this.zt(128|63&s>>>6),this.zt(128|63&s)}}this.jt()}Xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Jt(i);else if(i<2048)this.Jt(960|i>>>6),this.Jt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Yt()}en(e){const t=this.tn(e),i=m0(t);this.nn(1+i),this.buffer[this.position++]=255&i;for(let s=t.length-i;s<t.length;++s)this.buffer[this.position++]=255&t[s]}rn(e){const t=this.tn(e),i=m0(t);this.nn(1+i),this.buffer[this.position++]=~(255&i);for(let s=t.length-i;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}sn(){this._n(So),this._n(255)}an(){this.un(So),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)}(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let s=1;s<t.length;++s)t[s]^=i?255:0;return t}zt(e){const t=255&e;t===0?(this._n(0),this._n(255)):t===So?(this._n(So),this._n(0)):this._n(t)}Jt(e){const t=255&e;t===0?(this.un(0),this.un(255)):t===So?(this.un(So),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const s=new Uint8Array(i);s.set(this.buffer),this.buffer=s}}class t2{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class n2{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class Iu{constructor(){this.ln=new e2,this.hn=new t2(this.ln),this.Pn=new n2(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t,i,s){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=s}In(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new os(this.indexId,this.documentKey,this.arrayValue,i)}}function Gr(a,e){let t=a.indexId-e.indexId;return t!==0?t:(t=p0(a.arrayValue,e.arrayValue),t!==0?t:(t=p0(a.directionalValue,e.directionalValue),t!==0?t:le.comparator(a.documentKey,e.documentKey)))}function p0(a,e){for(let t=0;t<a.length&&t<e.length;++t){const i=a[t]-e[t];if(i!==0)return i}return a.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.En=new Xe((t,i)=>ut.comparator(t.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.An=[];for(const t of e.filters){const i=t;i.isInequality()?this.En=this.En.add(i):this.An.push(i)}}get Rn(){return this.En.size>1}Vn(e){if(ge(e.collectionGroup===this.collectionId,49279),this.Rn)return!1;const t=Qp(e);if(t!==void 0&&!this.mn(t))return!1;const i=ns(e);let s=new Set,l=0,c=0;for(;l<i.length&&this.mn(i[l]);++l)s=s.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.En.size>0){const d=this.En.getIterator().getNext();if(!s.has(d.field.canonicalString())){const m=i[l];if(!this.fn(d,m)||!this.gn(this.dn[c++],m))return!1}++l}for(;l<i.length;++l){const d=i[l];if(c>=this.dn.length||!this.gn(this.dn[c++],d))return!1}return!0}pn(){if(this.Rn)return null;let e=new Xe(ut.comparator);const t=[];for(const i of this.An)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new lf(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new lf(i.field,0))}for(const i of this.dn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new lf(i.field,i.dir==="asc"?0:1)));return new bf(bf.UNKNOWN_ID,this.collectionId,t,Hu.empty())}mn(e){for(const t of this.An)if(this.fn(t,e))return!0;return!1}fn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}gn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(a){var e,t;if(ge(a instanceof Pe||a instanceof $e,20012),a instanceof Pe){if(a instanceof xA){const s=((t=(e=a.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(l=>Pe.create(a.field,"==",l)))||[];return $e.create(s,"or")}return a}const i=a.filters.map(s=>uS(s));return $e.create(i,a.op)}function i2(a){if(a.getFilters().length===0)return[];const e=cg(uS(a));return ge(cS(e),7391),lg(e)||ug(e)?[e]:e.getFilters()}function lg(a){return a instanceof Pe}function ug(a){return a instanceof $e&&Hg(a)}function cS(a){return lg(a)||ug(a)||function(t){if(t instanceof $e&&eg(t)){for(const i of t.getFilters())if(!lg(i)&&!ug(i))return!1;return!0}return!1}(a)}function cg(a){if(ge(a instanceof Pe||a instanceof $e,34018),a instanceof Pe)return a;if(a.filters.length===1)return cg(a.filters[0]);const e=a.filters.map(i=>cg(i));let t=$e.create(e,a.op);return t=Of(t),cS(t)?t:(ge(t instanceof $e,64498),ge(Qo(t),40251),ge(t.filters.length>1,57927),t.filters.reduce((i,s)=>ny(i,s)))}function ny(a,e){let t;return ge(a instanceof Pe||a instanceof $e,38388),ge(e instanceof Pe||e instanceof $e,25473),t=a instanceof Pe?e instanceof Pe?function(s,l){return $e.create([s,l],"and")}(a,e):y0(a,e):e instanceof Pe?y0(e,a):function(s,l){if(ge(s.filters.length>0&&l.filters.length>0,48005),Qo(s)&&Qo(l))return RA(s,l.getFilters());const c=eg(s)?s:l,d=eg(s)?l:s,m=c.filters.map(g=>ny(g,d));return $e.create(m,"or")}(a,e),Of(t)}function y0(a,e){if(Qo(e))return RA(e,a.getFilters());{const t=e.filters.map(i=>ny(a,i));return $e.create(t,"or")}}function Of(a){if(ge(a instanceof Pe||a instanceof $e,11850),a instanceof Pe)return a;const e=a.getFilters();if(e.length===1)return Of(e[0]);if(SA(a))return a;const t=e.map(s=>Of(s)),i=[];return t.forEach(s=>{s instanceof Pe?i.push(s):s instanceof $e&&(s.op===a.op?i.push(...s.filters):i.push(s))}),i.length===1?i[0]:$e.create(i,a.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.yn=new iy}addToCollectionParentIndex(e,t){return this.yn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(On.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(On.min())}updateCollectionGroup(e,t,i){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}}class iy{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Xe(Me.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Xe(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="IndexedDbIndexManager",Wh=new Uint8Array(0);class a2{constructor(e,t){this.databaseId=t,this.wn=new iy,this.bn=new fr(i=>ps(i),(i,s)=>dc(i,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.wn.has(t)){const i=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.wn.add(t)});const l={collectionId:i,parent:on(s)};return v0(e).put(l)}return B.resolve()}getCollectionParents(e,t){const i=[],s=IDBKeyRange.bound([t,""],[Zb(t),""],!1,!0);return v0(e).J(s).next(l=>{for(const c of l){if(c.collectionId!==t)break;i.push(Ti(c.parent))}return i})}addFieldIndex(e,t){const i=Du(e),s=function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])}}(t);delete s.indexId;const l=i.add(s);if(t.indexState){const c=Ro(e);return l.next(d=>{c.put(h0(d,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const i=Du(e),s=Ro(e),l=wo(e);return i.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Du(e),i=wo(e),s=Ro(e);return t.X().next(()=>i.X()).next(()=>s.X())}createTargetIndexes(e,t){return B.forEach(this.Sn(t),i=>this.getIndexType(e,i).next(s=>{if(s===0||s===1){const l=new g0(i).pn();if(l!=null)return this.addFieldIndex(e,l)}}))}getDocumentsMatchingTarget(e,t){const i=wo(e);let s=!0;const l=new Map;return B.forEach(this.Sn(t),c=>this.Dn(e,c).next(d=>{s&&(s=!!d),l.set(c,d)})).next(()=>{if(s){let c=Ie();const d=[];return B.forEach(l,(m,g)=>{re(_0,`Using index ${function(Z){return`id=${Z.indexId}|cg=${Z.collectionGroup}|f=${Z.fields.map(me=>`${me.fieldPath}:${me.kind}`).join(",")}`}(m)} to execute ${ps(t)}`);const _=function(Z,me){const fe=Qp(me);if(fe===void 0)return null;for(const Ee of Cf(Z,fe.fieldPath))switch(Ee.op){case"array-contains-any":return Ee.value.arrayValue.values||[];case"array-contains":return[Ee.value]}return null}(g,m),T=function(Z,me){const fe=new Map;for(const Ee of ns(me))for(const V of Cf(Z,Ee.fieldPath))switch(V.op){case"==":case"in":fe.set(Ee.fieldPath.canonicalString(),V.value);break;case"not-in":case"!=":return fe.set(Ee.fieldPath.canonicalString(),V.value),Array.from(fe.values())}return null}(g,m),A=function(Z,me){const fe=[];let Ee=!0;for(const V of ns(me)){const w=V.kind===0?ZT(Z,V.fieldPath,Z.startAt):JT(Z,V.fieldPath,Z.startAt);fe.push(w.value),Ee&&(Ee=w.inclusive)}return new oa(fe,Ee)}(g,m),D=function(Z,me){const fe=[];let Ee=!0;for(const V of ns(me)){const w=V.kind===0?JT(Z,V.fieldPath,Z.endAt):ZT(Z,V.fieldPath,Z.endAt);fe.push(w.value),Ee&&(Ee=w.inclusive)}return new oa(fe,Ee)}(g,m),C=this.vn(m,g,A),G=this.vn(m,g,D),k=this.Cn(m,g,T),Y=this.Fn(m.indexId,_,C,A.inclusive,G,D.inclusive,k);return B.forEach(Y,ae=>i.Z(ae,t.limit).next(Z=>{Z.forEach(me=>{const fe=le.fromSegments(me.documentKey);c.has(fe)||(c=c.add(fe),d.push(fe))})}))}).next(()=>d)}return B.resolve(null)})}Sn(e){let t=this.bn.get(e);return t||(e.filters.length===0?t=[e]:t=i2($e.create(e.filters,"and")).map(i=>ng(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.bn.set(e,t),t)}Fn(e,t,i,s,l,c,d){const m=(t!=null?t.length:1)*Math.max(i.length,l.length),g=m/(t!=null?t.length:1),_=[];for(let T=0;T<m;++T){const A=t?this.Mn(t[T/g]):Wh,D=this.xn(e,A,i[T%g],s),C=this.On(e,A,l[T%g],c),G=d.map(k=>this.xn(e,A,k,!0));_.push(...this.createRange(D,C,G))}return _}xn(e,t,i,s){const l=new os(e,le.empty(),t,i);return s?l:l.In()}On(e,t,i,s){const l=new os(e,le.empty(),t,i);return s?l.In():l}Dn(e,t){const i=new g0(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(l=>{let c=null;for(const d of l)i.Vn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(e,t){let i=2;const s=this.Sn(t);return B.forEach(s,l=>this.Dn(e,l).next(c=>{c?i!==0&&c.fields.length<function(m){let g=new Xe(ut.comparator),_=!1;for(const T of m.filters)for(const A of T.getFlattenedFilters())A.field.isKeyField()||(A.op==="array-contains"||A.op==="array-contains-any"?_=!0:g=g.add(A.field));for(const T of m.orderBy)T.field.isKeyField()||(g=g.add(T.field));return g.size+(_?1:0)}(l)&&(i=1):i=0})).next(()=>function(c){return c.limit!==null}(t)&&s.length>1&&i===2?1:i)}Nn(e,t){const i=new Iu;for(const s of ns(e)){const l=t.data.field(s.fieldPath);if(l==null)return null;const c=i.Tn(s.kind);ss.Wt.vt(l,c)}return i.cn()}Mn(e){const t=new Iu;return ss.Wt.vt(e,t.Tn(0)),t.cn()}Bn(e,t){const i=new Iu;return ss.Wt.vt(ms(this.databaseId,t),i.Tn(function(l){const c=ns(l);return c.length===0?0:c[c.length-1].kind}(e))),i.cn()}Cn(e,t,i){if(i===null)return[];let s=[];s.push(new Iu);let l=0;for(const c of ns(e)){const d=i[l++];for(const m of s)if(this.Ln(t,c.fieldPath)&&Ju(d))s=this.kn(s,c,d);else{const g=m.Tn(c.kind);ss.Wt.vt(d,g)}}return this.qn(s)}vn(e,t,i){return this.Cn(e,t,i.position)}qn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].cn();return t}kn(e,t,i){const s=[...e],l=[];for(const c of i.arrayValue.values||[])for(const d of s){const m=new Iu;m.seed(d.cn()),ss.Wt.vt(c,m.Tn(t.kind)),l.push(m)}return l}Ln(e,t){return!!e.filters.find(i=>i instanceof Pe&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,t){const i=Du(e),s=Ro(e);return(t?i.J($p,IDBKeyRange.bound(t,t)):i.J()).next(l=>{const c=[];return B.forEach(l,d=>s.get([d.indexId,this.uid]).next(m=>{c.push(function(_,T){const A=T?new Hu(T.sequenceNumber,new On(vs(T.readTime),new le(Ti(T.documentKey)),T.largestBatchId)):Hu.empty(),D=_.fields.map(([C,G])=>new lf(ut.fromServerFormat(C),G));return new bf(_.indexId,_.collectionGroup,D,A)}(d,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((i,s)=>{const l=i.indexState.sequenceNumber-s.indexState.sequenceNumber;return l!==0?l:Se(i.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const s=Du(e),l=Ro(e);return this.Qn(e).next(c=>s.J($p,IDBKeyRange.bound(t,t)).next(d=>B.forEach(d,m=>l.put(h0(m.indexId,this.uid,c,i)))))}updateIndexEntries(e,t){const i=new Map;return B.forEach(t,(s,l)=>{const c=i.get(s.collectionGroup);return(c?B.resolve(c):this.getFieldIndexes(e,s.collectionGroup)).next(d=>(i.set(s.collectionGroup,d),B.forEach(d,m=>this.$n(e,s,m).next(g=>{const _=this.Un(l,m);return g.isEqual(_)?B.resolve():this.Kn(e,l,m,g,_)}))))})}Wn(e,t,i,s){return wo(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.Bn(i,t.key),documentKey:t.key.path.toArray()})}Gn(e,t,i,s){return wo(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.Bn(i,t.key),t.key.path.toArray()])}$n(e,t,i){const s=wo(e);let l=new Xe(Gr);return s.te({index:lA,range:IDBKeyRange.only([i.indexId,this.uid,this.Bn(i,t)])},(c,d)=>{l=l.add(new os(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>l)}Un(e,t){let i=new Xe(Gr);const s=this.Nn(t,e);if(s==null)return i;const l=Qp(t);if(l!=null){const c=e.data.field(l.fieldPath);if(Ju(c))for(const d of c.arrayValue.values||[])i=i.add(new os(t.indexId,e.key,this.Mn(d),s))}else i=i.add(new os(t.indexId,e.key,Wh,s));return i}Kn(e,t,i,s,l){re(_0,"Updating index entries for document '%s'",t.key);const c=[];return function(m,g,_,T,A){const D=m.getIterator(),C=g.getIterator();let G=Ao(D),k=Ao(C);for(;G||k;){let Y=!1,ae=!1;if(G&&k){const Z=_(G,k);Z<0?ae=!0:Z>0&&(Y=!0)}else G!=null?ae=!0:Y=!0;Y?(T(k),k=Ao(C)):ae?(A(G),G=Ao(D)):(G=Ao(D),k=Ao(C))}}(s,l,Gr,d=>{c.push(this.Wn(e,t,i,d))},d=>{c.push(this.Gn(e,t,i,d))}),B.waitFor(c)}Qn(e){let t=1;return Ro(e).te({index:oA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,s,l)=>{l.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,d)=>Gr(c,d)).filter((c,d,m)=>!d||Gr(c,m[d-1])!==0);const s=[];s.push(e);for(const c of i){const d=Gr(c,e),m=Gr(c,t);if(d===0)s[0]=e.In();else if(d>0&&m<0)s.push(c),s.push(c.In());else if(m>0)break}s.push(t);const l=[];for(let c=0;c<s.length;c+=2){if(this.zn(s[c],s[c+1]))return[];const d=[s[c].indexId,this.uid,s[c].arrayValue,s[c].directionalValue,Wh,[]],m=[s[c+1].indexId,this.uid,s[c+1].arrayValue,s[c+1].directionalValue,Wh,[]];l.push(IDBKeyRange.bound(d,m))}return l}zn(e,t){return Gr(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(E0)}getMinOffset(e,t){return B.mapArray(this.Sn(t),i=>this.Dn(e,i).next(s=>s||de(44426))).next(E0)}}function v0(a){return zt(a,$u)}function wo(a){return zt(a,If)}function Du(a){return zt(a,Bg)}function Ro(a){return zt(a,Rf)}function E0(a){ge(a.length!==0,28825);let e=a[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<a.length;i++){const s=a[i].indexState.offset;zg(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new On(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hS=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(a,e,t){const i=a.store(ti),s=a.store(qo),l=[],c=IDBKeyRange.only(t.batchId);let d=0;const m=i.te({range:c},(_,T,A)=>(d++,A.delete()));l.push(m.next(()=>{ge(d===1,47070,{batchId:t.batchId})}));const g=[];for(const _ of t.mutations){const T=rA(e,_.key.path,t.batchId);l.push(s.delete(T)),g.push(_.key)}return B.waitFor(l).next(()=>g)}function Mf(a){if(!a)return 0;let e;if(a.document)e=a.document;else if(a.unknownDocument)e=a.unknownDocument;else{if(!a.noDocument)throw de(14731);e=a.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(hS,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);class td{constructor(e,t,i,s){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=s,this.jn={}}static bt(e,t,i,s){ge(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new td(l,t,i,s)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hr(e).te({index:us,range:i},(s,l,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,s){const l=No(e),c=Hr(e);return c.add({}).next(d=>{ge(typeof d=="number",49019);const m=new Xg(d,t,i,s),g=function(D,C,G){const k=G.baseMutations.map(ae=>tc(D.wt,ae)),Y=G.mutations.map(ae=>tc(D.wt,ae));return{userId:C,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:k,mutations:Y}}(this.serializer,this.userId,m),_=[];let T=new Xe((A,D)=>Se(A.canonicalString(),D.canonicalString()));for(const A of s){const D=rA(this.userId,A.key.path,d);T=T.add(A.key.path.popLast()),_.push(c.put(g)),_.push(l.put(D,Ux))}return T.forEach(A=>{_.push(this.indexManager.addToCollectionParentIndex(e,A))}),e.addOnCommittedListener(()=>{this.jn[d]=m.keys()}),B.waitFor(_).next(()=>m)})}lookupMutationBatch(e,t){return Hr(e).get(t).next(i=>i?(ge(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),as(this.serializer,i)):null)}Hn(e,t){return this.jn[t]?B.resolve(this.jn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const s=i.keys();return this.jn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Hr(e).te({index:us,range:s},(c,d,m)=>{d.userId===this.userId&&(ge(d.batchId>=i,47524,{Jn:i}),l=as(this.serializer,d)),m.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Wr;return Hr(e).te({index:us,range:t,reverse:!0},(s,l,c)=>{i=l.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Wr],[this.userId,Number.POSITIVE_INFINITY]);return Hr(e).J(us,t).next(i=>i.map(s=>as(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=uf(this.userId,t.path),s=IDBKeyRange.lowerBound(i),l=[];return No(e).te({range:s},(c,d,m)=>{const[g,_,T]=c,A=Ti(_);if(g===this.userId&&t.path.isEqual(A))return Hr(e).get(T).next(D=>{if(!D)throw de(61480,{Yn:c,batchId:T});ge(D.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:D.userId,batchId:T}),l.push(as(this.serializer,D))});m.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Xe(Se);const s=[];return t.forEach(l=>{const c=uf(this.userId,l.path),d=IDBKeyRange.lowerBound(c),m=No(e).te({range:d},(g,_,T)=>{const[A,D,C]=g,G=Ti(D);A===this.userId&&l.path.isEqual(G)?i=i.add(C):T.done()});s.push(m)}),B.waitFor(s).next(()=>this.Zn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1,l=uf(this.userId,i),c=IDBKeyRange.lowerBound(l);let d=new Xe(Se);return No(e).te({range:c},(m,g,_)=>{const[T,A,D]=m,C=Ti(A);T===this.userId&&i.isPrefixOf(C)?C.length===s&&(d=d.add(D)):_.done()}).next(()=>this.Zn(e,d))}Zn(e,t){const i=[],s=[];return t.forEach(l=>{s.push(Hr(e).get(l).next(c=>{if(c===null)throw de(35274,{batchId:l});ge(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),i.push(as(this.serializer,c))}))}),B.waitFor(s).next(()=>i)}removeMutationBatch(e,t){return fS(e.he,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Xn(t.batchId)}),B.forEach(i,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Xn(e){delete this.jn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return B.resolve();const i=IDBKeyRange.lowerBound(function(c){return[c]}(this.userId)),s=[];return No(e).te({range:i},(l,c,d)=>{if(l[0]===this.userId){const m=Ti(l[1]);s.push(m)}else d.done()}).next(()=>{ge(s.length===0,56720,{er:s.map(l=>l.canonicalString())})})})}containsKey(e,t){return dS(e,this.userId,t)}tr(e){return mS(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Wr,lastStreamToken:""})}}function dS(a,e,t){const i=uf(e,t.path),s=i[1],l=IDBKeyRange.lowerBound(i);let c=!1;return No(a).te({range:l,ee:!0},(d,m,g)=>{const[_,T,A]=d;_===e&&T===s&&(c=!0),g.done()}).next(()=>c)}function Hr(a){return zt(a,ti)}function No(a){return zt(a,qo)}function mS(a){return zt(a,Qu)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Es(0)}static ir(){return new Es(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.sr(e).next(t=>{const i=new Es(t.highestTargetId);return t.highestTargetId=i.next(),this._r(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.sr(e).next(t=>ye.fromTimestamp(new ht(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.sr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.sr(e).next(s=>(s.highestListenSequenceNumber=t,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this._r(e,s)))}addTargetData(e,t){return this.ar(e,t).next(()=>this.sr(e).next(i=>(i.targetCount+=1,this.ur(t,i),this._r(e,i))))}updateTargetData(e,t){return this.ar(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Io(e).delete(t.targetId)).next(()=>this.sr(e)).next(i=>(ge(i.targetCount>0,8065),i.targetCount-=1,this._r(e,i)))}removeTargets(e,t,i){let s=0;const l=[];return Io(e).te((c,d)=>{const m=Mu(d);m.sequenceNumber<=t&&i.get(m.targetId)===null&&(s++,l.push(this.removeTargetData(e,m)))}).next(()=>B.waitFor(l)).next(()=>s)}forEachTarget(e,t){return Io(e).te((i,s)=>{const l=Mu(s);t(l)})}sr(e){return b0(e).get(wf).next(t=>(ge(t!==null,2888),t))}_r(e,t){return b0(e).put(wf,t)}ar(e,t){return Io(e).put(lS(this.serializer,t))}ur(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.sr(e).next(t=>t.targetCount)}getTargetData(e,t){const i=ps(t),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return Io(e).te({range:s,index:sA},(c,d,m)=>{const g=Mu(d);dc(t,g.target)&&(l=g,m.done())}).next(()=>l)}addMatchingKeys(e,t,i){const s=[],l=Yr(e);return t.forEach(c=>{const d=on(c.path);s.push(l.put({targetId:i,path:d})),s.push(this.referenceDelegate.addReference(e,i,c))}),B.waitFor(s)}removeMatchingKeys(e,t,i){const s=Yr(e);return B.forEach(t,l=>{const c=on(l.path);return B.waitFor([s.delete([i,c]),this.referenceDelegate.removeReference(e,i,l)])})}removeMatchingKeysForTargetId(e,t){const i=Yr(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),s=Yr(e);let l=Ie();return s.te({range:i,ee:!0},(c,d,m)=>{const g=Ti(c[1]),_=new le(g);l=l.add(_)}).next(()=>l)}containsKey(e,t){const i=on(t.path),s=IDBKeyRange.bound([i],[Zb(i)],!1,!0);let l=0;return Yr(e).te({index:Ug,ee:!0,range:s},([c,d],m,g)=>{c!==0&&(l++,g.done())}).next(()=>l>0)}Rt(e,t){return Io(e).get(t).next(i=>i?Mu(i):null)}}function Io(a){return zt(a,jo)}function b0(a){return zt(a,fs)}function Yr(a){return zt(a,Fo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="LruGarbageCollector",o2=1048576;function S0([a,e],[t,i]){const s=Se(a,t);return s===0?Se(e,i):s}class l2{constructor(e){this.cr=e,this.buffer=new Xe(S0),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();S0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pS{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){re(A0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){da(t)?re(A0,"Ignoring IndexedDB error during garbage collection: ",t):await fa(t)}await this.Ir(3e5)})}}class u2{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return B.resolve(En.le);const i=new l2(t);return this.Er.forEachTarget(e,s=>i.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>i.Pr(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(T0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T0):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,s,l,c,d,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,c=Date.now(),this.nthSequenceNumber(e,s))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(g=Date.now(),Do()<=Le.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:T})))}}function gS(a,e){return new u2(a,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,t){this.db=e,this.garbageCollector=gS(this,t)}dr(e){const t=this.Vr(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ar(e,t){return this.mr(e,(i,s)=>t(s))}addReference(e,t,i){return ef(e,i)}removeReference(e,t,i){return ef(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return ef(e,t)}gr(e,t){return function(s,l){let c=!1;return mS(s).ne(d=>dS(s,d,l).next(m=>(m&&(c=!0),B.resolve(!m)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let l=0;return this.mr(e,(c,d)=>{if(d<=t){const m=this.gr(e,c).next(g=>{if(!g)return l++,i.getEntry(e,c).next(()=>(i.removeEntry(c,ye.min()),Yr(e).delete(function(T){return[0,on(T.path)]}(c))))});s.push(m)}}).next(()=>B.waitFor(s)).next(()=>i.apply(e)).next(()=>l)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return ef(e,t)}mr(e,t){const i=Yr(e);let s,l=En.le;return i.te({index:Ug},([c,d],{path:m,sequenceNumber:g})=>{c===0?(l!==En.le&&t(new le(Ti(s)),l),l=g,s=m):l=En.le}).next(()=>{l!==En.le&&t(new le(Ti(s)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ef(a,e){return Yr(a).put(function(i,s){return{targetId:0,path:on(i.path),sequenceNumber:s}}(e,a.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.changes=new fr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,at.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?B.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return es(e).put(i)}removeEntry(e,t,i){return es(e).delete(function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Nf(c),d[d.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.pr(e,i)))}getEntry(e,t){let i=at.newInvalidDocument(t);return es(e).te({index:cf,range:IDBKeyRange.only(xu(t))},(s,l)=>{i=this.yr(t,l)}).next(()=>i)}wr(e,t){let i={size:0,document:at.newInvalidDocument(t)};return es(e).te({index:cf,range:IDBKeyRange.only(xu(t))},(s,l)=>{i={document:this.yr(t,l),size:Mf(l)}}).next(()=>i)}getEntries(e,t){let i=bn();return this.br(e,t,(s,l)=>{const c=this.yr(s,l);i=i.insert(s,c)}).next(()=>i)}Sr(e,t){let i=bn(),s=new rt(le.comparator);return this.br(e,t,(l,c)=>{const d=this.yr(l,c);i=i.insert(l,d),s=s.insert(l,Mf(c))}).next(()=>({documents:i,Dr:s}))}br(e,t,i){if(t.isEmpty())return B.resolve();let s=new Xe(I0);t.forEach(m=>s=s.add(m));const l=IDBKeyRange.bound(xu(s.first()),xu(s.last())),c=s.getIterator();let d=c.getNext();return es(e).te({index:cf,range:l},(m,g,_)=>{const T=le.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&I0(d,T)<0;)i(d,null),d=c.getNext();d&&d.isEqual(T)&&(i(d,g),d=c.hasNext()?c.getNext():null),d?_.H(xu(d)):_.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,i,s,l){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),Nf(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return es(e).J(IDBKeyRange.bound(d,m,!0)).next(g=>{l==null||l.incrementDocumentReadCount(g.length);let _=bn();for(const T of g){const A=this.yr(le.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);A.isFoundDocument()&&(pc(t,A)||s.has(A.key))&&(_=_.insert(A.key,A))}return _})}getAllFromCollectionGroup(e,t,i,s){let l=bn();const c=R0(t,i),d=R0(t,On.max());return es(e).te({index:aA,range:IDBKeyRange.bound(c,d,!0)},(m,g,_)=>{const T=this.yr(le.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);l=l.insert(T.key,T),l.size===s&&_.done()}).next(()=>l)}newChangeBuffer(e){return new f2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return w0(e).get(Yp).next(t=>(ge(!!t,20021),t))}pr(e,t){return w0(e).put(Yp,t)}yr(e,t){if(t){const i=XC(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(ye.min())))return i}return at.newInvalidDocument(e)}}function _S(a){return new h2(a)}class f2 extends yS{constructor(e,t){super(),this.vr=e,this.trackRemovals=t,this.Cr=new fr(i=>i.toString(),(i,s)=>i.isEqual(s))}applyChanges(e){const t=[];let i=0,s=new Xe((l,c)=>Se(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const d=this.Cr.get(l);if(t.push(this.vr.removeEntry(e,l,d.readTime)),c.isValidDocument()){const m=u0(this.vr.serializer,c);s=s.add(l.path.popLast());const g=Mf(m);i+=g-d.size,t.push(this.vr.addEntry(e,l,m))}else if(i-=d.size,this.trackRemovals){const m=u0(this.vr.serializer,c.convertToNoDocument(ye.min()));t.push(this.vr.addEntry(e,l,m))}}),s.forEach(l=>{t.push(this.vr.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.vr.updateMetadata(e,i)),B.waitFor(t)}getFromCache(e,t){return this.vr.wr(e,t).next(i=>(this.Cr.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.vr.Sr(e,t).next(({documents:i,Dr:s})=>(s.forEach((l,c)=>{this.Cr.set(l,{size:c,readTime:i.get(l).readTime})}),i))}}function w0(a){return zt(a,Yu)}function es(a){return zt(a,Sf)}function xu(a){const e=a.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function R0(a,e){const t=e.documentKey.path.toArray();return[a,Nf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function I0(a,e){const t=a.path.toArray(),i=e.path.toArray();let s=0;for(let l=0;l<t.length-2&&l<i.length-2;++l)if(s=Se(t[l],i[l]),s)return s;return s=Se(t.length,i.length),s||(s=Se(t[t.length-2],i[i.length-2]),s||Se(t[t.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&Uu(i.mutation,s,Tn.empty(),ht.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ie()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ie()){const s=bi();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(l=>{let c=Nu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=bi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ie()))}populateOverlays(e,t,i){const s=[];return i.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,s){let l=bn();const c=ku(),d=function(){return ku()}();return t.forEach((m,g)=>{const _=i.get(g.key);s.has(g.key)&&(_===void 0||_.mutation instanceof dr)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Uu(_.mutation,g,_.mutation.getFieldMask(),ht.now())):c.set(g.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>{var T;return d.set(g,new d2(_,(T=c.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=ku();let s=new rt((c,d)=>c-d),l=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let _=i.get(m)||Tn.empty();_=d.applyToLocalView(g,_),i.set(m,_);const T=(s.get(d.batchId)||Ie()).add(m);s=s.insert(d.batchId,T)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,T=LA();_.forEach(A=>{if(!l.has(A)){const D=FA(t.get(A),i.get(A));D!==null&&T.set(A,D),l=l.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return B.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return le.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Kg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):B.resolve(bi());let d=Bo,m=l;return c.next(g=>B.forEach(g,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?B.resolve():this.remoteDocumentCache.getEntry(e,_).next(A=>{m=m.insert(_,A)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,Ie())).next(_=>({batchId:d,changes:PA(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new le(t)).next(i=>{let s=Nu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=Nu();return this.indexManager.getCollectionParents(e,l).next(d=>B.forEach(d,m=>{const g=function(T,A){return new hr(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,s).next(_=>{_.forEach((T,A)=>{c=c.insert(T,A)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s))).next(c=>{l.forEach((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,at.newInvalidDocument(_)))});let d=Nu();return c.forEach((m,g)=>{const _=l.get(m);_!==void 0&&Uu(_.mutation,g,Tn.empty(),ht.now()),pc(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return B.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:St(s.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(s){return{name:s.name,query:ty(s.bundledQuery),readTime:St(s.readTime)}}(t)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.overlays=new rt(le.comparator),this.Or=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){const i=bi();return B.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,l)=>{this.St(e,t,l)}),B.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Or.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(i)),B.resolve()}getOverlaysForCollection(e,t,i){const s=bi(),l=t.length+1,c=new le(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&s.set(m.getKey(),m)}return B.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new rt((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=bi(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=bi(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=s)););return B.resolve(d)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Or.get(s.largestBatchId).delete(i.key);this.Or.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Jg(t,i));let l=this.Or.get(t);l===void 0&&(l=Ie(),this.Or.set(t,l)),this.Or.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.Nr=new Xe(Gt.Br),this.Lr=new Xe(Gt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new Gt(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new Gt(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new le(new Me([])),i=new Gt(t,e),s=new Gt(t,e+1),l=[];return this.Lr.forEachInRange([i,s],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new le(new Me([])),i=new Gt(t,e),s=new Gt(t,e+1);let l=Ie();return this.Lr.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Gt(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Gt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return le.comparator(e.key,t.key)||Se(e.Gr,t.Gr)}static kr(e,t){return Se(e.Gr,t.Gr)||le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Xe(Gt.Br)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Xg(l,t,i,s);this.mutationQueue.push(c);for(const d of s)this.zr=this.zr.add(new Gt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return B.resolve(c)}lookupMutationBatch(e,t){return B.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Hr(i),l=s<0?0:s;return B.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Wr:this.Jn-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Gt(t,0),s=new Gt(t,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([i,s],c=>{const d=this.jr(c.Gr);l.push(d)}),B.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Xe(Se);return t.forEach(s=>{const l=new Gt(s,0),c=new Gt(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],d=>{i=i.add(d.Gr)})}),B.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;le.isDocumentKey(l)||(l=l.child(""));const c=new Gt(new le(l),0);let d=new Xe(Se);return this.zr.forEachWhile(m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===s&&(d=d.add(m.Gr)),!0)},c),B.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(i=>{const s=this.jr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){ge(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return B.forEach(t.mutations,s=>{const l=new Gt(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new Gt(t,0),s=this.zr.firstAfterOrEqual(i);return B.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.Zr=e,this.docs=function(){return new rt(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return B.resolve(i?i.document.mutableCopy():at.newInvalidDocument(t))}getEntries(e,t){let i=bn();return t.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():at.newInvalidDocument(s))}),B.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=bn();const c=t.path,d=new le(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||zg(Wb(_),i)<=0||(s.has(_.key)||pc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return B.resolve(l)}getAllFromCollectionGroup(e,t,i,s){de(9500)}Xr(e,t){return B.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new v2(this)}getSize(e){return B.resolve(this.size)}}class v2 extends yS{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.vr.addEntry(e,s)):this.vr.removeEntry(i)}),B.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.persistence=e,this.ei=new fr(t=>ps(t),dc),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.ti=0,this.ni=new ry,this.targetCount=0,this.ri=Es.rr()}forEachTarget(e,t){return this.ei.forEach((i,s)=>t(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),B.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Es(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.ar(t),B.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),B.waitFor(l).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return B.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),B.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),B.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),B.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return B.resolve(i)}containsKey(e,t){return B.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,t){this.ii={},this.overlays={},this.si=new En(0),this.oi=!1,this.oi=!0,this._i=new g2,this.referenceDelegate=e(this),this.ai=new E2(this),this.indexManager=new r2,this.remoteDocumentCache=function(s){return new _2(s)}(i=>this.referenceDelegate.ui(i)),this.serializer=new oS(t),this.ci=new m2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new p2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new y2(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){re("MemoryPersistence","Starting transaction:",e);const s=new T2(this.si.next());return this.referenceDelegate.li(),i(s).next(l=>this.referenceDelegate.hi(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Pi(e,t){return B.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class T2 extends tA{constructor(e){super(),this.currentSequenceNumber=e}}class nd{constructor(e){this.persistence=e,this.Ti=new ry,this.Ii=null}static Ei(e){return new nd(e)}get di(){if(this.Ii)return this.Ii;throw de(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),B.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),B.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.di.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.di,i=>{const s=le.fromPath(i);return this.Ai(e,s).next(l=>{l||t.removeEntry(s,ye.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return B.or([()=>B.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Pf{constructor(e,t){this.persistence=e,this.Ri=new fr(i=>on(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=gS(this,t)}static Ei(e,t){return new Pf(e,t)}li(){}hi(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return B.forEach(this.Ri,(i,s)=>this.gr(e,i,s).next(l=>l?B.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.Xr(e,c=>this.gr(e,c,t).next(d=>{d||(i++,l.removeEntry(c,ye.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),B.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),B.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ff(e.data.value)),t}gr(e,t,i){return B.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.Ri.get(t);return B.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.serializer=e}q(e,t,i,s){const l=new Hf("createOrUpgrade",t);i<1&&s>=1&&(function(m){m.createObjectStore(fc)}(e),function(m){m.createObjectStore(Qu,{keyPath:kx}),m.createObjectStore(ti,{keyPath:UT,autoIncrement:!0}).createIndex(us,BT,{unique:!0}),m.createObjectStore(qo)}(e),D0(e),function(m){m.createObjectStore(is)}(e));let c=B.resolve();return i<3&&s>=3&&(i!==0&&(function(m){m.deleteObjectStore(Fo),m.deleteObjectStore(jo),m.deleteObjectStore(fs)}(e),D0(e)),c=c.next(()=>function(m){const g=m.store(fs),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ye.min().toTimestamp(),targetCount:0};return g.put(wf,_)}(l))),i<4&&s>=4&&(i!==0&&(c=c.next(()=>function(m,g){return g.store(ti).J().next(T=>{m.deleteObjectStore(ti),m.createObjectStore(ti,{keyPath:UT,autoIncrement:!0}).createIndex(us,BT,{unique:!0});const A=g.store(ti),D=T.map(C=>A.put(C));return B.waitFor(D)})}(e,l))),c=c.next(()=>{(function(m){m.createObjectStore(Go,{keyPath:Qx})})(e)})),i<5&&s>=5&&(c=c.next(()=>this.Vi(l))),i<6&&s>=6&&(c=c.next(()=>(function(m){m.createObjectStore(Yu)}(e),this.mi(l)))),i<7&&s>=7&&(c=c.next(()=>this.fi(l))),i<8&&s>=8&&(c=c.next(()=>this.gi(e,l))),i<9&&s>=9&&(c=c.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&s>=10&&(c=c.next(()=>this.pi(l))),i<11&&s>=11&&(c=c.next(()=>{(function(m){m.createObjectStore(Kf,{keyPath:Yx})})(e),function(m){m.createObjectStore(Qf,{keyPath:$x})}(e)})),i<12&&s>=12&&(c=c.next(()=>{(function(m){const g=m.createObjectStore(Yf,{keyPath:nC});g.createIndex(Xp,iC,{unique:!1}),g.createIndex(uA,rC,{unique:!1})})(e)})),i<13&&s>=13&&(c=c.next(()=>function(m){const g=m.createObjectStore(Sf,{keyPath:Bx});g.createIndex(cf,qx),g.createIndex(aA,jx)}(e)).next(()=>this.yi(e,l)).next(()=>e.deleteObjectStore(is))),i<14&&s>=14&&(c=c.next(()=>this.wi(e,l))),i<15&&s>=15&&(c=c.next(()=>function(m){m.createObjectStore(Bg,{keyPath:Xx,autoIncrement:!0}).createIndex($p,Zx,{unique:!1}),m.createObjectStore(Rf,{keyPath:Jx}).createIndex(oA,Wx,{unique:!1}),m.createObjectStore(If,{keyPath:eC}).createIndex(lA,tC,{unique:!1})}(e))),i<16&&s>=16&&(c=c.next(()=>{t.objectStore(Rf).clear()}).next(()=>{t.objectStore(If).clear()})),i<17&&s>=17&&(c=c.next(()=>{(function(m){m.createObjectStore(qg,{keyPath:aC})})(e)})),c}mi(e){let t=0;return e.store(is).te((i,s)=>{t+=Mf(s)}).next(()=>{const i={byteSize:t};return e.store(Yu).put(Yp,i)})}Vi(e){const t=e.store(Qu),i=e.store(ti);return t.J().next(s=>B.forEach(s,l=>{const c=IDBKeyRange.bound([l.userId,Wr],[l.userId,l.lastAcknowledgedBatchId]);return i.J(us,c).next(d=>B.forEach(d,m=>{ge(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const g=as(this.serializer,m);return fS(e,l.userId,g).next(()=>{})}))}))}fi(e){const t=e.store(Fo),i=e.store(is);return e.store(fs).get(wf).next(s=>{const l=[];return i.te((c,d)=>{const m=new Me(c),g=function(T){return[0,on(T)]}(m);l.push(t.get(g).next(_=>_?B.resolve():(T=>t.put({targetId:0,path:on(T),sequenceNumber:s.highestListenSequenceNumber}))(m)))}).next(()=>B.waitFor(l))})}gi(e,t){e.createObjectStore($u,{keyPath:Kx});const i=t.store($u),s=new iy,l=c=>{if(s.add(c)){const d=c.lastSegment(),m=c.popLast();return i.put({collectionId:d,parent:on(m)})}};return t.store(is).te({ee:!0},(c,d)=>{const m=new Me(c);return l(m.popLast())}).next(()=>t.store(qo).te({ee:!0},([c,d,m],g)=>{const _=Ti(d);return l(_.popLast())}))}pi(e){const t=e.store(jo);return t.te((i,s)=>{const l=Mu(s),c=lS(this.serializer,l);return t.put(c)})}yi(e,t){const i=t.store(is),s=[];return i.te((l,c)=>{const d=t.store(Sf),m=function(T){return T.document?new le(Me.fromString(T.document.name).popFirst(5)):T.noDocument?le.fromSegments(T.noDocument.path):T.unknownDocument?le.fromSegments(T.unknownDocument.path):de(36783)}(c).path.toArray(),g={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};s.push(d.put(g))}).next(()=>B.waitFor(s))}wi(e,t){const i=t.store(ti),s=_S(this.serializer),l=new ay(nd.Ei,this.serializer.wt);return i.J().next(c=>{const d=new Map;return c.forEach(m=>{var g;let _=(g=d.get(m.userId))!==null&&g!==void 0?g:Ie();as(this.serializer,m).keys().forEach(T=>_=_.add(T)),d.set(m.userId,_)}),B.forEach(d,(m,g)=>{const _=new Ht(g),T=ed.bt(this.serializer,_),A=l.getIndexManager(_),D=td.bt(_,this.serializer,A,l.referenceDelegate);return new vS(s,D,T,A).recalculateAndSaveOverlaysForDocumentKeys(new Zp(t,En.le),m).next()})})}}function D0(a){a.createObjectStore(Fo,{keyPath:Gx}).createIndex(Ug,Hx,{unique:!0}),a.createObjectStore(jo,{keyPath:"targetId"}).createIndex(sA,Fx,{unique:!0}),a.createObjectStore(fs)}const Kr="IndexedDbPersistence",Np=18e5,Op=5e3,Mp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ES="main";class sy{constructor(e,t,i,s,l,c,d,m,g,_,T=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.bi=l,this.window=c,this.document=d,this.Si=g,this.Di=_,this.Ci=T,this.si=null,this.oi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fi=null,this.inForeground=!1,this.Mi=null,this.xi=null,this.Oi=Number.NEGATIVE_INFINITY,this.Ni=A=>Promise.resolve(),!sy.C())throw new ie(K.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new c2(this,s),this.Bi=t+ES,this.serializer=new oS(m),this.Li=new Ai(this.Bi,this.Ci,new b2(this.serializer)),this._i=new JC,this.ai=new s2(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_S(this.serializer),this.ci=new ZC,this.window&&this.window.localStorage?this.ki=this.window.localStorage:(this.ki=null,_===!1&&At(Kr,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.qi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ie(K.FAILED_PRECONDITION,Mp);return this.Qi(),this.$i(),this.Ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ai.getHighestSequenceNumber(e))}).then(e=>{this.si=new En(e,this.Si)}).then(()=>{this.oi=!0}).catch(e=>(this.Li&&this.Li.close(),Promise.reject(e)))}Ki(e){return this.Ni=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Li.U(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.bi.enqueueAndForget(async()=>{this.started&&await this.qi()}))}qi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>tf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Wi(e).next(t=>{t||(this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)))})}).next(()=>this.Gi(e)).next(t=>this.isPrimary&&!t?this.zi(e).next(()=>!1):!!t&&this.ji(e).next(()=>!0))).catch(e=>{if(da(e))return re(Kr,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return re(Kr,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.bi.enqueueRetryable(()=>this.Ni(e)),this.isPrimary=e})}Wi(e){return Cu(e).get(bo).next(t=>B.resolve(this.Hi(t)))}Ji(e){return tf(e).delete(this.clientId)}async Yi(){if(this.isPrimary&&!this.Zi(this.Oi,Np)){this.Oi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const i=zt(t,Go);return i.J().next(s=>{const l=this.Xi(s,Np),c=s.filter(d=>l.indexOf(d)===-1);return B.forEach(c,d=>i.delete(d.clientId)).next(()=>c)})}).catch(()=>[]);if(this.ki)for(const t of e)this.ki.removeItem(this.es(t.clientId))}}Ui(){this.xi=this.bi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.qi().then(()=>this.Yi()).then(()=>this.Ui()))}Hi(e){return!!e&&e.ownerId===this.clientId}Gi(e){return this.Di?B.resolve(!0):Cu(e).get(bo).next(t=>{if(t!==null&&this.Zi(t.leaseTimestampMs,Op)&&!this.ts(t.ownerId)){if(this.Hi(t)&&this.networkEnabled)return!0;if(!this.Hi(t)){if(!t.allowTabSynchronization)throw new ie(K.FAILED_PRECONDITION,Mp);return!1}}return!(!this.networkEnabled||!this.inForeground)||tf(e).J().next(i=>this.Xi(i,Op).find(s=>{if(this.clientId!==s.clientId){const l=!this.networkEnabled&&s.networkEnabled,c=!this.inForeground&&s.inForeground,d=this.networkEnabled===s.networkEnabled;if(l||c&&d)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&re(Kr,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.oi=!1,this.ns(),this.xi&&(this.xi.cancel(),this.xi=null),this.rs(),this.ss(),await this.Li.runTransaction("shutdown","readwrite",[fc,Go],e=>{const t=new Zp(e,En.le);return this.zi(t).next(()=>this.Ji(t))}),this.Li.close(),this._s()}Xi(e,t){return e.filter(i=>this.Zi(i.updateTimeMs,t)&&!this.ts(i.clientId))}us(){return this.runTransaction("getActiveClients","readonly",e=>tf(e).J().next(t=>this.Xi(t,Np).map(i=>i.clientId)))}get started(){return this.oi}getGlobalsCache(){return this._i}getMutationQueue(e,t){return td.bt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new a2(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return ed.bt(this.serializer,e)}getBundleCache(){return this.ci}runTransaction(e,t,i){re(Kr,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",l=function(m){return m===17?lC:m===16?oC:m===15?jg:m===14?fA:m===13?hA:m===12?sC:m===11?cA:void de(60245)}(this.Ci);let c;return this.Li.runTransaction(e,s,l,d=>(c=new Zp(d,this.si?this.si.next():En.le),t==="readwrite-primary"?this.Wi(c).next(m=>!!m||this.Gi(c)).next(m=>{if(!m)throw At(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)),new ie(K.FAILED_PRECONDITION,eA);return i(c)}).next(m=>this.ji(c).next(()=>m)):this.cs(c).next(()=>i(c)))).then(d=>(c.raiseOnCommittedEvent(),d))}cs(e){return Cu(e).get(bo).next(t=>{if(t!==null&&this.Zi(t.leaseTimestampMs,Op)&&!this.ts(t.ownerId)&&!this.Hi(t)&&!(this.Di||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ie(K.FAILED_PRECONDITION,Mp)})}ji(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cu(e).put(bo,t)}static C(){return Ai.C()}zi(e){const t=Cu(e);return t.get(bo).next(i=>this.Hi(i)?(re(Kr,"Releasing primary lease."),t.delete(bo)):B.resolve())}Zi(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(At(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Qi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Mi=()=>{this.bi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.qi()))},this.document.addEventListener("visibilitychange",this.Mi),this.inForeground=this.document.visibilityState==="visible")}rs(){this.Mi&&(this.document.removeEventListener("visibilitychange",this.Mi),this.Mi=null)}$i(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Fi=()=>{this.ns();const t=/(?:Version|Mobile)\/1[456]/;Ib()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.bi.enterRestrictedMode(!0),this.bi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Fi))}ss(){this.Fi&&(this.window.removeEventListener("pagehide",this.Fi),this.Fi=null)}ts(e){var t;try{const i=((t=this.ki)===null||t===void 0?void 0:t.getItem(this.es(e)))!==null;return re(Kr,`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return At(Kr,"Failed to get zombied client id.",i),!1}}ns(){if(this.ki)try{this.ki.setItem(this.es(this.clientId),String(Date.now()))}catch(e){At("Failed to set zombie client id.",e)}}_s(){if(this.ki)try{this.ki.removeItem(this.es(this.clientId))}catch{}}es(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cu(a){return zt(a,fc)}function tf(a){return zt(a,Go)}function oy(a,e){let t=a.projectId;return a.isDefaultDatabase||(t+="."+a.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=s}static Ps(e,t){let i=Ie(),s=Ie();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new ly(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Ib()?8:nA(Ef())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.Rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(e,t,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new A2;return this.fs(e,t,c).next(d=>{if(l.result=d,this.Is)return this.gs(e,t,c,d.size)})}).next(()=>l.result)}gs(e,t,i,s){return i.documentReadCount<this.Es?(Do()<=Le.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),B.resolve()):(Do()<=Le.DEBUG&&re("QueryEngine","Query:",xo(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(Do()<=Le.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pn(t))):B.resolve())}Rs(e,t){if(WT(t))return B.resolve(null);let i=pn(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Vf(t,null,"F"),i=pn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Ie(...l);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const g=this.ps(t,d);return this.ys(t,g,c,m.readTime)?this.Rs(e,Vf(t,null,"F")):this.ws(e,g,t,m)}))})))}Vs(e,t,i,s){return WT(t)||s.isEqual(ye.min())?B.resolve(null):this.As.getDocuments(e,i).next(l=>{const c=this.ps(t,l);return this.ys(t,c,i,s)?B.resolve(null):(Do()<=Le.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xo(t)),this.ws(e,c,t,Jb(s,Bo)).next(d=>d))})}ps(e,t){let i=new Xe(OA(e));return t.forEach((s,l)=>{pc(e,l)&&(i=i.add(l))}),i}ys(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}fs(e,t,i){return Do()<=Le.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",xo(t)),this.As.getDocumentsMatchingQuery(e,t,On.min(),i)}ws(e,t,i,s){return this.As.getDocumentsMatchingQuery(e,i,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="LocalStore",S2=3e8;class w2{constructor(e,t,i,s){this.persistence=e,this.bs=t,this.serializer=s,this.Ss=new rt(Se),this.Ds=new fr(l=>ps(l),dc),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vS(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function bS(a,e,t,i){return new w2(a,e,t,i)}async function AS(a,e){const t=ce(a);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=Ie();for(const g of s){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(i,m).next(g=>({Ms:g,removedBatchIds:c,addedBatchIds:d}))})})}function R2(a,e){const t=ce(a);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const T=g.batch,A=T.keys();let D=B.resolve();return A.forEach(C=>{D=D.next(()=>_.getEntry(m,C)).next(G=>{const k=g.docVersions.get(C);ge(k!==null,48541),G.version.compareTo(k)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),_.addEntry(G)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=Ie();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function SS(a){const e=ce(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function I2(a,e){const t=ce(a),i=e.snapshotVersion;let s=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});s=t.Ss;const d=[];e.targetChanges.forEach((_,T)=>{const A=s.get(T);if(!A)return;d.push(t.ai.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.ai.addMatchingKeys(l,_.addedDocuments,T)));let D=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(vt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,i)),s=s.insert(T,D),function(G,k,Y){return G.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=S2?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(A,D,_)&&d.push(t.ai.updateTargetData(l,D))});let m=bn(),g=Ie();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(wS(l,c,e.documentUpdates).next(_=>{m=_.xs,g=_.Os})),!i.isEqual(ye.min())){const _=t.ai.getLastRemoteSnapshotVersion(l).next(T=>t.ai.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return B.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.Ss=s,l))}function wS(a,e,t){let i=Ie(),s=Ie();return t.forEach(l=>i=i.add(l)),e.getEntries(a,i).next(l=>{let c=bn();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),m.isNoDocument()&&m.version.isEqual(ye.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):re(uy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{xs:c,Os:s}})}function D2(a,e){const t=ce(a);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Wr),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Zo(a,e){const t=ce(a);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.ai.getTargetData(i,e).next(l=>l?(s=l,B.resolve(s)):t.ai.allocateTargetId(i).next(c=>(s=new nr(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ss.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function Jo(a,e,t){const i=ce(a),s=i.Ss.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!da(c))throw c;re(uy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(s.target)}function Lf(a,e,t){const i=ce(a);let s=ye.min(),l=Ie();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,_){const T=ce(m),A=T.Ds.get(_);return A!==void 0?B.resolve(T.Ss.get(A)):T.ai.getTargetData(g,_)}(i,c,pn(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.bs.getDocumentsMatchingQuery(c,e,t?s:ye.min(),t?l:Ie())).next(d=>(DS(i,NA(e),d),{documents:d,Ns:l})))}function RS(a,e){const t=ce(a),i=ce(t.ai),s=t.Ss.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",l=>i.Rt(l,e).next(c=>c?c.target:null))}function IS(a,e){const t=ce(a),i=t.vs.get(e)||ye.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Cs.getAllFromCollectionGroup(s,e,Jb(i,Bo),Number.MAX_SAFE_INTEGER)).then(s=>(DS(t,e,s),s))}function DS(a,e,t){let i=a.vs.get(e)||ye.min();t.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),a.vs.set(e,i)}async function x2(a,e,t,i){const s=ce(a);let l=Ie(),c=bn();for(const g of t){const _=e.Bs(g.metadata.name);g.document&&(l=l.add(_));const T=e.Ls(g);T.setReadTime(e.ks(g.metadata.readTime)),c=c.insert(_,T)}const d=s.Cs.newChangeBuffer({trackRemovals:!0}),m=await Zo(s,function(_){return pn(ol(Me.fromString(`__bundle__/docs/${_}`)))}(i));return s.persistence.runTransaction("Apply bundle documents","readwrite",g=>wS(g,d,c).next(_=>(d.apply(g),_)).next(_=>s.ai.removeMatchingKeysForTargetId(g,m.targetId).next(()=>s.ai.addMatchingKeys(g,l,m.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(g,_.xs,_.Os)).next(()=>_.xs)))}async function C2(a,e,t=Ie()){const i=await Zo(a,pn(ty(e.bundledQuery))),s=ce(a);return s.persistence.runTransaction("Save named query","readwrite",l=>{const c=St(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return s.ci.saveNamedQuery(l,e);const d=i.withResumeToken(vt.EMPTY_BYTE_STRING,c);return s.Ss=s.Ss.insert(d.targetId,d),s.ai.updateTargetData(l,d).next(()=>s.ai.removeMatchingKeysForTargetId(l,i.targetId)).next(()=>s.ai.addMatchingKeys(l,t,i.targetId)).next(()=>s.ci.saveNamedQuery(l,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="firestore_clients";function x0(a,e){return`${xS}_${a}_${e}`}const CS="firestore_mutations";function C0(a,e,t){let i=`${CS}_${a}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}const VS="firestore_targets";function Pp(a,e){return`${VS}_${a}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="SharedClientState";class zf{constructor(e,t,i,s){this.user=e,this.batchId=t,this.state=i,this.error=s}static qs(e,t,i){const s=JSON.parse(i);let l,c=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return c&&s.error&&(c=typeof s.error.message=="string"&&typeof s.error.code=="string",c&&(l=new ie(s.error.code,s.error.message))),c?new zf(e,t,s.state,l):(At(Ei,`Failed to parse mutation state for ID '${t}': ${i}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bu{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static qs(e,t){const i=JSON.parse(t);let s,l=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new ie(i.error.code,i.error.message))),l?new Bu(e,i.state,s):(At(Ei,`Failed to parse target state for ID '${e}': ${t}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static qs(e,t){const i=JSON.parse(t);let s=typeof i=="object"&&i.activeTargetIds instanceof Array,l=Qg();for(let c=0;s&&c<i.activeTargetIds.length;++c)s=iA(i.activeTargetIds[c]),l=l.add(i.activeTargetIds[c]);return s?new kf(e,l):(At(Ei,`Failed to parse client data for instance '${e}': ${t}`),null)}}class cy{constructor(e,t){this.clientId=e,this.onlineState=t}static qs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new cy(t.clientId,t.onlineState):(At(Ei,`Failed to parse online state: ${e}`),null)}}class hg{constructor(){this.activeTargetIds=Qg()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lp{constructor(e,t,i,s,l){this.window=e,this.bi=t,this.persistenceKey=i,this.Ks=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ws=this.Gs.bind(this),this.zs=new rt(Se),this.started=!1,this.js=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Hs=x0(this.persistenceKey,this.Ks),this.Js=function(m){return`firestore_sequence_number_${m}`}(this.persistenceKey),this.zs=this.zs.insert(this.Ks,new hg),this.Ys=new RegExp(`^${xS}_${c}_([^_]*)$`),this.Zs=new RegExp(`^${CS}_${c}_(\\d+)(?:_(.*))?$`),this.Xs=new RegExp(`^${VS}_${c}_(\\d+)$`),this.eo=function(m){return`firestore_online_state_${m}`}(this.persistenceKey),this.no=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ws)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.us();for(const i of e){if(i===this.Ks)continue;const s=this.getItem(x0(this.persistenceKey,i));if(s){const l=kf.qs(i,s);l&&(this.zs=this.zs.insert(l.clientId,l))}}this.ro();const t=this.storage.getItem(this.eo);if(t){const i=this.io(t);i&&this.so(i)}for(const i of this.js)this.Gs(i);this.js=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Js,JSON.stringify(e))}getAllActiveQueryTargets(){return this.oo(this.zs)}isActiveQueryTarget(e){let t=!1;return this.zs.forEach((i,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this._o(e,"pending")}updateMutationState(e,t,i){this._o(e,t,i),this.ao(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Pp(this.persistenceKey,e));if(s){const l=Bu.qs(e,s);l&&(i=l.state)}}return t&&this.uo.$s(e),this.ro(),i}removeLocalQueryTarget(e){this.uo.Us(e),this.ro()}isLocalQueryTarget(e){return this.uo.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Pp(this.persistenceKey,e))}updateQueryState(e,t,i){this.co(e,t,i)}handleUserChange(e,t,i){t.forEach(s=>{this.ao(s)}),this.currentUser=e,i.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.lo(e)}notifyBundleLoaded(e){this.ho(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ws),this.removeItem(this.Hs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return re(Ei,"READ",e,t),t}setItem(e,t){re(Ei,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){re(Ei,"REMOVE",e),this.storage.removeItem(e)}Gs(e){const t=e;if(t.storageArea===this.storage){if(re(Ei,"EVENT",t.key,t.newValue),t.key===this.Hs)return void At("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ys.test(t.key)){if(t.newValue==null){const i=this.Po(t.key);return this.To(i,null)}{const i=this.Io(t.key,t.newValue);if(i)return this.To(i.clientId,i)}}else if(this.Zs.test(t.key)){if(t.newValue!==null){const i=this.Eo(t.key,t.newValue);if(i)return this.Ao(i)}}else if(this.Xs.test(t.key)){if(t.newValue!==null){const i=this.Ro(t.key,t.newValue);if(i)return this.Vo(i)}}else if(t.key===this.eo){if(t.newValue!==null){const i=this.io(t.newValue);if(i)return this.so(i)}}else if(t.key===this.Js){const i=function(l){let c=En.le;if(l!=null)try{const d=JSON.parse(l);ge(typeof d=="number",30636,{mo:l}),c=d}catch(d){At(Ei,"Failed to read sequence number from WebStorage",d)}return c}(t.newValue);i!==En.le&&this.sequenceNumberHandler(i)}else if(t.key===this.no){const i=this.fo(t.newValue);await Promise.all(i.map(s=>this.syncEngine.po(s)))}}}else this.js.push(t)})}}get uo(){return this.zs.get(this.Ks)}ro(){this.setItem(this.Hs,this.uo.Qs())}_o(e,t,i){const s=new zf(this.currentUser,e,t,i),l=C0(this.persistenceKey,this.currentUser,e);this.setItem(l,s.Qs())}ao(e){const t=C0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}lo(e){const t={clientId:this.Ks,onlineState:e};this.storage.setItem(this.eo,JSON.stringify(t))}co(e,t,i){const s=Pp(this.persistenceKey,e),l=new Bu(e,t,i);this.setItem(s,l.Qs())}ho(e){const t=JSON.stringify(Array.from(e));this.setItem(this.no,t)}Po(e){const t=this.Ys.exec(e);return t?t[1]:null}Io(e,t){const i=this.Po(e);return kf.qs(i,t)}Eo(e,t){const i=this.Zs.exec(e),s=Number(i[1]),l=i[2]!==void 0?i[2]:null;return zf.qs(new Ht(l),s,t)}Ro(e,t){const i=this.Xs.exec(e),s=Number(i[1]);return Bu.qs(s,t)}io(e){return cy.qs(e)}fo(e){return JSON.parse(e)}async Ao(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.yo(e.batchId,e.state,e.error);re(Ei,`Ignoring mutation for non-active user ${e.user.uid}`)}Vo(e){return this.syncEngine.wo(e.targetId,e.state,e.error)}To(e,t){const i=t?this.zs.insert(e,t):this.zs.remove(e),s=this.oo(this.zs),l=this.oo(i),c=[],d=[];return l.forEach(m=>{s.has(m)||c.push(m)}),s.forEach(m=>{l.has(m)||d.push(m)}),this.syncEngine.bo(c,d).then(()=>{this.zs=i})}so(e){this.zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}oo(e){let t=Qg();return e.forEach((i,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class NS{constructor(){this.So=new hg,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new hg,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="ConnectivityMonitor";class N0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){re(V0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){re(V0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf=null;function fg(){return nf===null?nf=function(){return 268435456+Math.round(2147483648*Math.random())}():nf++,"0x"+nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="RestConnection",N2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O2{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${s}`,this.qo=this.databaseId.database===Df?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Qo(e,t,i,s,l){const c=fg(),d=this.$o(e,t.toUriEncodedString());re(zp,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(m,s,l),this.Ko(e,d,m,i).then(g=>(re(zp,`Received RPC '${e}' ${c}: `,g),g),g=>{throw Ri(zp,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",i),g})}Wo(e,t,i,s,l,c){return this.Qo(e,t,i,s,l)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}$o(e,t){const i=N2[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class P2 extends O2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,s){const l=fg();return new Promise((c,d)=>{const m=new Fb;m.setWithCredentials(!0),m.listenOnce(Gb.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case of.NO_ERROR:const _=m.getResponseJson();re(an,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case of.TIMEOUT:re(an,`RPC '${e}' ${l} timed out`),d(new ie(K.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:const T=m.getStatus();if(re(an,`RPC '${e}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A==null?void 0:A.error;if(D&&D.status&&D.message){const C=function(k){const Y=k.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Y)>=0?Y:K.UNKNOWN}(D.status);d(new ie(C,D.message))}else d(new ie(K.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ie(K.UNAVAILABLE,"Connection failed."));break;default:de(9055,{s_:e,streamId:l,o_:m.getLastErrorCode(),__:m.getLastError()})}}finally{re(an,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(s);re(an,`RPC '${e}' ${l} sending request:`,s),m.send(t,"POST",g,i,15)})}a_(e,t,i){const s=fg(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Qb(),d=Kb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const _=l.join("");re(an,`Creating RPC '${e}' stream ${s}: ${_}`,m);const T=c.createWebChannel(_,m);let A=!1,D=!1;const C=new M2({Go:k=>{D?re(an,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(A||(re(an,`Opening RPC '${e}' stream ${s} transport.`),T.open(),A=!0),re(an,`RPC '${e}' stream ${s} sending:`,k),T.send(k))},zo:()=>T.close()}),G=(k,Y,ae)=>{k.listen(Y,Z=>{try{ae(Z)}catch(me){setTimeout(()=>{throw me},0)}})};return G(T,Vu.EventType.OPEN,()=>{D||(re(an,`RPC '${e}' stream ${s} transport opened.`),C.t_())}),G(T,Vu.EventType.CLOSE,()=>{D||(D=!0,re(an,`RPC '${e}' stream ${s} transport closed`),C.r_())}),G(T,Vu.EventType.ERROR,k=>{D||(D=!0,Ri(an,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),C.r_(new ie(K.UNAVAILABLE,"The operation could not be completed")))}),G(T,Vu.EventType.MESSAGE,k=>{var Y;if(!D){const ae=k.data[0];ge(!!ae,16349);const Z=ae,me=(Z==null?void 0:Z.error)||((Y=Z[0])===null||Y===void 0?void 0:Y.error);if(me){re(an,`RPC '${e}' stream ${s} received error:`,me);const fe=me.status;let Ee=function(R){const M=Ct[R];if(M!==void 0)return KA(M)}(fe),V=me.message;Ee===void 0&&(Ee=K.INTERNAL,V="Unknown error status: "+fe+" with message "+me.message),D=!0,C.r_(new ie(Ee,V)),T.close()}else re(an,`RPC '${e}' stream ${s} received:`,ae),C.i_(ae)}}),G(d,Hb.STAT_EVENT,k=>{k.stat===Hp.PROXY?re(an,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Hp.NOPROXY&&re(an,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.n_()},0),C}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){return typeof window<"u"?window:null}function gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(a){return new BC(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,t,i=1e3,s=1.5,l=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=s,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),s=Math.max(0,t-i);s>0&&re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="PersistentStream";class MS{constructor(e,t,i,s,l,c,d,m){this.bi=e,this.R_=i,this.V_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new hy(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(At(t.toString()),At("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.m_===t&&this.B_(i,s)},i=>{e(()=>{const s=new ie(K.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(s)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{i(()=>this.L_(s))}),this.stream.onMessage(s=>{i(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return re(O0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(re(O0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L2 extends MS{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=FC(this.serializer,e),i=function(l){if(!("targetChange"in l))return ye.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ye.min():c.readTime?St(c.readTime):ye.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=sg(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=xf(m)?{documents:tS(l,m)}:{query:nS(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=$A(l,c.resumeToken);const g=rg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(ye.min())>0){d.readTime=Xo(l,c.snapshotVersion.toTimestamp());const g=rg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=HC(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=sg(this.serializer),t.removeTarget=e,this.F_(t)}}class z2 extends MS{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=GC(e.writeResults,e.commitTime),i=St(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=sg(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>tc(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{}class U2 extends k2{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(e,ag(t,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ie(K.UNKNOWN,l.toString())})}Wo(e,t,i,s,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,ag(t,i),s,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ie(K.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class B2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(At(t),this.ea=!1):re("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="RemoteStore";class q2{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{i.enqueueAndForget(async()=>{pa(this)&&(re(Ts,"Restarting streams for network reachability change."),await async function(m){const g=ce(m);g.aa.add(4),await cl(g),g.la.set("Unknown"),g.aa.delete(4),await Ec(g)}(this))})}),this.la=new B2(i,s)}}async function Ec(a){if(pa(a))for(const e of a.ua)await e(!0)}async function cl(a){for(const e of a.ua)await e(!1)}function id(a,e){const t=ce(a);t._a.has(e.targetId)||(t._a.set(e.targetId,e),my(t)?dy(t):fl(t).b_()&&fy(t,e))}function Wo(a,e){const t=ce(a),i=fl(t);t._a.delete(e),i.b_()&&PS(t,e),t._a.size===0&&(i.b_()?i.v_():pa(t)&&t.la.set("Unknown"))}function fy(a,e){if(a.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const t=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fl(a).U_(e)}function PS(a,e){a.ha.Ke(e),fl(a).K_(e)}function dy(a){a.ha=new LC({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>a._a.get(e)||null,Pt:()=>a.datastore.serializer.databaseId}),fl(a).start(),a.la.ta()}function my(a){return pa(a)&&!fl(a).w_()&&a._a.size>0}function pa(a){return ce(a).aa.size===0}function LS(a){a.ha=void 0}async function j2(a){a.la.set("Online")}async function F2(a){a._a.forEach((e,t)=>{fy(a,e)})}async function G2(a,e){LS(a),my(a)?(a.la.ia(e),dy(a)):a.la.set("Unknown")}async function H2(a,e,t){if(a.la.set("Online"),e instanceof YA&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const d of l.targetIds)s._a.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s._a.delete(d),s.ha.removeTarget(d))}(a,e)}catch(i){re(Ts,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Uf(a,i)}else if(e instanceof pf?a.ha.Xe(e):e instanceof QA?a.ha.ot(e):a.ha.nt(e),!t.isEqual(ye.min()))try{const i=await SS(a.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.ha.It(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l._a.get(g);_&&l._a.set(g,_.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const _=l._a.get(m);if(!_)return;l._a.set(m,_.withResumeToken(vt.EMPTY_BYTE_STRING,_.snapshotVersion)),PS(l,m);const T=new nr(_.target,m,g,_.sequenceNumber);fy(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(a,t)}catch(i){re(Ts,"Failed to raise snapshot:",i),await Uf(a,i)}}async function Uf(a,e,t){if(!da(e))throw e;a.aa.add(1),await cl(a),a.la.set("Offline"),t||(t=()=>SS(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{re(Ts,"Retrying IndexedDB access"),await t(),a.aa.delete(1),await Ec(a)})}function zS(a,e){return e().catch(t=>Uf(a,t,e))}async function hl(a){const e=ce(a),t=la(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:Wr;for(;K2(e);)try{const s=await D2(e.localStore,i);if(s===null){e.oa.length===0&&t.v_();break}i=s.batchId,Q2(e,s)}catch(s){await Uf(e,s)}kS(e)&&US(e)}function K2(a){return pa(a)&&a.oa.length<10}function Q2(a,e){a.oa.push(e);const t=la(a);t.b_()&&t.W_&&t.G_(e.mutations)}function kS(a){return pa(a)&&!la(a).w_()&&a.oa.length>0}function US(a){la(a).start()}async function Y2(a){la(a).H_()}async function $2(a){const e=la(a);for(const t of a.oa)e.G_(t.mutations)}async function X2(a,e,t){const i=a.oa.shift(),s=Zg.from(i,e,t);await zS(a,()=>a.remoteSyncer.applySuccessfulWrite(s)),await hl(a)}async function Z2(a,e){e&&la(a).W_&&await async function(i,s){if(function(c){return HA(c)&&c!==K.ABORTED}(s.code)){const l=i.oa.shift();la(i).D_(),await zS(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s)),await hl(i)}}(a,e),kS(a)&&US(a)}async function M0(a,e){const t=ce(a);t.asyncQueue.verifyOperationInProgress(),re(Ts,"RemoteStore received new credentials");const i=pa(t);t.aa.add(3),await cl(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Ec(t)}async function dg(a,e){const t=ce(a);e?(t.aa.delete(2),await Ec(t)):e||(t.aa.add(2),await cl(t),t.la.set("Unknown"))}function fl(a){return a.Pa||(a.Pa=function(t,i,s){const l=ce(t);return l.Y_(),new L2(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(a.datastore,a.asyncQueue,{jo:j2.bind(null,a),Jo:F2.bind(null,a),Zo:G2.bind(null,a),Q_:H2.bind(null,a)}),a.ua.push(async e=>{e?(a.Pa.D_(),my(a)?dy(a):a.la.set("Unknown")):(await a.Pa.stop(),LS(a))})),a.Pa}function la(a){return a.Ta||(a.Ta=function(t,i,s){const l=ce(t);return l.Y_(),new z2(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(a.datastore,a.asyncQueue,{jo:()=>Promise.resolve(),Jo:Y2.bind(null,a),Zo:Z2.bind(null,a),z_:$2.bind(null,a),j_:X2.bind(null,a)}),a.ua.push(async e=>{e?(a.Ta.D_(),await hl(a)):(await a.Ta.stop(),a.oa.length>0&&(re(Ts,`Stopping write stream with ${a.oa.length} pending writes`),a.oa=[]))})),a.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new en,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,d=new py(e,t,c,s,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dl(a,e){if(At("AsyncQueue",`${e}: ${a}`),da(a))return new ie(K.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||le.comparator(t.key,i.key):(t,i)=>le.comparator(t.key,i.key),this.keyedMap=Nu(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Mo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(){this.Ia=new rt(le.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):de(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class el{constructor(e,t,i,s,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new el(e,t,Mo.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class W2{constructor(){this.queries=L0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const s=ce(t),l=s.queries;s.queries=L0(),l.forEach((c,d)=>{for(const m of d.Ra)m.onError(i)})})(this,new ie(K.ABORTED,"Firestore shutting down"))}}function L0(){return new fr(a=>VA(a),mc)}async function gy(a,e){const t=ce(a);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.Va()&&e.ma()&&(i=2):(l=new J2,i=e.ma()?0:1);try{switch(i){case 0:l.Aa=await t.onListen(s,!0);break;case 1:l.Aa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=dl(c,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,l),l.Ra.push(e),e.ga(t.onlineState),l.Aa&&e.pa(l.Aa)&&_y(t)}async function yy(a,e){const t=ce(a),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.Ra.indexOf(e);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?s=e.ma()?0:1:!l.Va()&&e.ma()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function eV(a,e){const t=ce(a);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const d of c.Ra)d.pa(s)&&(i=!0);c.Aa=s}}i&&_y(t)}function tV(a,e,t){const i=ce(a),s=i.queries.get(e);if(s)for(const l of s.Ra)l.onError(t);i.queries.delete(e)}function _y(a){a.fa.forEach(e=>{e.next()})}var mg,z0;(z0=mg||(mg={})).ya="default",z0.Cache="cache";class vy{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new el(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==mg.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,t){this.Ma=e,this.byteLength=t}xa(){return"metadata"in this.Ma}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this.serializer=e}Bs(e){return Si(this.serializer,e)}Ls(e){return e.metadata.exists?eS(this.serializer,e.document,!1):at.newNoDocument(this.Bs(e.metadata.name),this.ks(e.metadata.readTime))}ks(e){return St(e)}}class iV{constructor(e,t,i){this.Oa=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=BS(e)}Na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ma.namedQuery)this.queries.push(e.Ma.namedQuery);else if(e.Ma.documentMetadata){this.documents.push({metadata:e.Ma.documentMetadata}),e.Ma.documentMetadata.exists||++t;const i=Me.fromString(e.Ma.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Ma.document&&(this.documents[this.documents.length-1].document=e.Ma.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ba(e){const t=new Map,i=new k0(this.serializer);for(const s of e)if(s.metadata.queries){const l=i.Bs(s.metadata.name);for(const c of s.metadata.queries){const d=(t.get(c)||Ie()).add(l);t.set(c,d)}}return t}async complete(){const e=await x2(this.localStore,new k0(this.serializer),this.documents,this.Oa.id),t=this.Ba(this.documents);for(const i of this.queries)await C2(this.localStore,i,t.get(i.name));return this.progress.taskState="Success",{progress:this.progress,La:this.collectionGroups,ka:e}}}function BS(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.key=e}}class jS{constructor(e){this.key=e}}class FS{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ie(),this.mutatedKeys=Ie(),this.Ua=OA(e),this.Ka=new Mo(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new P0,s=t?t.Ka:this.Ka;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,T)=>{const A=s.get(_),D=pc(this.query,T)?T:null,C=!!A&&this.mutatedKeys.has(A.key),G=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let k=!1;A&&D?A.data.isEqual(D.data)?C!==G&&(i.track({type:3,doc:D}),k=!0):this.ja(A,D)||(i.track({type:2,doc:D}),k=!0,(m&&this.Ua(D,m)>0||g&&this.Ua(D,g)<0)&&(d=!0)):!A&&D?(i.track({type:0,doc:D}),k=!0):A&&!D&&(i.track({type:1,doc:A}),k=!0,(m||g)&&(d=!0)),k&&(D?(c=c.add(D),l=G?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{Ka:c,za:i,ys:d,mutatedKeys:l}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((_,T)=>function(D,C){const G=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Vt:k})}};return G(D)-G(C)}(_.type,T.type)||this.Ua(_.doc,T.doc)),this.Ha(i),s=s!=null&&s;const d=t&&!s?this.Ja():[],m=this.$a.size===0&&this.current&&!s?1:0,g=m!==this.Qa;return this.Qa=m,c.length!==0||g?{snapshot:new el(this.query,e.Ka,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new P0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ie(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new jS(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new qS(i))}),t}Xa(e){this.qa=e.Ns,this.$a=Ie();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return el.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const ga="SyncEngine";class rV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class aV{constructor(e){this.key=e,this.tu=!1}}class sV{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new fr(d=>VA(d),mc),this.iu=new Map,this.su=new Set,this.ou=new rt(le.comparator),this._u=new Map,this.au=new ry,this.uu={},this.cu=new Map,this.lu=Es.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function oV(a,e,t=!0){const i=rd(a);let s;const l=i.ru.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.eu()):s=await GS(i,e,t,!0),s}async function lV(a,e){const t=rd(a);await GS(t,e,!0,!1)}async function GS(a,e,t,i){const s=await Zo(a.localStore,pn(e)),l=s.targetId,c=a.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await Ey(a,e,l,c==="current",s.resumeToken)),a.isPrimaryClient&&t&&id(a.remoteStore,s),d}async function Ey(a,e,t,i,s){a.Pu=(T,A,D)=>async function(G,k,Y,ae){let Z=k.view.Ga(Y);Z.ys&&(Z=await Lf(G.localStore,k.query,!1).then(({documents:V})=>k.view.Ga(V,Z)));const me=ae&&ae.targetChanges.get(k.targetId),fe=ae&&ae.targetMismatches.get(k.targetId)!=null,Ee=k.view.applyChanges(Z,G.isPrimaryClient,me,fe);return pg(G,k.targetId,Ee.Ya),Ee.snapshot}(a,T,A,D);const l=await Lf(a.localStore,e,!0),c=new FS(e,l.Ns),d=c.Ga(l.documents),m=_c.createSynthesizedTargetChangeForCurrentChange(t,i&&a.onlineState!=="Offline",s),g=c.applyChanges(d,a.isPrimaryClient,m);pg(a,t,g.Ya);const _=new rV(e,t,c);return a.ru.set(e,_),a.iu.has(t)?a.iu.get(t).push(e):a.iu.set(t,[e]),g.snapshot}async function uV(a,e,t){const i=ce(a),s=i.ru.get(e),l=i.iu.get(s.targetId);if(l.length>1)return i.iu.set(s.targetId,l.filter(c=>!mc(c,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Jo(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Wo(i.remoteStore,s.targetId),tl(i,s.targetId)}).catch(fa)):(tl(i,s.targetId),await Jo(i.localStore,s.targetId,!0))}async function cV(a,e){const t=ce(a),i=t.ru.get(e),s=t.iu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Wo(t.remoteStore,i.targetId))}async function hV(a,e,t){const i=Sy(a);try{const s=await function(c,d){const m=ce(c),g=ht.now(),_=d.reduce((D,C)=>D.add(C.key),Ie());let T,A;return m.persistence.runTransaction("Locally write mutations","readwrite",D=>{let C=bn(),G=Ie();return m.Cs.getEntries(D,_).next(k=>{C=k,C.forEach((Y,ae)=>{ae.isValidDocument()||(G=G.add(Y))})}).next(()=>m.localDocuments.getOverlayedDocuments(D,C)).next(k=>{T=k;const Y=[];for(const ae of d){const Z=OC(ae,T.get(ae.key).overlayedDocument);Z!=null&&Y.push(new dr(ae.key,Z,bA(Z.value.mapValue),ct.exists(!0)))}return m.mutationQueue.addMutationBatch(D,g,Y,d)}).next(k=>{A=k;const Y=k.applyToLocalDocumentSet(T,G);return m.documentOverlayCache.saveOverlays(D,k.batchId,Y)})}).then(()=>({batchId:A.batchId,changes:PA(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,d,m){let g=c.uu[c.currentUser.toKey()];g||(g=new rt(Se)),g=g.insert(d,m),c.uu[c.currentUser.toKey()]=g}(i,s.batchId,t),await mr(i,s.changes),await hl(i.remoteStore)}catch(s){const l=dl(s,"Failed to persist write");t.reject(l)}}async function HS(a,e){const t=ce(a);try{const i=await I2(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t._u.get(l);c&&(ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.tu=!0:s.modifiedDocuments.size>0?ge(c.tu,14607):s.removedDocuments.size>0&&(ge(c.tu,42227),c.tu=!1))}),await mr(t,i,e)}catch(i){await fa(i)}}function U0(a,e,t){const i=ce(a);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.ru.forEach((l,c)=>{const d=c.view.ga(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const m=ce(c);m.onlineState=d;let g=!1;m.queries.forEach((_,T)=>{for(const A of T.Ra)A.ga(d)&&(g=!0)}),g&&_y(m)}(i.eventManager,e),s.length&&i.nu.Q_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function fV(a,e,t){const i=ce(a);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i._u.get(e),l=s&&s.key;if(l){let c=new rt(le.comparator);c=c.insert(l,at.newNoDocument(l,ye.min()));const d=Ie().add(l),m=new yc(ye.min(),new Map,new rt(Se),c,d);await HS(i,m),i.ou=i.ou.remove(l),i._u.delete(e),Ay(i)}else await Jo(i.localStore,e,!1).then(()=>tl(i,e,t)).catch(fa)}async function dV(a,e){const t=ce(a),i=e.batch.batchId;try{const s=await R2(t.localStore,e);by(t,i,null),Ty(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await mr(t,s)}catch(s){await fa(s)}}async function mV(a,e,t){const i=ce(a);try{const s=await function(c,d){const m=ce(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>(ge(T!==null,37113),_=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(i.localStore,e);by(i,e,t),Ty(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await mr(i,s)}catch(s){await fa(s)}}async function pV(a,e){const t=ce(a);pa(t.remoteStore)||re(ga,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=await function(c){const d=ce(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(i===Wr)return void e.resolve();const s=t.cu.get(i)||[];s.push(e),t.cu.set(i,s)}catch(i){const s=dl(i,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}function Ty(a,e){(a.cu.get(e)||[]).forEach(t=>{t.resolve()}),a.cu.delete(e)}function by(a,e,t){const i=ce(a);let s=i.uu[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.uu[i.currentUser.toKey()]=s}}function tl(a,e,t=null){a.sharedClientState.removeLocalQueryTarget(e);for(const i of a.iu.get(e))a.ru.delete(i),t&&a.nu.Tu(i,t);a.iu.delete(e),a.isPrimaryClient&&a.au.Ur(e).forEach(i=>{a.au.containsKey(i)||KS(a,i)})}function KS(a,e){a.su.delete(e.path.canonicalString());const t=a.ou.get(e);t!==null&&(Wo(a.remoteStore,t),a.ou=a.ou.remove(e),a._u.delete(t),Ay(a))}function pg(a,e,t){for(const i of t)i instanceof qS?(a.au.addReference(i.key,e),gV(a,i)):i instanceof jS?(re(ga,"Document no longer in limbo: "+i.key),a.au.removeReference(i.key,e),a.au.containsKey(i.key)||KS(a,i.key)):de(19791,{Iu:i})}function gV(a,e){const t=e.key,i=t.path.canonicalString();a.ou.get(t)||a.su.has(i)||(re(ga,"New document in limbo: "+t),a.su.add(i),Ay(a))}function Ay(a){for(;a.su.size>0&&a.ou.size<a.maxConcurrentLimboResolutions;){const e=a.su.values().next().value;a.su.delete(e);const t=new le(Me.fromString(e)),i=a.lu.next();a._u.set(i,new aV(t)),a.ou=a.ou.insert(t,i),id(a.remoteStore,new nr(pn(ol(t.path)),i,"TargetPurposeLimboResolution",En.le))}}async function mr(a,e,t){const i=ce(a),s=[],l=[],c=[];i.ru.isEmpty()||(i.ru.forEach((d,m)=>{c.push(i.Pu(m,e,t).then(g=>{var _;if((g||t)&&i.isPrimaryClient){const T=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(m.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){s.push(g);const T=ly.Ps(m.targetId,g);l.push(T)}}))}),await Promise.all(c),i.nu.Q_(s),await async function(m,g){const _=ce(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>B.forEach(g,A=>B.forEach(A.ls,D=>_.persistence.referenceDelegate.addReference(T,A.targetId,D)).next(()=>B.forEach(A.hs,D=>_.persistence.referenceDelegate.removeReference(T,A.targetId,D)))))}catch(T){if(!da(T))throw T;re(uy,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const D=_.Ss.get(A),C=D.snapshotVersion,G=D.withLastLimboFreeSnapshotVersion(C);_.Ss=_.Ss.insert(A,G)}}}(i.localStore,l))}async function yV(a,e){const t=ce(a);if(!t.currentUser.isEqual(e)){re(ga,"User change. New user:",e.toKey());const i=await AS(t.localStore,e);t.currentUser=e,function(l,c){l.cu.forEach(d=>{d.forEach(m=>{m.reject(new ie(K.CANCELLED,c))})}),l.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await mr(t,i.Ms)}}function _V(a,e){const t=ce(a),i=t._u.get(e);if(i&&i.tu)return Ie().add(i.key);{let s=Ie();const l=t.iu.get(e);if(!l)return s;for(const c of l){const d=t.ru.get(c);s=s.unionWith(d.view.Wa)}return s}}async function vV(a,e){const t=ce(a),i=await Lf(t.localStore,e.query,!0),s=e.view.Xa(i);return t.isPrimaryClient&&pg(t,e.targetId,s.Ya),s}async function EV(a,e){const t=ce(a);return IS(t.localStore,e).then(i=>mr(t,i))}async function TV(a,e,t,i){const s=ce(a),l=await function(d,m){const g=ce(d),_=ce(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",T=>_.Hn(T,m).next(A=>A?g.localDocuments.getDocuments(T,A):B.resolve(null)))}(s.localStore,e);l!==null?(t==="pending"?await hl(s.remoteStore):t==="acknowledged"||t==="rejected"?(by(s,e,i||null),Ty(s,e),function(d,m){ce(ce(d).mutationQueue).Xn(m)}(s.localStore,e)):de(6720,"Unknown batchState",{Eu:t}),await mr(s,l)):re(ga,"Cannot apply mutation batch with id: "+e)}async function bV(a,e){const t=ce(a);if(rd(t),Sy(t),e===!0&&t.hu!==!0){const i=t.sharedClientState.getAllActiveQueryTargets(),s=await B0(t,i.toArray());t.hu=!0,await dg(t.remoteStore,!0);for(const l of s)id(t.remoteStore,l)}else if(e===!1&&t.hu!==!1){const i=[];let s=Promise.resolve();t.iu.forEach((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):s=s.then(()=>(tl(t,c),Jo(t.localStore,c,!0))),Wo(t.remoteStore,c)}),await s,await B0(t,i),function(c){const d=ce(c);d._u.forEach((m,g)=>{Wo(d.remoteStore,g)}),d.au.Kr(),d._u=new Map,d.ou=new rt(le.comparator)}(t),t.hu=!1,await dg(t.remoteStore,!1)}}async function B0(a,e,t){const i=ce(a),s=[],l=[];for(const c of e){let d;const m=i.iu.get(c);if(m&&m.length!==0){d=await Zo(i.localStore,pn(m[0]));for(const g of m){const _=i.ru.get(g),T=await vV(i,_);T.snapshot&&l.push(T.snapshot)}}else{const g=await RS(i.localStore,c);d=await Zo(i.localStore,g),await Ey(i,QS(g),c,!1,d.resumeToken)}s.push(d)}return i.nu.Q_(l),s}function QS(a){return CA(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function AV(a){return function(t){return ce(ce(t).persistence).us()}(ce(a).localStore)}async function SV(a,e,t,i){const s=ce(a);if(s.hu)return void re(ga,"Ignoring unexpected query state notification.");const l=s.iu.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=await IS(s.localStore,NA(l[0])),d=yc.createSynthesizedRemoteEventForCurrentChange(e,t==="current",vt.EMPTY_BYTE_STRING);await mr(s,c,d);break}case"rejected":await Jo(s.localStore,e,!0),tl(s,e,i);break;default:de(64155,t)}}async function wV(a,e,t){const i=rd(a);if(i.hu){for(const s of e){if(i.iu.has(s)&&i.sharedClientState.isActiveQueryTarget(s)){re(ga,"Adding an already active target "+s);continue}const l=await RS(i.localStore,s),c=await Zo(i.localStore,l);await Ey(i,QS(l),c.targetId,!1,c.resumeToken),id(i.remoteStore,c)}for(const s of t)i.iu.has(s)&&await Jo(i.localStore,s,!1).then(()=>{Wo(i.remoteStore,s),tl(i,s)}).catch(fa)}}function rd(a){const e=ce(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=HS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_V.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fV.bind(null,e),e.nu.Q_=eV.bind(null,e.eventManager),e.nu.Tu=tV.bind(null,e.eventManager),e}function Sy(a){const e=ce(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mV.bind(null,e),e}function RV(a,e,t){const i=ce(a);(async function(l,c,d){try{const m=await c.getMetadata();if(await function(D,C){const G=ce(D),k=St(C.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",Y=>G.ci.getBundleMetadata(Y,C.id)).then(Y=>!!Y&&Y.createTime.compareTo(k)>=0)}(l.localStore,m))return await c.close(),d._completeWith(function(D){return{taskState:"Success",documentsLoaded:D.totalDocuments,bytesLoaded:D.totalBytes,totalDocuments:D.totalDocuments,totalBytes:D.totalBytes}}(m)),Promise.resolve(new Set);d._updateProgress(BS(m));const g=new iV(m,l.localStore,c.serializer);let _=await c.du();for(;_;){const A=await g.Na(_);A&&d._updateProgress(A),_=await c.du()}const T=await g.complete();return await mr(l,T.ka,void 0),await function(D,C){const G=ce(D);return G.persistence.runTransaction("Save bundle","readwrite",k=>G.ci.saveBundleMetadata(k,C))}(l.localStore,m),d._completeWith(T.progress),Promise.resolve(T.La)}catch(m){return Ri(ga,`Loading bundle failed with ${m}`),d._failWith(m),Promise.resolve(new Set)}})(i,e,t).then(s=>{i.sharedClientState.notifyBundleLoaded(s)})}class nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vc(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return bS(this.persistence,new TS,e.initialUser,this.serializer)}Ru(e){return new ay(nd.Ei,this.serializer)}Au(e){return new NS}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nc.provider={build:()=>new nc};class IV extends nc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){ge(this.persistence.referenceDelegate instanceof Pf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new pS(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new ay(i=>Pf.Ei(i,t),this.serializer)}}class YS extends nc{constructor(e,t,i){super(),this.gu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.gu.initialize(this,e),await Sy(this.gu.syncEngine),await hl(this.gu.remoteStore),await this.persistence.Ki(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Vu(e){return bS(this.persistence,new TS,e.initialUser,this.serializer)}mu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new pS(i,e.asyncQueue,t)}fu(e,t){const i=new Lx(t,this.persistence);return new Px(e.asyncQueue,i)}Ru(e){const t=oy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new sy(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,OS(),gf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Au(e){return new NS}}class DV extends YS{constructor(e,t){super(e,t,!1),this.gu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.gu.syncEngine;this.sharedClientState instanceof Lp&&(this.sharedClientState.syncEngine={yo:TV.bind(null,t),wo:SV.bind(null,t),bo:wV.bind(null,t),us:AV.bind(null,t),po:EV.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ki(async i=>{await bV(this.gu.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())})}Au(e){const t=OS();if(!Lp.C(t))throw new ie(K.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=oy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Lp(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class ic{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>U0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yV.bind(null,this.syncEngine),await dg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new W2}()}createDatastore(e){const t=vc(e.databaseInfo.databaseId),i=function(l){return new P2(l)}(e.databaseInfo);return function(l,c,d,m){return new U2(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,l,c,d){return new q2(i,s,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>U0(this.syncEngine,t,0),function(){return N0.C()?new N0:new V2}())}createSyncEngine(e,t){return function(s,l,c,d,m,g,_){const T=new sV(s,l,c,d,m,g);return _&&(T.hu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=ce(s);re(Ts,"RemoteStore shutting down."),l.aa.add(5),await cl(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ic.provider={build:()=>new ic};function q0(a,e=10240){let t=0;return{async read(){if(t<a.byteLength){const i={value:a.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):At("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,t){this.wu=e,this.serializer=t,this.metadata=new en,this.buffer=new Uint8Array,this.bu=function(){return new TextDecoder("utf-8")}(),this.Su().then(i=>{i&&i.xa()?this.metadata.resolve(i.Ma.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i==null?void 0:i.Ma)}`))},i=>this.metadata.reject(i))}close(){return this.wu.cancel()}async getMetadata(){return this.metadata.promise}async du(){return await this.getMetadata(),this.Su()}async Su(){const e=await this.Du();if(e===null)return null;const t=this.bu.decode(e),i=Number(t);isNaN(i)&&this.vu(`length string (${t}) is not valid number`);const s=await this.Cu(i);return new nV(JSON.parse(s),e.length+i)}Fu(){return this.buffer.findIndex(e=>e===123)}async Du(){for(;this.Fu()<0&&!await this.Mu(););if(this.buffer.length===0)return null;const e=this.Fu();e<0&&this.vu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Cu(e){for(;this.buffer.length<e;)await this.Mu()&&this.vu("Reached the end of bundle when more is expected.");const t=this.bu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}vu(e){throw this.wu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Mu(){const e=await this.wu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ie(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(s,l){const c=ce(s),d={documents:l.map(T=>ec(c.serializer,T))},m=await c.Wo("BatchGetDocuments",c.serializer.databaseId,Me.emptyPath(),d,l.length),g=new Map;m.forEach(T=>{const A=jC(c.serializer,T);g.set(A.key.toString(),A)});const _=[];return l.forEach(T=>{const A=g.get(T.toString());ge(!!A,55234,{key:T}),_.push(A)}),_}(this.datastore,e);return t.forEach(i=>this.recordVersion(i)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new ul(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,i)=>{const s=le.fromPath(i);this.mutations.push(new $g(s,this.precondition(s)))}),await async function(i,s){const l=ce(i),c={writes:s.map(d=>tc(l.serializer,d))};await l.Qo("Commit",l.serializer.databaseId,Me.emptyPath(),c)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw de(50498,{xu:e.constructor.name});t=ye.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ie(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ye.min())?ct.exists(!1):ct.updateTime(t):ct.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ye.min()))throw new ie(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ct.updateTime(t)}return ct.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,t,i,s,l){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=s,this.deferred=l,this.Ou=i.maxAttempts,this.y_=new hy(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){this.y_.E_(async()=>{const e=new CV(this.datastore),t=this.Lu(e);t&&t.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(s=>{this.ku(s)}))}).catch(i=>{this.ku(i)})})}Lu(e){try{const t=this.updateFunction(e);return!hc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ku(e){this.Ou>0&&this.qu(e)?(this.Ou-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bu(),Promise.resolve()))):this.deferred.reject(e)}qu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!HA(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="FirestoreClient";class NV{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Ht.UNAUTHENTICATED,this.clientId=Xb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{re(ua,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(re(ua,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new en;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=dl(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function kp(a,e){a.asyncQueue.verifyOperationInProgress(),re(ua,"Initializing OfflineComponentProvider");const t=a.configuration;await e.initialize(t);let i=t.initialUser;a.setCredentialChangeListener(async s=>{i.isEqual(s)||(await AS(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function j0(a,e){a.asyncQueue.verifyOperationInProgress();const t=await wy(a);re(ua,"Initializing OnlineComponentProvider"),await e.initialize(t,a.configuration),a.setCredentialChangeListener(i=>M0(e.remoteStore,i)),a.setAppCheckTokenChangeListener((i,s)=>M0(e.remoteStore,s)),a._onlineComponents=e}async function wy(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){re(ua,"Using user provided OfflineComponentProvider");try{await kp(a,a._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===K.FAILED_PRECONDITION||s.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Ri("Error using user provided cache. Falling back to memory cache: "+t),await kp(a,new nc)}}else re(ua,"Using default OfflineComponentProvider"),await kp(a,new IV(void 0));return a._offlineComponents}async function sd(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(re(ua,"Using user provided OnlineComponentProvider"),await j0(a,a._uninitializedComponentsProvider._online)):(re(ua,"Using default OnlineComponentProvider"),await j0(a,new ic))),a._onlineComponents}function $S(a){return wy(a).then(e=>e.persistence)}function Ry(a){return wy(a).then(e=>e.localStore)}function XS(a){return sd(a).then(e=>e.remoteStore)}function Iy(a){return sd(a).then(e=>e.syncEngine)}function OV(a){return sd(a).then(e=>e.datastore)}async function nl(a){const e=await sd(a),t=e.eventManager;return t.onListen=oV.bind(null,e.syncEngine),t.onUnlisten=uV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=lV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cV.bind(null,e.syncEngine),t}function MV(a){return a.asyncQueue.enqueue(async()=>{const e=await $S(a),t=await XS(a);return e.setNetworkEnabled(!0),function(s){const l=ce(s);return l.aa.delete(0),Ec(l)}(t)})}function PV(a){return a.asyncQueue.enqueue(async()=>{const e=await $S(a),t=await XS(a);return e.setNetworkEnabled(!1),async function(s){const l=ce(s);l.aa.add(0),await cl(l),l.la.set("Offline")}(t)})}function LV(a,e){const t=new en;return a.asyncQueue.enqueueAndForget(async()=>async function(s,l,c){try{const d=await function(g,_){const T=ce(g);return T.persistence.runTransaction("read document","readonly",A=>T.localDocuments.getDocument(A,_))}(s,l);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new ie(K.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const m=dl(d,`Failed to get document '${l} from cache`);c.reject(m)}}(await Ry(a),e,t)),t.promise}function ZS(a,e,t={}){const i=new en;return a.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const _=new ad({next:A=>{_.yu(),c.enqueueAndForget(()=>yy(l,T));const D=A.docs.has(d);!D&&A.fromCache?g.reject(new ie(K.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&A.fromCache&&m&&m.source==="server"?g.reject(new ie(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new vy(ol(d.path),_,{includeMetadataChanges:!0,Fa:!0});return gy(l,T)}(await nl(a),a.asyncQueue,e,t,i)),i.promise}function zV(a,e){const t=new en;return a.asyncQueue.enqueueAndForget(async()=>async function(s,l,c){try{const d=await Lf(s,l,!0),m=new FS(l,d.Ns),g=m.Ga(d.documents),_=m.applyChanges(g,!1);c.resolve(_.snapshot)}catch(d){const m=dl(d,`Failed to execute query '${l} against cache`);c.reject(m)}}(await Ry(a),e,t)),t.promise}function JS(a,e,t={}){const i=new en;return a.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const _=new ad({next:A=>{_.yu(),c.enqueueAndForget(()=>yy(l,T)),A.fromCache&&m.source==="server"?g.reject(new ie(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new vy(d,_,{includeMetadataChanges:!0,Fa:!0});return gy(l,T)}(await nl(a),a.asyncQueue,e,t,i)),i.promise}function kV(a,e){const t=new ad(e);return a.asyncQueue.enqueueAndForget(async()=>function(s,l){ce(s).fa.add(l),l.next()}(await nl(a),t)),()=>{t.yu(),a.asyncQueue.enqueueAndForget(async()=>function(s,l){ce(s).fa.delete(l)}(await nl(a),t))}}function UV(a,e,t,i){const s=function(c,d){let m;return m=typeof c=="string"?Lg().encode(c):c,function(_,T){return new xV(_,T)}(function(_,T){if(_ instanceof Uint8Array)return q0(_,T);if(_ instanceof ArrayBuffer)return q0(new Uint8Array(_),T);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),d)}(t,vc(e));a.asyncQueue.enqueueAndForget(async()=>{RV(await Iy(a),s,i)})}function BV(a,e){return a.asyncQueue.enqueue(async()=>function(i,s){const l=ce(i);return l.persistence.runTransaction("Get named query","readonly",c=>l.ci.getNamedQuery(c,s))}(await Ry(a),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(a,e,t){if(!t)throw new ie(K.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function ew(a,e,t,i){if(e===!0&&i===!0)throw new ie(K.INVALID_ARGUMENT,`${a} and ${t} cannot be used together.`)}function G0(a){if(!le.isDocumentKey(a))throw new ie(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function H0(a){if(le.isDocumentKey(a))throw new ie(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function od(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":de(12329,{type:typeof a})}function je(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ie(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=od(a);throw new ie(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return a}function tw(a,e){if(e<=0)throw new ie(K.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="firestore.googleapis.com",K0=!0;class Q0{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nw,this.ssl=K0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:K0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o2)throw new ie(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ew("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WS((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tc{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Sx;switch(i.type){case"firstParty":return new Dx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ie(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=F0.get(t);i&&(re("ComponentProvider","Removing Datastore"),F0.delete(t),i.terminate())}(this),Promise.resolve()}}function iw(a,e,t,i={}){var s;const l=(a=je(a,Tc))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:a._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==nw&&l.host!==d&&Ri("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:i});if(!Po(m,c)&&(a._setSettings(m),i.mockUserToken)){let g,_;if(typeof i.mockUserToken=="string")g=i.mockUserToken,_=Ht.MOCK_USER;else{g=eD(i.mockUserToken,(s=a._app)===null||s===void 0?void 0:s.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ie(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ht(T)}a._authCredentials=new wx(new $b(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gn=class rw{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new rw(this.firestore,e,this._query)}},mt=class aw{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new aw(this.firestore,e,this._key)}},ea=class sw extends gn{constructor(e,t,i){super(e,t,ol(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new le(e))}withConverter(e){return new sw(this.firestore,e,this._path)}};function ow(a,e,...t){if(a=Vt(a),Dy("collection","path",e),a instanceof Tc){const i=Me.fromString(e,...t);return H0(i),new ea(a,null,i)}{if(!(a instanceof mt||a instanceof ea))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(Me.fromString(e,...t));return H0(i),new ea(a.firestore,null,i)}}function qV(a,e){if(a=je(a,Tc),Dy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ie(K.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new gn(a,null,function(i){return new hr(Me.emptyPath(),i)}(e))}function Bf(a,e,...t){if(a=Vt(a),arguments.length===1&&(e=Xb.newId()),Dy("doc","path",e),a instanceof Tc){const i=Me.fromString(e,...t);return G0(i),new mt(a,null,new le(i))}{if(!(a instanceof mt||a instanceof ea))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(Me.fromString(e,...t));return G0(i),new mt(a.firestore,a instanceof ea?a.converter:null,new le(i))}}function lw(a,e){return a=Vt(a),e=Vt(e),(a instanceof mt||a instanceof ea)&&(e instanceof mt||e instanceof ea)&&a.firestore===e.firestore&&a.path===e.path&&a.converter===e.converter}function uw(a,e){return a=Vt(a),e=Vt(e),a instanceof gn&&e instanceof gn&&a.firestore===e.firestore&&mc(a._query,e._query)&&a.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="AsyncQueue";class $0{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new hy(this,"async_queue_retry"),this.ju=()=>{const i=gf();i&&re(Y0,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=gf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=gf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new en;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!da(e))throw e;re(Y0,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,At("INTERNAL UNHANDLED ERROR: ",X0(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const s=py.createAndSchedule(this,e,t,i,l=>this.Xu(l));return this.Uu.push(s),s}Ju(){this.Ku&&de(47125,{ec:X0(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function X0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(a){return function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const l of i)if(l in s&&typeof s[l]=="function")return!0;return!1}(a,["next","error","complete"])}class jV{constructor(){this._progressObserver={},this._taskCompletionResolver=new en,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=-1;let wt=class extends Tc{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new $0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $0(e),this._firestoreClient=void 0,await e}}};function GV(a,e){const t=typeof a=="object"?a:zb(),i=typeof a=="string"?a:Df,s=Vg(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=J1("firestore");l&&iw(s,...l)}return s}function ln(a){if(a._terminated)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||cw(a),a._firestoreClient}function cw(a){var e,t,i;const s=a._freezeSettings(),l=function(d,m,g,_){return new hC(d,m,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,WS(_.experimentalLongPollingOptions),_.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,s);a._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(a._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),a._firestoreClient=new NV(a._authCredentials,a._appCheckCredentials,a._queue,l,a._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(a._componentsProvider))}function HV(a,e){Ri("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=a._freezeSettings();return hw(a,ic.provider,{build:i=>new YS(i,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function KV(a){Ri("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=a._freezeSettings();hw(a,ic.provider,{build:t=>new DV(t,e.cacheSizeBytes)})}function hw(a,e,t){if((a=je(a,wt))._firestoreClient||a._terminated)throw new ie(K.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(a._componentsProvider||a._getSettings().localCache)throw new ie(K.FAILED_PRECONDITION,"SDK cache is already specified.");a._componentsProvider={_online:e,_offline:t},cw(a)}function QV(a){if(a._initialized&&!a._terminated)throw new ie(K.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new en;return a._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(i){if(!Ai.C())return Promise.resolve();const s=i+ES;await Ai.delete(s)}(oy(a._databaseId,a._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function YV(a){return function(t){const i=new en;return t.asyncQueue.enqueueAndForget(async()=>pV(await Iy(t),i)),i.promise}(ln(a=je(a,wt)))}function $V(a){return MV(ln(a=je(a,wt)))}function XV(a){return PV(ln(a=je(a,wt)))}function ZV(a,e){const t=ln(a=je(a,wt)),i=new jV;return UV(t,a._databaseId,e,i),i}function JV(a,e){return BV(ln(a=je(a,wt)),e).then(t=>t?new gn(a,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Di(vt.fromBase64String(e))}catch(t){throw new ie(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Di(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ws=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=/^__.*__$/;class eN{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new dr(e,this.data,this.fieldMask,t,this.fieldTransforms):new ll(e,this.data,t,this.fieldTransforms)}}class fw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new dr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dw(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{oc:a})}}class ud{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new ud(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:i,cc:!1});return s.lc(e),s}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:i,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return qf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(dw(this.oc)&&WV.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class tN{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||vc(e)}dc(e,t,i,s=!1){return new ud({oc:e,methodName:t,Ec:i,path:ut.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rs(a){const e=a._freezeSettings(),t=vc(a._databaseId);return new tN(a._databaseId,!!e.ignoreUndefinedProperties,t)}function cd(a,e,t,i,s,l={}){const c=a.dc(l.merge||l.mergeFields?2:0,e,t,s);Ly("Data must be an object, but it was:",c,i);const d=gw(i,c);let m,g;if(l.merge)m=new Tn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const A=yg(e,T,t);if(!c.contains(A))throw new ie(K.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);_w(_,A)||_.push(A)}m=new Tn(_),g=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=c.fieldTransforms;return new eN(new Wt(d),m,g)}class bc extends ws{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bc}}function mw(a,e,t){return new ud({oc:3,Ec:e.settings.Ec,methodName:a._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Cy extends ws{_toFieldTransform(e){return new gc(e.path,new Yo)}isEqual(e){return e instanceof Cy}}class Vy extends ws{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=mw(this,e,!0),i=this.Ac.map(l=>Is(l,t)),s=new gs(i);return new gc(e.path,s)}isEqual(e){return e instanceof Vy&&Po(this.Ac,e.Ac)}}class Ny extends ws{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=mw(this,e,!0),i=this.Ac.map(l=>Is(l,t)),s=new ys(i);return new gc(e.path,s)}isEqual(e){return e instanceof Ny&&Po(this.Ac,e.Ac)}}class Oy extends ws{constructor(e,t){super(e),this.Rc=t}_toFieldTransform(e){const t=new $o(e.serializer,kA(e.serializer,this.Rc));return new gc(e.path,t)}isEqual(e){return e instanceof Oy&&this.Rc===e.Rc}}function My(a,e,t,i){const s=a.dc(1,e,t);Ly("Data must be an object, but it was:",s,i);const l=[],c=Wt.empty();ma(i,(m,g)=>{const _=zy(e,m,t);g=Vt(g);const T=s.hc(_);if(g instanceof bc)l.push(_);else{const A=Is(g,T);A!=null&&(l.push(_),c.set(_,A))}});const d=new Tn(l);return new fw(c,d,s.fieldTransforms)}function Py(a,e,t,i,s,l){const c=a.dc(1,e,t),d=[yg(e,i,t)],m=[s];if(l.length%2!=0)throw new ie(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)d.push(yg(e,l[A])),m.push(l[A+1]);const g=[],_=Wt.empty();for(let A=d.length-1;A>=0;--A)if(!_w(g,d[A])){const D=d[A];let C=m[A];C=Vt(C);const G=c.hc(D);if(C instanceof bc)g.push(D);else{const k=Is(C,G);k!=null&&(g.push(D),_.set(D,k))}}const T=new Tn(g);return new fw(_,T,c.fieldTransforms)}function pw(a,e,t,i=!1){return Is(t,a.dc(i?4:3,e))}function Is(a,e){if(yw(a=Vt(a)))return Ly("Unsupported field value:",e,a),gw(a,e);if(a instanceof ws)return function(i,s){if(!dw(s.oc))throw s.Tc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,s){const l=[];let c=0;for(const d of i){let m=Is(d,s.Pc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(a,e)}return function(i,s){if((i=Vt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return kA(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ht.fromDate(i);return{timestampValue:Xo(s.serializer,l)}}if(i instanceof ht){const l=new ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Xo(s.serializer,l)}}if(i instanceof ld)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Di)return{bytesValue:$A(s.serializer,i._byteString)};if(i instanceof mt){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ey(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof xy)return function(c,d){return{mapValue:{fields:{[Fg]:{stringValue:Gg},[Ho]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Tc("VectorValues must only contain numeric values.");return Yg(d.serializer,g)})}}}}}}(i,s);throw s.Tc(`Unsupported field value: ${od(i)}`)}(a,e)}function gw(a,e){const t={};return dA(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(a,(i,s)=>{const l=Is(s,e.uc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function yw(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ht||a instanceof ld||a instanceof Di||a instanceof mt||a instanceof ws||a instanceof xy)}function Ly(a,e,t){if(!yw(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=od(t);throw i==="an object"?e.Tc(a+" a custom object"):e.Tc(a+" "+i)}}function yg(a,e,t){if((e=Vt(e))instanceof ca)return e._internalPath;if(typeof e=="string")return zy(a,e);throw qf("Field path arguments must be of type string or ",a,!1,void 0,t)}const nN=new RegExp("[~\\*/\\[\\]]");function zy(a,e,t){if(e.search(nN)>=0)throw qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,t);try{return new ca(...e.split("."))._internalPath}catch{throw qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,t)}}function qf(a,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${s}`),m+=")"),new ie(K.INVALID_ARGUMENT,d+a+m)}function _w(a,e){return a.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iN extends rc{data(){return super.data()}}function hd(a,e){return typeof e=="string"?zy(a,e):e instanceof ca?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ie(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ky{}class Ac extends ky{}function Qr(a,e,...t){let i=[];e instanceof ky&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof Uy).length,d=l.filter(m=>m instanceof fd).length;if(c>1||c>0&&d>0)throw new ie(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)a=s._apply(a);return a}class fd extends Ac{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new fd(e,t,i)}_apply(e){const t=this._parse(e);return Tw(e._query,t),new gn(e.firestore,e.converter,ig(e._query,t))}_parse(e){const t=Rs(e.firestore);return function(l,c,d,m,g,_,T){let A;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ie(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){J0(T,_);const C=[];for(const G of T)C.push(Z0(m,l,G));A={arrayValue:{values:C}}}else A=Z0(m,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||J0(T,_),A=pw(d,c,T,_==="in"||_==="not-in");return Pe.create(g,_,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function rN(a,e,t){const i=e,s=hd("where",a);return fd._create(s,i,t)}class Uy extends ky{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Uy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:$e.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,l){let c=s;const d=l.getFlattenedFilters();for(const m of d)Tw(c,m),c=ig(c,m)}(e._query,t),new gn(e.firestore,e.converter,ig(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class By extends Ac{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new By(e,t)}_apply(e){const t=function(s,l,c){if(s.startAt!==null)throw new ie(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ie(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wu(l,c)}(e._query,this._field,this._direction);return new gn(e.firestore,e.converter,function(s,l){const c=s.explicitOrderBy.concat([l]);return new hr(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function aN(a,e="asc"){const t=e,i=hd("orderBy",a);return By._create(i,t)}class dd extends Ac{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new dd(e,t,i)}_apply(e){return new gn(e.firestore,e.converter,Vf(e._query,this._limit,this._limitType))}}function sN(a){return tw("limit",a),dd._create("limit",a,"F")}function oN(a){return tw("limitToLast",a),dd._create("limitToLast",a,"L")}class md extends Ac{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new md(e,t,i)}_apply(e){const t=Ew(e,this.type,this._docOrFields,this._inclusive);return new gn(e.firestore,e.converter,function(s,l){return new hr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)}(e._query,t))}}function lN(...a){return md._create("startAt",a,!0)}function uN(...a){return md._create("startAfter",a,!1)}class pd extends Ac{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new pd(e,t,i)}_apply(e){const t=Ew(e,this.type,this._docOrFields,this._inclusive);return new gn(e.firestore,e.converter,function(s,l){return new hr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)}(e._query,t))}}function cN(...a){return pd._create("endBefore",a,!1)}function hN(...a){return pd._create("endAt",a,!0)}function Ew(a,e,t,i){if(t[0]=Vt(t[0]),t[0]instanceof rc)return function(l,c,d,m,g){if(!m)throw new ie(K.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const _=[];for(const T of Oo(l))if(T.field.isKeyField())_.push(ms(c,m.key));else{const A=m.data.field(T.field);if($f(A))throw new ie(K.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const D=T.field.canonicalString();throw new ie(K.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}_.push(A)}return new oa(_,g)}(a._query,a.firestore._databaseId,e,t[0]._document,i);{const s=Rs(a.firestore);return function(c,d,m,g,_,T){const A=c.explicitOrderBy;if(_.length>A.length)throw new ie(K.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let C=0;C<_.length;C++){const G=_[C];if(A[C].field.isKeyField()){if(typeof G!="string")throw new ie(K.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof G}`);if(!Kg(c)&&G.indexOf("/")!==-1)throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${G}' contains a slash.`);const k=c.path.child(Me.fromString(G));if(!le.isDocumentKey(k))throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const Y=new le(k);D.push(ms(d,Y))}else{const k=pw(m,g,G);D.push(k)}}return new oa(D,T)}(a._query,a.firestore._databaseId,s,e,t,i)}}function Z0(a,e,t){if(typeof(t=Vt(t))=="string"){if(t==="")throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kg(e)&&t.indexOf("/")!==-1)throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Me.fromString(t));if(!le.isDocumentKey(i))throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ms(a,new le(i))}if(t instanceof mt)return ms(a,t._key);throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${od(t)}.`)}function J0(a,e){if(!Array.isArray(a)||a.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Tw(a,e){const t=function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(a.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ie(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qy{convertValue(e,t="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ma(e,(s,l)=>{i[s]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,s;const l=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Ho].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>lt(c.doubleValue));return new xy(l)}convertGeoPoint(e){return new ld(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Xf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){const t=or(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Me.fromString(e);ge(sS(i),9688,{name:e});const s=new ra(i.get(1),i.get(3)),l=new le(i.popFirst(5));return s.isEqual(t)||At(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(a,e,t){let i;return i=a?t&&(t.merge||t.mergeFields)?a.toFirestore(e,t):a.toFirestore(e):e,i}class fN extends qy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Di(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let ur=class extends rc{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(hd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},qu=class extends ur{data(e={}){return super.data(e)}},ha=class{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new cs(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new qu(this._firestore,this._userDataWriter,i.key,i,new cs(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const m=new qu(s._firestore,s._userDataWriter,d.doc.key,d.doc,new cs(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new qu(s._firestore,s._userDataWriter,d.doc.key,d.doc,new cs(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:dN(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function dN(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:a})}}function bw(a,e){return a instanceof ur&&e instanceof ur?a._firestore===e._firestore&&a._key.isEqual(e._key)&&(a._document===null?e._document===null:a._document.isEqual(e._document))&&a._converter===e._converter:a instanceof ha&&e instanceof ha&&a._firestore===e._firestore&&uw(a.query,e.query)&&a.metadata.isEqual(e.metadata)&&a._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(a){a=je(a,mt);const e=je(a.firestore,wt);return ZS(ln(e),a._key).then(t=>jy(e,a,t))}class Ds extends qy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Di(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}}function pN(a){a=je(a,mt);const e=je(a.firestore,wt),t=ln(e),i=new Ds(e);return LV(t,a._key).then(s=>new ur(e,i,a._key,s,new cs(s!==null&&s.hasLocalMutations,!0),a.converter))}function gN(a){a=je(a,mt);const e=je(a.firestore,wt);return ZS(ln(e),a._key,{source:"server"}).then(t=>jy(e,a,t))}function yN(a){a=je(a,gn);const e=je(a.firestore,wt),t=ln(e),i=new Ds(e);return vw(a._query),JS(t,a._query).then(s=>new ha(e,i,a,s))}function _N(a){a=je(a,gn);const e=je(a.firestore,wt),t=ln(e),i=new Ds(e);return zV(t,a._query).then(s=>new ha(e,i,a,s))}function vN(a){a=je(a,gn);const e=je(a.firestore,wt),t=ln(e),i=new Ds(e);return JS(t,a._query,{source:"server"}).then(s=>new ha(e,i,a,s))}function W0(a,e,t){a=je(a,mt);const i=je(a.firestore,wt),s=gd(a.converter,e,t);return Sc(i,[cd(Rs(i),"setDoc",a._key,s,a.converter!==null,t).toMutation(a._key,ct.none())])}function eb(a,e,t,...i){a=je(a,mt);const s=je(a.firestore,wt),l=Rs(s);let c;return c=typeof(e=Vt(e))=="string"||e instanceof ca?Py(l,"updateDoc",a._key,e,t,i):My(l,"updateDoc",a._key,e),Sc(s,[c.toMutation(a._key,ct.exists(!0))])}function EN(a){return Sc(je(a.firestore,wt),[new ul(a._key,ct.none())])}function TN(a,e){const t=je(a.firestore,wt),i=Bf(a),s=gd(a.converter,e);return Sc(t,[cd(Rs(a.firestore),"addDoc",i._key,s,a.converter!==null,{}).toMutation(i._key,ct.exists(!1))]).then(()=>i)}function Aw(a,...e){var t,i,s;a=Vt(a);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||gg(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(gg(e[c])){const T=e[c];e[c]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[c+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),e[c+2]=(s=T.complete)===null||s===void 0?void 0:s.bind(T)}let m,g,_;if(a instanceof mt)g=je(a.firestore,wt),_=ol(a._key.path),m={next:T=>{e[c]&&e[c](jy(g,a,T))},error:e[c+1],complete:e[c+2]};else{const T=je(a,gn);g=je(T.firestore,wt),_=T._query;const A=new Ds(g);m={next:D=>{e[c]&&e[c](new ha(g,A,T,D))},error:e[c+1],complete:e[c+2]},vw(a._query)}return function(A,D,C,G){const k=new ad(G),Y=new vy(D,k,C);return A.asyncQueue.enqueueAndForget(async()=>gy(await nl(A),Y)),()=>{k.yu(),A.asyncQueue.enqueueAndForget(async()=>yy(await nl(A),Y))}}(ln(g),_,d,m)}function bN(a,e){return kV(ln(a=je(a,wt)),gg(e)?e:{next:e})}function Sc(a,e){return function(i,s){const l=new en;return i.asyncQueue.enqueueAndForget(async()=>hV(await Iy(i),s,l)),l.promise}(ln(a),e)}function jy(a,e,t){const i=t.docs.get(e._key),s=new Ds(a);return new ur(a,s,e._key,i,new cs(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SN=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rs(e)}set(e,t,i){this._verifyNotCommitted();const s=Xr(e,this._firestore),l=gd(s.converter,t,i),c=cd(this._dataReader,"WriteBatch.set",s._key,l,s.converter!==null,i);return this._mutations.push(c.toMutation(s._key,ct.none())),this}update(e,t,i,...s){this._verifyNotCommitted();const l=Xr(e,this._firestore);let c;return c=typeof(t=Vt(t))=="string"||t instanceof ca?Py(this._dataReader,"WriteBatch.update",l._key,t,i,s):My(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,ct.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xr(e,this._firestore);return this._mutations=this._mutations.concat(new ul(t._key,ct.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Xr(a,e){if((a=Vt(a)).firestore!==e)throw new ie(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rs(e)}get(e){const t=Xr(e,this._firestore),i=new fN(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||s.length!==1)return de(24041);const l=s[0];if(l.isFoundDocument())return new rc(this._firestore,i,l.key,l,t.converter);if(l.isNoDocument())return new rc(this._firestore,i,t._key,null,t.converter);throw de(18433,{doc:l})})}set(e,t,i){const s=Xr(e,this._firestore),l=gd(s.converter,t,i),c=cd(this._dataReader,"Transaction.set",s._key,l,s.converter!==null,i);return this._transaction.set(s._key,c),this}update(e,t,i,...s){const l=Xr(e,this._firestore);let c;return c=typeof(t=Vt(t))=="string"||t instanceof ca?Py(this._dataReader,"Transaction.update",l._key,t,i,s):My(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=Xr(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RN=class extends wN{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xr(e,this._firestore),i=new Ds(this._firestore);return super.get(e).then(s=>new ur(this._firestore,i,t._key,s._document,new cs(!1,!1),t.converter))}};function IN(a,e,t){a=je(a,wt);const i=Object.assign(Object.assign({},AN),t);return function(l){if(l.maxAttempts<1)throw new ie(K.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(l,c,d){const m=new en;return l.asyncQueue.enqueueAndForget(async()=>{const g=await OV(l);new VV(l.asyncQueue,g,d,c,m).Nu()}),m.promise}(ln(a),s=>e(new RN(a,s)),i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){return new bc("deleteField")}function xN(){return new Cy("serverTimestamp")}function CN(...a){return new Vy("arrayUnion",a)}function VN(...a){return new Ny("arrayRemove",a)}function NN(a){return new Oy("increment",a)}(function(e,t=!0){(function(s){sl=s})(Ng),ko(new ds("firestore",(i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new wt(new Rx(i.getProvider("auth-internal")),new xx(c,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ie(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ra(g.options.projectId,_)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),rr(CT,VT,e),rr(CT,VT,"esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,t){this._delegate=e,this.firebase=t,Fu(e,new ds("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Mg(this._delegate)))}_getService(e,t=ta){var i;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((i=s.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:t})}_removeServiceInstance(e,t=ta){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Fu(this._delegate,e)}_addOrOverwriteComponent(e){Ob(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},tb=new Gf("app-compat","Firebase",MN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(a){const e={},t={__esModule:!0,initializeApp:l,app:s,registerVersion:rr,setLogLevel:Ub,onLog:kb,apps:null,SDK_VERSION:Ng,INTERNAL:{registerComponent:d,removeApp:i,useAsService:m,modularAPIs:Tx}};t.default=t,Object.defineProperty(t,"apps",{get:c});function i(g){delete e[g]}function s(g){if(g=g||ta,!ET(e,g))throw tb.create("no-app",{appName:g});return e[g]}s.App=a;function l(g,_={}){const T=Og(g,_);if(ET(e,T.name))return e[T.name];const A=new a(T,t);return e[T.name]=A,A}function c(){return Object.keys(e).map(g=>e[g])}function d(g){const _=g.name,T=_.replace("-compat","");if(ko(g)&&g.type==="PUBLIC"){const A=(D=s())=>{if(typeof D[T]!="function")throw tb.create("invalid-app-argument",{appName:_});return D[T]()};g.serviceProps!==void 0&&vf(A,g.serviceProps),t[T]=A,a.prototype[T]=function(...D){return this._getService.bind(this,_).apply(this,g.multipleInstances?D:[])}}return g.type==="PUBLIC"?t[T]:null}function m(g,_){return _==="serverAuth"?null:_}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(){const a=PN(ON);a.INTERNAL=Object.assign(Object.assign({},a.INTERNAL),{createFirebaseNamespace:Sw,extendNamespace:e,createSubscribe:oD,ErrorFactory:Gf,deepExtend:vf});function e(t){vf(a,t)}return a}const LN=Sw();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=new xg("@firebase/app-compat"),zN="@firebase/app-compat",kN="0.2.54";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(a){rr(zN,kN,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const a=Rg();if(a.firebase!==void 0){nb.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=a.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&nb.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Fy=LN;UN();var BN="firebase",qN="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fy.registerVersion(BN,qN,"app-compat");const jN="@firebase/firestore-compat",FN="0.3.46";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(a,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ie("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(){if(typeof Uint8Array>"u")throw new ie("unimplemented","Uint8Arrays are not available in this environment.")}function rb(){if(!uC())throw new ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ac{constructor(e){this._delegate=e}static fromBase64String(e){return rb(),new ac(Di.fromBase64String(e))}static fromUint8Array(e){return ib(),new ac(Di.fromUint8Array(e))}toBase64(){return rb(),this._delegate.toBase64()}toUint8Array(){return ib(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(a){return GN(a,["next","error","complete"])}function GN(a,e){if(typeof a!="object"||a===null)return!1;const t=a;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{enableIndexedDbPersistence(e,t){return HV(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return KV(e._delegate)}clearIndexedDbPersistence(e){return QV(e._delegate)}}class ww{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof ra||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ri("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,i={}){iw(this._delegate,e,t,i)}enableNetwork(){return $V(this._delegate)}disableNetwork(){return XV(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,ew("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return YV(this._delegate)}onSnapshotsInSync(e){return bN(this._delegate,e)}get app(){if(!this._appCompat)throw new ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new il(this,ow(this._delegate,e))}catch(t){throw mn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Qn(this,Bf(this._delegate,e))}catch(t){throw mn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new dn(this,qV(this._delegate,e))}catch(t){throw mn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return IN(this._delegate,t=>e(new Rw(this,t)))}batch(){return ln(this._delegate),new Iw(new SN(this._delegate,e=>Sc(this._delegate,e)))}loadBundle(e){return ZV(this._delegate,e)}namedQuery(e){return JV(this._delegate,e).then(t=>t?new dn(this,t):null)}}class yd extends qy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(new Di(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Qn.forKey(t,this.firestore,null)}}function KN(a){bx(a)}class Rw{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new yd(e)}get(e){const t=hs(e);return this._delegate.get(t).then(i=>new sc(this._firestore,new ur(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const s=hs(e);return i?(Gy("Transaction.set",i),this._delegate.set(s,t,i)):this._delegate.set(s,t),this}update(e,t,i,...s){const l=hs(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,i,...s),this}delete(e){const t=hs(e);return this._delegate.delete(t),this}}class Iw{constructor(e){this._delegate=e}set(e,t,i){const s=hs(e);return i?(Gy("WriteBatch.set",i),this._delegate.set(s,t,i)):this._delegate.set(s,t),this}update(e,t,i,...s){const l=hs(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,i,...s),this}delete(e){const t=hs(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class bs{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new qu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new oc(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=bs.INSTANCES;let s=i.get(e);s||(s=new WeakMap,i.set(e,s));let l=s.get(t);return l||(l=new bs(e,new yd(e),t),s.set(t,l)),l}}bs.INSTANCES=new WeakMap;class Qn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yd(e)}static forPath(e,t,i){if(e.length%2!==0)throw new ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qn(t,new mt(t._delegate,i,new le(e)))}static forKey(e,t,i){return new Qn(t,new mt(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new il(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new il(this.firestore,ow(this._delegate,e))}catch(t){throw mn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Vt(e),e instanceof mt?lw(this._delegate,e):!1}set(e,t){t=Gy("DocumentReference.set",t);try{return t?W0(this._delegate,e,t):W0(this._delegate,e)}catch(i){throw mn(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return arguments.length===1?eb(this._delegate,e):eb(this._delegate,e,t,...i)}catch(s){throw mn(s,"updateDoc()","DocumentReference.update()")}}delete(){return EN(this._delegate)}onSnapshot(...e){const t=Dw(e),i=xw(e,s=>new sc(this.firestore,new ur(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return Aw(this._delegate,t,i)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=pN(this._delegate):(e==null?void 0:e.source)==="server"?t=gN(this._delegate):t=mN(this._delegate),t.then(i=>new sc(this.firestore,new ur(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Qn(this.firestore,e?this._delegate.withConverter(bs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function mn(a,e,t){return a.message=a.message.replace(e,t),a}function Dw(a){for(const e of a)if(typeof e=="object"&&!_g(e))return e;return{}}function xw(a,e){var t,i;let s;return _g(a[0])?s=a[0]:_g(a[1])?s=a[1]:typeof a[0]=="function"?s={next:a[0],error:a[1],complete:a[2]}:s={next:a[1],error:a[2],complete:a[3]},{next:l=>{s.next&&s.next(e(l))},error:(t=s.error)===null||t===void 0?void 0:t.bind(s),complete:(i=s.complete)===null||i===void 0?void 0:i.bind(s)}}class sc{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Qn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return bw(this._delegate,e._delegate)}}class oc extends sc{data(e){const t=this._delegate.data(e);return this._delegate._converter||Ax(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class dn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yd(e)}where(e,t,i){try{return new dn(this.firestore,Qr(this._delegate,rN(e,t,i)))}catch(s){throw mn(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new dn(this.firestore,Qr(this._delegate,aN(e,t)))}catch(i){throw mn(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new dn(this.firestore,Qr(this._delegate,sN(e)))}catch(t){throw mn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new dn(this.firestore,Qr(this._delegate,oN(e)))}catch(t){throw mn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new dn(this.firestore,Qr(this._delegate,lN(...e)))}catch(t){throw mn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new dn(this.firestore,Qr(this._delegate,uN(...e)))}catch(t){throw mn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new dn(this.firestore,Qr(this._delegate,cN(...e)))}catch(t){throw mn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new dn(this.firestore,Qr(this._delegate,hN(...e)))}catch(t){throw mn(t,"endAt()","Query.endAt()")}}isEqual(e){return uw(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=_N(this._delegate):(e==null?void 0:e.source)==="server"?t=vN(this._delegate):t=yN(this._delegate),t.then(i=>new vg(this.firestore,new ha(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=Dw(e),i=xw(e,s=>new vg(this.firestore,new ha(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return Aw(this._delegate,t,i)}withConverter(e){return new dn(this.firestore,e?this._delegate.withConverter(bs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class QN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new oc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new dn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new oc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new QN(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new oc(this._firestore,i))})}isEqual(e){return bw(this._delegate,e._delegate)}}class il extends dn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qn(this.firestore,e):null}doc(e){try{return e===void 0?new Qn(this.firestore,Bf(this._delegate)):new Qn(this.firestore,Bf(this._delegate,e))}catch(t){throw mn(t,"doc()","CollectionReference.doc()")}}add(e){return TN(this._delegate,e).then(t=>new Qn(this.firestore,t))}isEqual(e){return lw(this._delegate,e._delegate)}withConverter(e){return new il(this.firestore,e?this._delegate.withConverter(bs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function hs(a){return je(a,mt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(...e){this._delegate=new ca(...e)}static documentId(){return new Hy(ut.keyField().canonicalString())}isEqual(e){return e=Vt(e),e instanceof ca?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{static serverTimestamp(){const e=xN();return e._methodName="FieldValue.serverTimestamp",new ls(e)}static delete(){const e=DN();return e._methodName="FieldValue.delete",new ls(e)}static arrayUnion(...e){const t=CN(...e);return t._methodName="FieldValue.arrayUnion",new ls(t)}static arrayRemove(...e){const t=VN(...e);return t._methodName="FieldValue.arrayRemove",new ls(t)}static increment(e){const t=NN(e);return t._methodName="FieldValue.increment",new ls(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN={Firestore:ww,GeoPoint:ld,Timestamp:ht,Blob:ac,Transaction:Rw,WriteBatch:Iw,DocumentReference:Qn,DocumentSnapshot:sc,Query:dn,QueryDocumentSnapshot:oc,QuerySnapshot:vg,CollectionReference:il,FieldPath:Hy,FieldValue:ls,setLogLevel:KN,CACHE_SIZE_UNLIMITED:FV};function $N(a,e){a.INTERNAL.registerComponent(new ds("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(i,s)},"PUBLIC").setServiceProps(Object.assign({},YN)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(a){$N(a,(e,t)=>new ww(e,t,new HN)),a.registerVersion(jN,FN)}XN(Fy);const ZN=Fy.initializeApp({apiKey:"AIzaSyB3s6QjYWR6EL45XSK7ANP-D_1I-DZ9eYg",authDomain:"taxis-e44d6.firebaseapp.com",projectId:"taxis-e44d6",storageBucket:"taxis-e44d6.appspot.com",messagingSenderId:"603667662446",appId:"1:603667662446:web:0014b763a2a4acca92487f"});GV(ZN);function JN(){const[a,e]=ee.useState("1"),[t,i]=ee.useState("5");return W.jsxs(W.Fragment,{children:[W.jsxs("div",{className:"inicioContainer",children:[W.jsxs("div",{className:"titulo",children:[W.jsx("h4",{children:"Notas Sueltas"}),W.jsx("h2",{children:"Titulo 1"})]}),W.jsxs("div",{className:"buttonsContainer",children:[W.jsx("button",{className:a==="1"?"bg-dark":"bg-ligth",onClick:()=>e("1"),children:"info 1"}),W.jsx("button",{className:a==="2"?"bg-dark":"bg-ligth",onClick:()=>e("2"),children:"info 2"}),W.jsx("button",{className:a==="3"?"bg-dark":"bg-ligth",onClick:()=>e("3"),children:"info 3"})]}),W.jsx("div",{className:a!=="1"?"d-none":"displayX",children:W.jsx("div",{children:W.jsxs("h3",{children:["texto1",W.jsx("br",{}),"texto",W.jsx("br",{})," informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion"]})})}),W.jsx("div",{className:a!=="2"?"d-none":"displayX",children:W.jsx("div",{children:W.jsxs("h3",{children:["texto2",W.jsx("br",{})," info ",W.jsx("br",{})," es como el sistema de aspersión con líquido pero esparce partículas mucho más finas que forman una especie de nube fría, lo cual le confiere gran poder de penetración. Ideal para el control de insectos voladores."]})})}),W.jsx("div",{className:a!=="3"?"d-none":"displayX",children:W.jsx("div",{children:W.jsxs("h3",{children:["texto 3",W.jsx("br",{}),"  informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion"]})})})]}),W.jsxs("div",{className:"inicioContainer",children:[W.jsx("div",{className:"titulo",children:W.jsx("h2",{children:"Titulo 2"})}),W.jsxs("div",{className:"buttonsContainer",children:[W.jsx("button",{className:a==="4"?"bg-dark":"bg-ligth",onClick:()=>i("4"),children:"info 4"}),W.jsx("button",{className:a==="5"?"bg-dark":"bg-ligth",onClick:()=>i("5"),children:"info 5"}),W.jsx("button",{className:a==="6"?"bg-dark":"bg-ligth",onClick:()=>i("6"),children:"info 6"})]}),W.jsx("div",{className:t!=="4"?"d-none":"displayX",children:W.jsx("div",{children:W.jsxs("h3",{children:["texto4",W.jsx("br",{}),"texto",W.jsx("br",{})," informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion"]})})}),W.jsx("div",{className:t!=="5"?"d-none":"displayX",children:W.jsx("div",{children:W.jsxs("h3",{children:["texto5",W.jsx("br",{})," info ",W.jsx("br",{})," es como el sistema de aspersión con líquido pero esparce partículas mucho más finas que forman una especie de nube fría, lo cual le confiere gran poder de penetración. Ideal para el control de insectos voladores."]})})}),W.jsx("div",{className:t!=="6"?"d-none":"displayX",children:W.jsx("div",{children:W.jsxs("h3",{children:["texto 6",W.jsx("br",{}),"  informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion"]})})})]})]})}function WN(){return W.jsxs("div",{className:"containerApp",children:[W.jsx(L1,{}),W.jsx("div",{className:"publicidad1 sombra",children:W.jsx("img",{src:M1})}),W.jsxs(e1,{children:[W.jsx(rf,{path:"/notassueltas/",element:W.jsx(_T,{})}),W.jsx(rf,{path:"/notassueltas/CENACULOS",element:W.jsx(JN,{})}),W.jsx(rf,{path:"*",element:W.jsx(_T,{})})]}),W.jsx("div",{className:"sombra",style:{margin:"140px 0"},children:W.jsx("img",{src:O1})}),W.jsx(P1,{})]})}uI.createRoot(document.getElementById("root")).render(W.jsx(S1,{children:W.jsx(WN,{})}));
