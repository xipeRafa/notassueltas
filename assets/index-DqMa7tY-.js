(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();var yg={exports:{}},bu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function WR(){if(nT)return bu;nT=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:s,type:r,key:c,ref:a!==void 0?a:null,props:l}}return bu.Fragment=t,bu.jsx=e,bu.jsxs=e,bu}var rT;function tI(){return rT||(rT=1,yg.exports=WR()),yg.exports}var it=tI(),_g={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT;function eI(){if(iT)return Dt;iT=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,G={};function U(V,et,ht){this.props=V,this.context=et,this.refs=G,this.updater=ht||D}U.prototype.isReactComponent={},U.prototype.setState=function(V,et){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,et,"setState")},U.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Y(){}Y.prototype=U.prototype;function st(V,et,ht){this.props=V,this.context=et,this.refs=G,this.updater=ht||D}var Z=st.prototype=new Y;Z.constructor=st,N(Z,U.prototype),Z.isPureReactComponent=!0;var mt=Array.isArray,ft={H:null,A:null,T:null,S:null,V:null},Et=Object.prototype.hasOwnProperty;function x(V,et,ht,at,Tt,xt){return ht=xt.ref,{$$typeof:s,type:V,key:et,ref:ht!==void 0?ht:null,props:xt}}function S(V,et){return x(V.type,et,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function M(V){var et={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ht){return et[ht]})}var P=/\/+/g;function k(V,et){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):et.toString(36)}function C(){}function Ke(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(et){V.status==="pending"&&(V.status="fulfilled",V.value=et)},function(et){V.status==="pending"&&(V.status="rejected",V.reason=et)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ge(V,et,ht,at,Tt){var xt=typeof V;(xt==="undefined"||xt==="boolean")&&(V=null);var Rt=!1;if(V===null)Rt=!0;else switch(xt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(V.$$typeof){case s:case t:Rt=!0;break;case _:return Rt=V._init,ge(Rt(V._payload),et,ht,at,Tt)}}if(Rt)return Tt=Tt(V),Rt=at===""?"."+k(V,0):at,mt(Tt)?(ht="",Rt!=null&&(ht=Rt.replace(P,"$&/")+"/"),ge(Tt,et,ht,"",function(nr){return nr})):Tt!=null&&(R(Tt)&&(Tt=S(Tt,ht+(Tt.key==null||V&&V.key===Tt.key?"":(""+Tt.key).replace(P,"$&/")+"/")+Rt)),et.push(Tt)),1;Rt=0;var Ue=at===""?".":at+":";if(mt(V))for(var ne=0;ne<V.length;ne++)at=V[ne],xt=Ue+k(at,ne),Rt+=ge(at,et,ht,xt,Tt);else if(ne=A(V),typeof ne=="function")for(V=ne.call(V),ne=0;!(at=V.next()).done;)at=at.value,xt=Ue+k(at,ne++),Rt+=ge(at,et,ht,xt,Tt);else if(xt==="object"){if(typeof V.then=="function")return ge(Ke(V),et,ht,at,Tt);throw et=String(V),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function $(V,et,ht){if(V==null)return V;var at=[],Tt=0;return ge(V,at,"","",function(xt){return et.call(ht,xt,Tt++)}),at}function ut(V){if(V._status===-1){var et=V._result;et=et(),et.then(function(ht){(V._status===0||V._status===-1)&&(V._status=1,V._result=ht)},function(ht){(V._status===0||V._status===-1)&&(V._status=2,V._result=ht)}),V._status===-1&&(V._status=0,V._result=et)}if(V._status===1)return V._result.default;throw V._result}var vt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function jt(){}return Dt.Children={map:$,forEach:function(V,et,ht){$(V,function(){et.apply(this,arguments)},ht)},count:function(V){var et=0;return $(V,function(){et++}),et},toArray:function(V){return $(V,function(et){return et})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Dt.Component=U,Dt.Fragment=e,Dt.Profiler=a,Dt.PureComponent=st,Dt.StrictMode=r,Dt.Suspense=m,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ft.H.useMemoCache(V)}},Dt.cache=function(V){return function(){return V.apply(null,arguments)}},Dt.cloneElement=function(V,et,ht){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=N({},V.props),Tt=V.key,xt=void 0;if(et!=null)for(Rt in et.ref!==void 0&&(xt=void 0),et.key!==void 0&&(Tt=""+et.key),et)!Et.call(et,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&et.ref===void 0||(at[Rt]=et[Rt]);var Rt=arguments.length-2;if(Rt===1)at.children=ht;else if(1<Rt){for(var Ue=Array(Rt),ne=0;ne<Rt;ne++)Ue[ne]=arguments[ne+2];at.children=Ue}return x(V.type,Tt,void 0,void 0,xt,at)},Dt.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Dt.createElement=function(V,et,ht){var at,Tt={},xt=null;if(et!=null)for(at in et.key!==void 0&&(xt=""+et.key),et)Et.call(et,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(Tt[at]=et[at]);var Rt=arguments.length-2;if(Rt===1)Tt.children=ht;else if(1<Rt){for(var Ue=Array(Rt),ne=0;ne<Rt;ne++)Ue[ne]=arguments[ne+2];Tt.children=Ue}if(V&&V.defaultProps)for(at in Rt=V.defaultProps,Rt)Tt[at]===void 0&&(Tt[at]=Rt[at]);return x(V,xt,void 0,void 0,null,Tt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(V){return{$$typeof:d,render:V}},Dt.isValidElement=R,Dt.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:ut}},Dt.memo=function(V,et){return{$$typeof:p,type:V,compare:et===void 0?null:et}},Dt.startTransition=function(V){var et=ft.T,ht={};ft.T=ht;try{var at=V(),Tt=ft.S;Tt!==null&&Tt(ht,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(jt,vt)}catch(xt){vt(xt)}finally{ft.T=et}},Dt.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},Dt.use=function(V){return ft.H.use(V)},Dt.useActionState=function(V,et,ht){return ft.H.useActionState(V,et,ht)},Dt.useCallback=function(V,et){return ft.H.useCallback(V,et)},Dt.useContext=function(V){return ft.H.useContext(V)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(V,et){return ft.H.useDeferredValue(V,et)},Dt.useEffect=function(V,et,ht){var at=ft.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(V,et)},Dt.useId=function(){return ft.H.useId()},Dt.useImperativeHandle=function(V,et,ht){return ft.H.useImperativeHandle(V,et,ht)},Dt.useInsertionEffect=function(V,et){return ft.H.useInsertionEffect(V,et)},Dt.useLayoutEffect=function(V,et){return ft.H.useLayoutEffect(V,et)},Dt.useMemo=function(V,et){return ft.H.useMemo(V,et)},Dt.useOptimistic=function(V,et){return ft.H.useOptimistic(V,et)},Dt.useReducer=function(V,et,ht){return ft.H.useReducer(V,et,ht)},Dt.useRef=function(V){return ft.H.useRef(V)},Dt.useState=function(V){return ft.H.useState(V)},Dt.useSyncExternalStore=function(V,et,ht){return ft.H.useSyncExternalStore(V,et,ht)},Dt.useTransition=function(){return ft.H.useTransition()},Dt.version="19.1.0",Dt}var sT;function Ep(){return sT||(sT=1,_g.exports=eI()),_g.exports}var tt=Ep(),vg={exports:{}},Au={},Eg={exports:{}},Tg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function nI(){return aT||(aT=1,function(s){function t($,ut){var vt=$.length;$.push(ut);t:for(;0<vt;){var jt=vt-1>>>1,V=$[jt];if(0<a(V,ut))$[jt]=ut,$[vt]=V,vt=jt;else break t}}function e($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ut=$[0],vt=$.pop();if(vt!==ut){$[0]=vt;t:for(var jt=0,V=$.length,et=V>>>1;jt<et;){var ht=2*(jt+1)-1,at=$[ht],Tt=ht+1,xt=$[Tt];if(0>a(at,vt))Tt<V&&0>a(xt,at)?($[jt]=xt,$[Tt]=vt,jt=Tt):($[jt]=at,$[ht]=vt,jt=ht);else if(Tt<V&&0>a(xt,vt))$[jt]=xt,$[Tt]=vt,jt=Tt;else break t}}return ut}function a($,ut){var vt=$.sortIndex-ut.sortIndex;return vt!==0?vt:$.id-ut.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();s.unstable_now=function(){return c.now()-d}}var m=[],p=[],_=1,T=null,A=3,D=!1,N=!1,G=!1,U=!1,Y=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function mt($){for(var ut=e(p);ut!==null;){if(ut.callback===null)r(p);else if(ut.startTime<=$)r(p),ut.sortIndex=ut.expirationTime,t(m,ut);else break;ut=e(p)}}function ft($){if(G=!1,mt($),!N)if(e(m)!==null)N=!0,Et||(Et=!0,k());else{var ut=e(p);ut!==null&&ge(ft,ut.startTime-$)}}var Et=!1,x=-1,S=5,R=-1;function M(){return U?!0:!(s.unstable_now()-R<S)}function P(){if(U=!1,Et){var $=s.unstable_now();R=$;var ut=!0;try{t:{N=!1,G&&(G=!1,st(x),x=-1),D=!0;var vt=A;try{e:{for(mt($),T=e(m);T!==null&&!(T.expirationTime>$&&M());){var jt=T.callback;if(typeof jt=="function"){T.callback=null,A=T.priorityLevel;var V=jt(T.expirationTime<=$);if($=s.unstable_now(),typeof V=="function"){T.callback=V,mt($),ut=!0;break e}T===e(m)&&r(m),mt($)}else r(m);T=e(m)}if(T!==null)ut=!0;else{var et=e(p);et!==null&&ge(ft,et.startTime-$),ut=!1}}break t}finally{T=null,A=vt,D=!1}ut=void 0}}finally{ut?k():Et=!1}}}var k;if(typeof Z=="function")k=function(){Z(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ke=C.port2;C.port1.onmessage=P,k=function(){Ke.postMessage(null)}}else k=function(){Y(P,0)};function ge($,ut){x=Y(function(){$(s.unstable_now())},ut)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function($){switch(A){case 1:case 2:case 3:var ut=3;break;default:ut=A}var vt=A;A=ut;try{return $()}finally{A=vt}},s.unstable_requestPaint=function(){U=!0},s.unstable_runWithPriority=function($,ut){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var vt=A;A=$;try{return ut()}finally{A=vt}},s.unstable_scheduleCallback=function($,ut,vt){var jt=s.unstable_now();switch(typeof vt=="object"&&vt!==null?(vt=vt.delay,vt=typeof vt=="number"&&0<vt?jt+vt:jt):vt=jt,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=vt+V,$={id:_++,callback:ut,priorityLevel:$,startTime:vt,expirationTime:V,sortIndex:-1},vt>jt?($.sortIndex=vt,t(p,$),e(m)===null&&$===e(p)&&(G?(st(x),x=-1):G=!0,ge(ft,vt-jt))):($.sortIndex=V,t(m,$),N||D||(N=!0,Et||(Et=!0,k()))),$},s.unstable_shouldYield=M,s.unstable_wrapCallback=function($){var ut=A;return function(){var vt=A;A=ut;try{return $.apply(this,arguments)}finally{A=vt}}}}(Tg)),Tg}var oT;function rI(){return oT||(oT=1,Eg.exports=nI()),Eg.exports}var bg={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function iI(){if(lT)return rn;lT=1;var s=Ep();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:_}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,_)},rn.flushSync=function(m){var p=c.T,_=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=_,r.d.f()}},rn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},rn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},rn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,T=d(_,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:D}):_==="script"&&r.d.X(m,{crossOrigin:T,integrity:A,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},rn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,T=d(_,p.crossOrigin);r.d.L(m,_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rn.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},rn.requestFormReset=function(m){r.d.r(m)},rn.unstable_batchedUpdates=function(m,p){return m(p)},rn.useFormState=function(m,p,_){return c.H.useFormState(m,p,_)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var uT;function sI(){if(uT)return bg.exports;uT=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),bg.exports=iI(),bg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function aI(){if(cT)return Au;cT=1;var s=rI(),t=Ep(),e=sI();function r(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(r(188))}function m(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(r(188));return i!==n?null:n}for(var o=n,u=i;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),n;if(g===u)return d(f),i;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,b=f.child;b;){if(b===o){E=!0,o=f,u=g;break}if(b===u){E=!0,u=f,o=g;break}b=b.sibling}if(!E){for(b=g.child;b;){if(b===o){E=!0,o=g,u=f;break}if(b===u){E=!0,u=g,o=f;break}b=b.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),st=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function Ke(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case U:return"Profiler";case G:return"StrictMode";case ft:return"Suspense";case Et:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case Z:return(n.displayName||"Context")+".Provider";case st:return(n._context.displayName||"Context")+".Consumer";case mt:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return i=n.displayName||null,i!==null?i:Ke(n.type)||"Memo";case S:i=n._payload,n=n._init;try{return Ke(n(i))}catch{}}return null}var ge=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt={pending:!1,data:null,method:null,action:null},jt=[],V=-1;function et(n){return{current:n}}function ht(n){0>V||(n.current=jt[V],jt[V]=null,V--)}function at(n,i){V++,jt[V]=n.current,n.current=i}var Tt=et(null),xt=et(null),Rt=et(null),Ue=et(null);function ne(n,i){switch(at(Rt,i),at(xt,n),at(Tt,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?xE(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=xE(i),n=VE(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ht(Tt),at(Tt,n)}function nr(){ht(Tt),ht(xt),ht(Rt)}function gi(n){n.memoizedState!==null&&at(Ue,n);var i=Tt.current,o=VE(i,n.type);i!==o&&(at(xt,n),at(Tt,o))}function xr(n){xt.current===n&&(ht(Tt),ht(xt)),Ue.current===n&&(ht(Ue),yu._currentValue=vt)}var ys=Object.prototype.hasOwnProperty,_s=s.unstable_scheduleCallback,vs=s.unstable_cancelCallback,ml=s.unstable_shouldYield,Sc=s.unstable_requestPaint,Mn=s.unstable_now,yd=s.unstable_getCurrentPriorityLevel,gl=s.unstable_ImmediatePriority,Ca=s.unstable_UserBlockingPriority,Es=s.unstable_NormalPriority,_d=s.unstable_LowPriority,xa=s.unstable_IdlePriority,pl=s.log,Rc=s.unstable_setDisableYieldValue,pe=null,Kt=null;function An(n){if(typeof pl=="function"&&Rc(n),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(pe,n)}catch{}}var en=Math.clz32?Math.clz32:Ts,Ic=Math.log,vd=Math.LN2;function Ts(n){return n>>>=0,n===0?32:31-(Ic(n)/vd|0)|0}var bs=256,As=4194304;function $n(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Va(n,i,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,g=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~g,u!==0?f=$n(u):(E&=b,E!==0?f=$n(E):o||(o=b&~n,o!==0&&(f=$n(o))))):(b=u&~g,b!==0?f=$n(b):E!==0?f=$n(E):o||(o=u&~n,o!==0&&(f=$n(o)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:f}function ws(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function yl(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _l(){var n=bs;return bs<<=1,(bs&4194048)===0&&(bs=256),n}function vl(){var n=As;return As<<=1,(As&62914560)===0&&(As=4194304),n}function Vr(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function Nr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function El(n,i,o,u,f,g){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var b=n.entanglements,I=n.expirationTimes,F=n.hiddenUpdates;for(o=E&~o;0<o;){var X=31-en(o),W=1<<X;b[X]=0,I[X]=-1;var j=F[X];if(j!==null)for(F[X]=null,X=0;X<j.length;X++){var H=j[X];H!==null&&(H.lane&=-536870913)}o&=~W}u!==0&&rr(n,u,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(E&~i))}function rr(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-en(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function Tl(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var u=31-en(o),f=1<<u;f&i|n[u]&i&&(n[u]|=i),o&=~f}}function pi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Na(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function yi(){var n=ut.p;return n!==0?n:(n=window.event,n===void 0?32:XE(n.type))}function Dc(n,i){var o=ut.p;try{return ut.p=n,i()}finally{ut.p=o}}var ae=Math.random().toString(36).slice(2),Ne="__reactFiber$"+ae,Re="__reactProps$"+ae,Pn="__reactContainer$"+ae,bl="__reactEvents$"+ae,Ed="__reactListeners$"+ae,_i="__reactHandles$"+ae,Cc="__reactResources$"+ae,Ss="__reactMarker$"+ae;function vi(n){delete n[Ne],delete n[Re],delete n[bl],delete n[Ed],delete n[_i]}function Or(n){var i=n[Ne];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Pn]||o[Ne]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=PE(n);n!==null;){if(o=n[Ne])return o;n=PE(n)}return i}n=o,o=n.parentNode}return null}function ir(n){if(n=n[Ne]||n[Pn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function sr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(r(33))}function un(n){var i=n[Cc];return i||(i=n[Cc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(n){n[Ss]=!0}var Al=new Set,Oa={};function Xn(n,i){Mr(n,i),Mr(n+"Capture",i)}function Mr(n,i){for(Oa[n]=i,n=0;n<i.length;n++)Al.add(i[n])}var xc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vc={},Rs={};function Nc(n){return ys.call(Rs,n)?!0:ys.call(Vc,n)?!1:xc.test(n)?Rs[n]=!0:(Vc[n]=!0,!1)}function Ei(n,i,o){if(Nc(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function ar(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function Qe(n,i,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+u)}}var Is,Oc;function Pr(n){if(Is===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Is=i&&i[1]||"",Oc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Is+n+Oc}var Ma=!1;function Pa(n,i){if(!n||Ma)return"";Ma=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var j=H}Reflect.construct(n,[],W)}else{try{W.call()}catch(H){j=H}n.call(W.prototype)}}else{try{throw Error()}catch(H){j=H}(W=n())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],b=g[1];if(E&&b){var I=E.split(`
`),F=b.split(`
`);for(f=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(u===I.length||f===F.length)for(u=I.length-1,f=F.length-1;1<=u&&0<=f&&I[u]!==F[f];)f--;for(;1<=u&&0<=f;u--,f--)if(I[u]!==F[f]){if(u!==1||f!==1)do if(u--,f--,0>f||I[u]!==F[f]){var X=`
`+I[u].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=u&&0<=f);break}}}finally{Ma=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Pr(o):""}function wl(n){switch(n.tag){case 26:case 27:case 5:return Pr(n.type);case 16:return Pr("Lazy");case 13:return Pr("Suspense");case 19:return Pr("SuspenseList");case 0:case 15:return Pa(n.type,!1);case 11:return Pa(n.type.render,!1);case 1:return Pa(n.type,!0);case 31:return Pr("Activity");default:return""}}function La(n){try{var i="";do i+=wl(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function cn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Sl(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Td(n){var i=Sl(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ka(n){n._valueTracker||(n._valueTracker=Td(n))}function Rl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return n&&(u=Sl(n)?n.checked?"true":"false":n.value),n=u,n!==o?(i.setValue(n),!0):!1}function Ds(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var bd=/[\n"\\]/g;function Ie(n){return n.replace(bd,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wn(n,i,o,u,f,g,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+cn(i)):n.value!==""+cn(i)&&(n.value=""+cn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Ti(n,E,cn(i)):o!=null?Ti(n,E,cn(o)):u!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+cn(b):n.removeAttribute("name")}function Cs(n,i,o,u,f,g,E,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;o=o!=null?""+cn(o):"",i=i!=null?""+cn(i):o,b||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ti(n,i,o){i==="number"&&Ds(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Lr(n,i,o,u){if(n=n.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=i.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+cn(o),i=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Zt(n,i,o){if(i!=null&&(i=""+cn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+cn(o):""}function xs(n,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(r(92));if(ge(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=cn(i),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Ln(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var Vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mc(n,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,o):typeof o!="number"||o===0||Vs.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function Il(n,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&Mc(n,f,u)}else for(var g in i)i.hasOwnProperty(g)&&Mc(n,g,i[g])}function Dl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ad=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(n){return wd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var kr=null;function kn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ur=null,Br=null;function Cl(n){var i=ir(n);if(i&&(n=i.stateNode)){var o=n[Re]||null;t:switch(n=i.stateNode,i.type){case"input":if(wn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ie(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==n&&u.form===n.form){var f=u[Re]||null;if(!f)throw Error(r(90));wn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===n.form&&Rl(u)}break t;case"textarea":Zt(n,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&Lr(n,!!o.multiple,i,!1)}}}var or=!1;function Pc(n,i,o){if(or)return n(i,o);or=!0;try{var u=n(i);return u}finally{if(or=!1,(Ur!==null||Br!==null)&&(Dh(),Ur&&(i=Ur,n=Br,Br=Ur=null,Cl(i),n)))for(i=0;i<n.length;i++)Cl(n[i])}}function Ns(n,i){var o=n.stateNode;if(o===null)return null;var u=o[Re]||null;if(u===null)return null;o=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Un=!1;if(Zn)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){Un=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{Un=!1}var lr=null,bi=null,zr=null;function xl(){if(zr)return zr;var n,i=bi,o=i.length,u,f="value"in lr?lr.value:lr.textContent,g=f.length;for(n=0;n<o&&i[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&i[o-u]===f[g-u];u++);return zr=f.slice(n,1<u?1-u:void 0)}function ur(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function cr(){return!0}function Vl(){return!1}function Be(n){function i(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(o=n[b],this[b]=o?o(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?cr:Vl,this.isPropagationStopped=Vl,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),i}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=Be(Ht),Ms=_({},Ht,{view:0,detail:0}),Lc=Be(Ms),za,qa,hr,Ps=_({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hr&&(hr&&n.type==="mousemove"?(za=n.screenX-hr.screenX,qa=n.screenY-hr.screenY):qa=za=0,hr=n),za)},movementY:function(n){return"movementY"in n?n.movementY:qa}}),Bn=Be(Ps),kc=_({},Ps,{dataTransfer:0}),Sd=Be(kc),Ls=_({},Ms,{relatedTarget:0}),Fa=Be(Ls),Nl=_({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),ja=Be(Nl),Uc=_({},Ht,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ga=Be(Uc),Rd=_({},Ht,{data:0}),Ol=Be(Rd),ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ml(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=zc[n])?!!i[n]:!1}function Us(){return Ml}var qc=_({},Ms,{key:function(n){if(n.key){var i=ks[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ur(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Bc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(n){return n.type==="keypress"?ur(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ur(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ha=Be(qc),Fc=_({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pl=Be(Fc),qr=_({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),jc=Be(qr),Gc=_({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hc=Be(Gc),Kc=_({},Ps,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ka=Be(Kc),hn=_({},Ht,{newState:0,oldState:0}),Qc=Be(hn),Yc=[9,13,27,32],fr=Zn&&"CompositionEvent"in window,h=null;Zn&&"documentMode"in document&&(h=document.documentMode);var y=Zn&&"TextEvent"in window&&!h,v=Zn&&(!fr||h&&8<h&&11>=h),w=" ",B=!1;function Q(n,i){switch(n){case"keyup":return Yc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var kt=!1;function Oe(n,i){switch(n){case"compositionend":return ot(i);case"keypress":return i.which!==32?null:(B=!0,w);case"textInput":return n=i.data,n===w&&B?null:n;default:return null}}function Ut(n,i){if(kt)return n==="compositionend"||!fr&&Q(n,i)?(n=xl(),zr=bi=lr=null,kt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var ze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!ze[n.type]:i==="textarea"}function Fr(n,i,o,u){Ur?Br?Br.push(u):Br=[u]:Ur=u,i=Mh(i,"onChange"),0<i.length&&(o=new Ba("onChange","change",null,o,u),n.push({event:o,listeners:i}))}var Ye=null,dr=null;function Ll(n){SE(n,0)}function $c(n){var i=sr(n);if(Rl(i))return n}function Ky(n,i){if(n==="change")return i}var Qy=!1;if(Zn){var Id;if(Zn){var Dd="oninput"in document;if(!Dd){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),Dd=typeof Yy.oninput=="function"}Id=Dd}else Id=!1;Qy=Id&&(!document.documentMode||9<document.documentMode)}function $y(){Ye&&(Ye.detachEvent("onpropertychange",Xy),dr=Ye=null)}function Xy(n){if(n.propertyName==="value"&&$c(dr)){var i=[];Fr(i,dr,n,kn(n)),Pc(Ll,i)}}function CS(n,i,o){n==="focusin"?($y(),Ye=i,dr=o,Ye.attachEvent("onpropertychange",Xy)):n==="focusout"&&$y()}function xS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return $c(dr)}function VS(n,i){if(n==="click")return $c(i)}function NS(n,i){if(n==="input"||n==="change")return $c(i)}function OS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Sn=typeof Object.is=="function"?Object.is:OS;function kl(n,i){if(Sn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!ys.call(i,f)||!Sn(n[f],i[f]))return!1}return!0}function Zy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Jy(n,i){var o=Zy(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=i&&u>=i)return{node:o,offset:i-n};n=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Zy(o)}}function Wy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Wy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function t_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ds(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=Ds(n.document)}return i}function Cd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var MS=Zn&&"documentMode"in document&&11>=document.documentMode,Qa=null,xd=null,Ul=null,Vd=!1;function e_(n,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Vd||Qa==null||Qa!==Ds(u)||(u=Qa,"selectionStart"in u&&Cd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ul&&kl(Ul,u)||(Ul=u,u=Mh(xd,"onSelect"),0<u.length&&(i=new Ba("onSelect","select",null,i,o),n.push({event:i,listeners:u}),i.target=Qa)))}function Bs(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Ya={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},Nd={},n_={};Zn&&(n_=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function zs(n){if(Nd[n])return Nd[n];if(!Ya[n])return n;var i=Ya[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in n_)return Nd[n]=i[o];return n}var r_=zs("animationend"),i_=zs("animationiteration"),s_=zs("animationstart"),PS=zs("transitionrun"),LS=zs("transitionstart"),kS=zs("transitioncancel"),a_=zs("transitionend"),o_=new Map,Od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Od.push("scrollEnd");function Jn(n,i){o_.set(n,i),Xn(i,[n])}var l_=new WeakMap;function zn(n,i){if(typeof n=="object"&&n!==null){var o=l_.get(n);return o!==void 0?o:(i={value:n,source:i,stack:La(i)},l_.set(n,i),i)}return{value:n,source:i,stack:La(i)}}var qn=[],$a=0,Md=0;function Xc(){for(var n=$a,i=Md=$a=0;i<n;){var o=qn[i];qn[i++]=null;var u=qn[i];qn[i++]=null;var f=qn[i];qn[i++]=null;var g=qn[i];if(qn[i++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&u_(o,f,g)}}function Zc(n,i,o,u){qn[$a++]=n,qn[$a++]=i,qn[$a++]=o,qn[$a++]=u,Md|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Pd(n,i,o,u){return Zc(n,i,o,u),Jc(n)}function Xa(n,i){return Zc(n,null,null,i),Jc(n)}function u_(n,i,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&i!==null&&(f=31-en(o),n=g.hiddenUpdates,u=n[f],u===null?n[f]=[i]:u.push(i),i.lane=o|536870912),g):null}function Jc(n){if(50<uu)throw uu=0,qm=null,Error(r(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Za={};function US(n,i,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(n,i,o,u){return new US(n,i,o,u)}function Ld(n){return n=n.prototype,!(!n||!n.isReactComponent)}function jr(n,i){var o=n.alternate;return o===null?(o=Rn(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function c_(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Wc(n,i,o,u,f,g){var E=0;if(u=n,typeof n=="function")Ld(n)&&(E=1);else if(typeof n=="string")E=zR(n,o,Tt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case R:return n=Rn(31,o,i,f),n.elementType=R,n.lanes=g,n;case N:return qs(o.children,f,g,i);case G:E=8,f|=24;break;case U:return n=Rn(12,o,i,f|2),n.elementType=U,n.lanes=g,n;case ft:return n=Rn(13,o,i,f),n.elementType=ft,n.lanes=g,n;case Et:return n=Rn(19,o,i,f),n.elementType=Et,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:case Z:E=10;break t;case st:E=9;break t;case mt:E=11;break t;case x:E=14;break t;case S:E=16,u=null;break t}E=29,o=Error(r(130,n===null?"null":typeof n,"")),u=null}return i=Rn(E,o,i,f),i.elementType=n,i.type=u,i.lanes=g,i}function qs(n,i,o,u){return n=Rn(7,n,u,i),n.lanes=o,n}function kd(n,i,o){return n=Rn(6,n,null,i),n.lanes=o,n}function Ud(n,i,o){return i=Rn(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Ja=[],Wa=0,th=null,eh=0,Fn=[],jn=0,Fs=null,Gr=1,Hr="";function js(n,i){Ja[Wa++]=eh,Ja[Wa++]=th,th=n,eh=i}function h_(n,i,o){Fn[jn++]=Gr,Fn[jn++]=Hr,Fn[jn++]=Fs,Fs=n;var u=Gr;n=Hr;var f=32-en(u)-1;u&=~(1<<f),o+=1;var g=32-en(i)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Gr=1<<32-en(i)+f|o<<f|u,Hr=g+n}else Gr=1<<g|o<<f|u,Hr=n}function Bd(n){n.return!==null&&(js(n,1),h_(n,1,0))}function zd(n){for(;n===th;)th=Ja[--Wa],Ja[Wa]=null,eh=Ja[--Wa],Ja[Wa]=null;for(;n===Fs;)Fs=Fn[--jn],Fn[jn]=null,Hr=Fn[--jn],Fn[jn]=null,Gr=Fn[--jn],Fn[jn]=null}var fn=null,ye=null,Gt=!1,Gs=null,mr=!1,qd=Error(r(519));function Hs(n){var i=Error(r(418,""));throw ql(zn(i,n)),qd}function f_(n){var i=n.stateNode,o=n.type,u=n.memoizedProps;switch(i[Ne]=n,i[Re]=u,o){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(o=0;o<hu.length;o++)Ot(hu[o],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),Cs(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ka(i);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),xs(i,u.value,u.defaultValue,u.children),ka(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||CE(i.textContent,o)?(u.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),u.onScroll!=null&&Ot("scroll",i),u.onScrollEnd!=null&&Ot("scrollend",i),u.onClick!=null&&(i.onclick=Ph),i=!0):i=!1,i||Hs(n)}function d_(n){for(fn=n.return;fn;)switch(fn.tag){case 5:case 13:mr=!1;return;case 27:case 3:mr=!0;return;default:fn=fn.return}}function Bl(n){if(n!==fn)return!1;if(!Gt)return d_(n),Gt=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||rg(n.type,n.memoizedProps)),o=!o),o&&ye&&Hs(n),d_(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){ye=tr(n.nextSibling);break t}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}ye=null}}else i===27?(i=ye,Ui(n.type)?(n=og,og=null,ye=n):ye=i):ye=fn?tr(n.stateNode.nextSibling):null;return!0}function zl(){ye=fn=null,Gt=!1}function m_(){var n=Gs;return n!==null&&(vn===null?vn=n:vn.push.apply(vn,n),Gs=null),n}function ql(n){Gs===null?Gs=[n]:Gs.push(n)}var Fd=et(null),Ks=null,Kr=null;function Ai(n,i,o){at(Fd,i._currentValue),i._currentValue=o}function Qr(n){n._currentValue=Fd.current,ht(Fd)}function jd(n,i,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===o)break;n=n.return}}function Gd(n,i,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;t:for(;g!==null;){var b=g;g=f;for(var I=0;I<i.length;I++)if(b.context===i[I]){g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),jd(g.return,o,n),u||(E=null);break t}g=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),jd(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Fl(n,i,o,u){n=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var b=f.type;Sn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Ue.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(yu):n=[yu])}f=f.return}n!==null&&Gd(i,n,o,u),i.flags|=262144}function nh(n){for(n=n.firstContext;n!==null;){if(!Sn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Qs(n){Ks=n,Kr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nn(n){return g_(Ks,n)}function rh(n,i){return Ks===null&&Qs(n),g_(n,i)}function g_(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Kr===null){if(n===null)throw Error(r(308));Kr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Kr=Kr.next=i;return o}var BS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},zS=s.unstable_scheduleCallback,qS=s.unstable_NormalPriority,Pe={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hd(){return{controller:new BS,data:new Map,refCount:0}}function jl(n){n.refCount--,n.refCount===0&&zS(qS,function(){n.controller.abort()})}var Gl=null,Kd=0,to=0,eo=null;function FS(n,i){if(Gl===null){var o=Gl=[];Kd=0,to=Ym(),eo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Kd++,i.then(p_,p_),i}function p_(){if(--Kd===0&&Gl!==null){eo!==null&&(eo.status="fulfilled");var n=Gl;Gl=null,to=0,eo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function jS(n,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var y_=$.S;$.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&FS(n,i),y_!==null&&y_(n,i)};var Ys=et(null);function Qd(){var n=Ys.current;return n!==null?n:re.pooledCache}function ih(n,i){i===null?at(Ys,Ys.current):at(Ys,i.pool)}function __(){var n=Qd();return n===null?null:{parent:Pe._currentValue,pool:n}}var Hl=Error(r(460)),v_=Error(r(474)),sh=Error(r(542)),Yd={then:function(){}};function E_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ah(){}function T_(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(ah,ah),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,A_(n),n;default:if(typeof i.status=="string")i.then(ah,ah);else{if(n=re,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,A_(n),n}throw Kl=i,Hl}}var Kl=null;function b_(){if(Kl===null)throw Error(r(459));var n=Kl;return Kl=null,n}function A_(n){if(n===Hl||n===sh)throw Error(r(483))}var wi=!1;function $d(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Si(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ri(n,i,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Qt&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=Jc(n),u_(n,null,o),i}return Zc(n,u,i,o),Jc(n)}function Ql(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Tl(n,o)}}function Zd(n,i){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=i:g=g.next=i}else f=g=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var Jd=!1;function Yl(){if(Jd){var n=eo;if(n!==null)throw n}}function $l(n,i,o,u){Jd=!1;var f=n.updateQueue;wi=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var I=b,F=I.next;I.next=null,E===null?g=F:E.next=F,E=I;var X=n.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==E&&(b===null?X.firstBaseUpdate=F:b.next=F,X.lastBaseUpdate=I))}if(g!==null){var W=f.baseState;E=0,X=F=I=null,b=g;do{var j=b.lane&-536870913,H=j!==b.lane;if(H?(Bt&j)===j:(u&j)===j){j!==0&&j===to&&(Jd=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var St=n,bt=b;j=i;var te=o;switch(bt.tag){case 1:if(St=bt.payload,typeof St=="function"){W=St.call(te,W,j);break t}W=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=bt.payload,j=typeof St=="function"?St.call(te,W,j):St,j==null)break t;W=_({},W,j);break t;case 2:wi=!0}}j=b.callback,j!==null&&(n.flags|=64,H&&(n.flags|=8192),H=f.callbacks,H===null?f.callbacks=[j]:H.push(j))}else H={lane:j,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(F=X=H,I=W):X=X.next=H,E|=j;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;H=b,b=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);X===null&&(I=W),f.baseState=I,f.firstBaseUpdate=F,f.lastBaseUpdate=X,g===null&&(f.shared.lanes=0),Mi|=E,n.lanes=E,n.memoizedState=W}}function w_(n,i){if(typeof n!="function")throw Error(r(191,n));n.call(i)}function S_(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)w_(o[n],i)}var no=et(null),oh=et(0);function R_(n,i){n=ti,at(oh,n),at(no,i),ti=n|i.baseLanes}function Wd(){at(oh,ti),at(no,no.current)}function tm(){ti=oh.current,ht(no),ht(oh)}var Ii=0,Ct=null,Jt=null,De=null,lh=!1,ro=!1,$s=!1,uh=0,Xl=0,io=null,GS=0;function Te(){throw Error(r(321))}function em(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!Sn(n[o],i[o]))return!1;return!0}function nm(n,i,o,u,f,g){return Ii=g,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=n===null||n.memoizedState===null?uv:cv,$s=!1,g=o(u,f),$s=!1,ro&&(g=D_(i,o,u,f)),I_(n),g}function I_(n){$.H=gh;var i=Jt!==null&&Jt.next!==null;if(Ii=0,De=Jt=Ct=null,lh=!1,Xl=0,io=null,i)throw Error(r(300));n===null||qe||(n=n.dependencies,n!==null&&nh(n)&&(qe=!0))}function D_(n,i,o,u){Ct=n;var f=0;do{if(ro&&(io=null),Xl=0,ro=!1,25<=f)throw Error(r(301));if(f+=1,De=Jt=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=ZS,g=i(o,u)}while(ro);return g}function HS(){var n=$.H,i=n.useState()[0];return i=typeof i.then=="function"?Zl(i):i,n=n.useState()[0],(Jt!==null?Jt.memoizedState:null)!==n&&(Ct.flags|=1024),i}function rm(){var n=uh!==0;return uh=0,n}function im(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function sm(n){if(lh){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}lh=!1}Ii=0,De=Jt=Ct=null,ro=!1,Xl=uh=0,io=null}function yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ct.memoizedState=De=n:De=De.next=n,De}function Ce(){if(Jt===null){var n=Ct.alternate;n=n!==null?n.memoizedState:null}else n=Jt.next;var i=De===null?Ct.memoizedState:De.next;if(i!==null)De=i,Jt=n;else{if(n===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Jt=n,n={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},De===null?Ct.memoizedState=De=n:De=De.next=n}return De}function am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(n){var i=Xl;return Xl+=1,io===null&&(io=[]),n=T_(io,n,i),i=Ct,(De===null?i.memoizedState:De.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?uv:cv),n}function ch(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Zl(n);if(n.$$typeof===Z)return nn(n)}throw Error(r(438,String(n)))}function om(n){var i=null,o=Ct.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=am(),Ct.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),u=0;u<n;u++)o[u]=M;return i.index++,o}function Yr(n,i){return typeof i=="function"?i(n):i}function hh(n){var i=Ce();return lm(i,Jt,n)}function lm(n,i,o){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=n.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}i.baseQueue=f=g,u.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{i=f.next;var b=E=null,I=null,F=i,X=!1;do{var W=F.lane&-536870913;if(W!==F.lane?(Bt&W)===W:(Ii&W)===W){var j=F.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),W===to&&(X=!0);else if((Ii&j)===j){F=F.next,j===to&&(X=!0);continue}else W={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(b=I=W,E=g):I=I.next=W,Ct.lanes|=j,Mi|=j;W=F.action,$s&&o(g,W),g=F.hasEagerState?F.eagerState:o(g,W)}else j={lane:W,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(b=I=j,E=g):I=I.next=j,Ct.lanes|=W,Mi|=W;F=F.next}while(F!==null&&F!==i);if(I===null?E=g:I.next=b,!Sn(g,n.memoizedState)&&(qe=!0,X&&(o=eo,o!==null)))throw o;n.memoizedState=g,n.baseState=E,n.baseQueue=I,u.lastRenderedState=g}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function um(n){var i=Ce(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,g=i.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=n(g,E.action),E=E.next;while(E!==f);Sn(g,i.memoizedState)||(qe=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,u]}function C_(n,i,o){var u=Ct,f=Ce(),g=Gt;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=i();var E=!Sn((Jt||f).memoizedState,o);E&&(f.memoizedState=o,qe=!0),f=f.queue;var b=N_.bind(null,u,f,n);if(Jl(2048,8,b,[n]),f.getSnapshot!==i||E||De!==null&&De.memoizedState.tag&1){if(u.flags|=2048,so(9,fh(),V_.bind(null,u,f,o,i),null),re===null)throw Error(r(349));g||(Ii&124)!==0||x_(u,i,o)}return o}function x_(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Ct.updateQueue,i===null?(i=am(),Ct.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function V_(n,i,o,u){i.value=o,i.getSnapshot=u,O_(i)&&M_(n)}function N_(n,i,o){return o(function(){O_(i)&&M_(n)})}function O_(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!Sn(n,o)}catch{return!0}}function M_(n){var i=Xa(n,2);i!==null&&Vn(i,n,2)}function cm(n){var i=yn();if(typeof n=="function"){var o=n;if(n=o(),$s){An(!0);try{o()}finally{An(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:n},i}function P_(n,i,o,u){return n.baseState=o,lm(n,Jt,typeof u=="function"?u:Yr)}function KS(n,i,o,u,f){if(mh(n))throw Error(r(485));if(n=i.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};$.T!==null?o(!0):g.isTransition=!1,u(g),o=i.pending,o===null?(g.next=i.pending=g,L_(i,g)):(g.next=o.next,i.pending=o.next=g)}}function L_(n,i){var o=i.action,u=i.payload,f=n.state;if(i.isTransition){var g=$.T,E={};$.T=E;try{var b=o(f,u),I=$.S;I!==null&&I(E,b),k_(n,i,b)}catch(F){hm(n,i,F)}finally{$.T=g}}else try{g=o(f,u),k_(n,i,g)}catch(F){hm(n,i,F)}}function k_(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){U_(n,i,u)},function(u){return hm(n,i,u)}):U_(n,i,o)}function U_(n,i,o){i.status="fulfilled",i.value=o,B_(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,L_(n,o)))}function hm(n,i,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,B_(i),i=i.next;while(i!==u)}n.action=null}function B_(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function z_(n,i){return i}function q_(n,i){if(Gt){var o=re.formState;if(o!==null){t:{var u=Ct;if(Gt){if(ye){e:{for(var f=ye,g=mr;f.nodeType!==8;){if(!g){f=null;break e}if(f=tr(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){ye=tr(f.nextSibling),u=f.data==="F!";break t}}Hs(u)}u=!1}u&&(i=o[0])}}return o=yn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z_,lastRenderedState:i},o.queue=u,o=av.bind(null,Ct,u),u.dispatch=o,u=cm(!1),g=pm.bind(null,Ct,!1,u.queue),u=yn(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,o=KS.bind(null,Ct,f,g,o),f.dispatch=o,u.memoizedState=n,[i,o,!1]}function F_(n){var i=Ce();return j_(i,Jt,n)}function j_(n,i,o){if(i=lm(n,i,z_)[0],n=hh(Yr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Zl(i)}catch(E){throw E===Hl?sh:E}else u=i;i=Ce();var f=i.queue,g=f.dispatch;return o!==i.memoizedState&&(Ct.flags|=2048,so(9,fh(),QS.bind(null,f,o),null)),[u,g,n]}function QS(n,i){n.action=i}function G_(n){var i=Ce(),o=Jt;if(o!==null)return j_(i,o,n);Ce(),i=i.memoizedState,o=Ce();var u=o.queue.dispatch;return o.memoizedState=n,[i,u,!1]}function so(n,i,o,u){return n={tag:n,create:o,deps:u,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=am(),Ct.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,i.lastEffect=n),n}function fh(){return{destroy:void 0,resource:void 0}}function H_(){return Ce().memoizedState}function dh(n,i,o,u){var f=yn();u=u===void 0?null:u,Ct.flags|=n,f.memoizedState=so(1|i,fh(),o,u)}function Jl(n,i,o,u){var f=Ce();u=u===void 0?null:u;var g=f.memoizedState.inst;Jt!==null&&u!==null&&em(u,Jt.memoizedState.deps)?f.memoizedState=so(i,g,o,u):(Ct.flags|=n,f.memoizedState=so(1|i,g,o,u))}function K_(n,i){dh(8390656,8,n,i)}function Q_(n,i){Jl(2048,8,n,i)}function Y_(n,i){return Jl(4,2,n,i)}function $_(n,i){return Jl(4,4,n,i)}function X_(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Z_(n,i,o){o=o!=null?o.concat([n]):null,Jl(4,4,X_.bind(null,i,n),o)}function fm(){}function J_(n,i){var o=Ce();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&em(i,u[1])?u[0]:(o.memoizedState=[n,i],n)}function W_(n,i){var o=Ce();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&em(i,u[1]))return u[0];if(u=n(),$s){An(!0);try{n()}finally{An(!1)}}return o.memoizedState=[u,i],u}function dm(n,i,o){return o===void 0||(Ii&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=nE(),Ct.lanes|=n,Mi|=n,o)}function tv(n,i,o,u){return Sn(o,i)?o:no.current!==null?(n=dm(n,o,u),Sn(n,i)||(qe=!0),n):(Ii&42)===0?(qe=!0,n.memoizedState=o):(n=nE(),Ct.lanes|=n,Mi|=n,i)}function ev(n,i,o,u,f){var g=ut.p;ut.p=g!==0&&8>g?g:8;var E=$.T,b={};$.T=b,pm(n,!1,i,o);try{var I=f(),F=$.S;if(F!==null&&F(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=jS(I,u);Wl(n,i,X,xn(n))}else Wl(n,i,u,xn(n))}catch(W){Wl(n,i,{then:function(){},status:"rejected",reason:W},xn())}finally{ut.p=g,$.T=E}}function YS(){}function mm(n,i,o,u){if(n.tag!==5)throw Error(r(476));var f=nv(n).queue;ev(n,f,i,vt,o===null?YS:function(){return rv(n),o(u)})}function nv(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:vt,baseState:vt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:vt},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function rv(n){var i=nv(n).next.queue;Wl(n,i,{},xn())}function gm(){return nn(yu)}function iv(){return Ce().memoizedState}function sv(){return Ce().memoizedState}function $S(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=xn();n=Si(o);var u=Ri(i,n,o);u!==null&&(Vn(u,i,o),Ql(u,i,o)),i={cache:Hd()},n.payload=i;return}i=i.return}}function XS(n,i,o){var u=xn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},mh(n)?ov(i,o):(o=Pd(n,i,o,u),o!==null&&(Vn(o,n,u),lv(o,i,u)))}function av(n,i,o){var u=xn();Wl(n,i,o,u)}function Wl(n,i,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(mh(n))ov(i,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,b=g(E,o);if(f.hasEagerState=!0,f.eagerState=b,Sn(b,E))return Zc(n,i,f,0),re===null&&Xc(),!1}catch{}finally{}if(o=Pd(n,i,f,u),o!==null)return Vn(o,n,u),lv(o,i,u),!0}return!1}function pm(n,i,o,u){if(u={lane:2,revertLane:Ym(),action:u,hasEagerState:!1,eagerState:null,next:null},mh(n)){if(i)throw Error(r(479))}else i=Pd(n,o,u,2),i!==null&&Vn(i,n,2)}function mh(n){var i=n.alternate;return n===Ct||i!==null&&i===Ct}function ov(n,i){ro=lh=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function lv(n,i,o){if((o&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Tl(n,o)}}var gh={readContext:nn,use:ch,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te},uv={readContext:nn,use:ch,useCallback:function(n,i){return yn().memoizedState=[n,i===void 0?null:i],n},useContext:nn,useEffect:K_,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,dh(4194308,4,X_.bind(null,i,n),o)},useLayoutEffect:function(n,i){return dh(4194308,4,n,i)},useInsertionEffect:function(n,i){dh(4,2,n,i)},useMemo:function(n,i){var o=yn();i=i===void 0?null:i;var u=n();if($s){An(!0);try{n()}finally{An(!1)}}return o.memoizedState=[u,i],u},useReducer:function(n,i,o){var u=yn();if(o!==void 0){var f=o(i);if($s){An(!0);try{o(i)}finally{An(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=XS.bind(null,Ct,n),[u.memoizedState,n]},useRef:function(n){var i=yn();return n={current:n},i.memoizedState=n},useState:function(n){n=cm(n);var i=n.queue,o=av.bind(null,Ct,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:fm,useDeferredValue:function(n,i){var o=yn();return dm(o,n,i)},useTransition:function(){var n=cm(!1);return n=ev.bind(null,Ct,n.queue,!0,!1),yn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var u=Ct,f=yn();if(Gt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),re===null)throw Error(r(349));(Bt&124)!==0||x_(u,i,o)}f.memoizedState=o;var g={value:o,getSnapshot:i};return f.queue=g,K_(N_.bind(null,u,g,n),[n]),u.flags|=2048,so(9,fh(),V_.bind(null,u,g,o,i),null),o},useId:function(){var n=yn(),i=re.identifierPrefix;if(Gt){var o=Hr,u=Gr;o=(u&~(1<<32-en(u)-1)).toString(32)+o,i=""+i+"R"+o,o=uh++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=GS++,i=""+i+"r"+o.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:gm,useFormState:q_,useActionState:q_,useOptimistic:function(n){var i=yn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=pm.bind(null,Ct,!0,o),o.dispatch=i,[n,i]},useMemoCache:om,useCacheRefresh:function(){return yn().memoizedState=$S.bind(null,Ct)}},cv={readContext:nn,use:ch,useCallback:J_,useContext:nn,useEffect:Q_,useImperativeHandle:Z_,useInsertionEffect:Y_,useLayoutEffect:$_,useMemo:W_,useReducer:hh,useRef:H_,useState:function(){return hh(Yr)},useDebugValue:fm,useDeferredValue:function(n,i){var o=Ce();return tv(o,Jt.memoizedState,n,i)},useTransition:function(){var n=hh(Yr)[0],i=Ce().memoizedState;return[typeof n=="boolean"?n:Zl(n),i]},useSyncExternalStore:C_,useId:iv,useHostTransitionStatus:gm,useFormState:F_,useActionState:F_,useOptimistic:function(n,i){var o=Ce();return P_(o,Jt,n,i)},useMemoCache:om,useCacheRefresh:sv},ZS={readContext:nn,use:ch,useCallback:J_,useContext:nn,useEffect:Q_,useImperativeHandle:Z_,useInsertionEffect:Y_,useLayoutEffect:$_,useMemo:W_,useReducer:um,useRef:H_,useState:function(){return um(Yr)},useDebugValue:fm,useDeferredValue:function(n,i){var o=Ce();return Jt===null?dm(o,n,i):tv(o,Jt.memoizedState,n,i)},useTransition:function(){var n=um(Yr)[0],i=Ce().memoizedState;return[typeof n=="boolean"?n:Zl(n),i]},useSyncExternalStore:C_,useId:iv,useHostTransitionStatus:gm,useFormState:G_,useActionState:G_,useOptimistic:function(n,i){var o=Ce();return Jt!==null?P_(o,Jt,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:om,useCacheRefresh:sv},ao=null,tu=0;function ph(n){var i=tu;return tu+=1,ao===null&&(ao=[]),T_(ao,n,i)}function eu(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function yh(n,i){throw i.$$typeof===T?Error(r(525)):(n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function hv(n){var i=n._init;return i(n._payload)}function fv(n){function i(L,O){if(n){var q=L.deletions;q===null?(L.deletions=[O],L.flags|=16):q.push(O)}}function o(L,O){if(!n)return null;for(;O!==null;)i(L,O),O=O.sibling;return null}function u(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=jr(L,O),L.index=0,L.sibling=null,L}function g(L,O,q){return L.index=q,n?(q=L.alternate,q!==null?(q=q.index,q<O?(L.flags|=67108866,O):q):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function E(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function b(L,O,q,J){return O===null||O.tag!==6?(O=kd(q,L.mode,J),O.return=L,O):(O=f(O,q),O.return=L,O)}function I(L,O,q,J){var gt=q.type;return gt===N?X(L,O,q.props.children,J,q.key):O!==null&&(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===S&&hv(gt)===O.type)?(O=f(O,q.props),eu(O,q),O.return=L,O):(O=Wc(q.type,q.key,q.props,null,L.mode,J),eu(O,q),O.return=L,O)}function F(L,O,q,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=Ud(q,L.mode,J),O.return=L,O):(O=f(O,q.children||[]),O.return=L,O)}function X(L,O,q,J,gt){return O===null||O.tag!==7?(O=qs(q,L.mode,J,gt),O.return=L,O):(O=f(O,q),O.return=L,O)}function W(L,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=kd(""+O,L.mode,q),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return q=Wc(O.type,O.key,O.props,null,L.mode,q),eu(q,O),q.return=L,q;case D:return O=Ud(O,L.mode,q),O.return=L,O;case S:var J=O._init;return O=J(O._payload),W(L,O,q)}if(ge(O)||k(O))return O=qs(O,L.mode,q,null),O.return=L,O;if(typeof O.then=="function")return W(L,ph(O),q);if(O.$$typeof===Z)return W(L,rh(L,O),q);yh(L,O)}return null}function j(L,O,q,J){var gt=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return gt!==null?null:b(L,O,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===gt?I(L,O,q,J):null;case D:return q.key===gt?F(L,O,q,J):null;case S:return gt=q._init,q=gt(q._payload),j(L,O,q,J)}if(ge(q)||k(q))return gt!==null?null:X(L,O,q,J,null);if(typeof q.then=="function")return j(L,O,ph(q),J);if(q.$$typeof===Z)return j(L,O,rh(L,q),J);yh(L,q)}return null}function H(L,O,q,J,gt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(q)||null,b(O,L,""+J,gt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return L=L.get(J.key===null?q:J.key)||null,I(O,L,J,gt);case D:return L=L.get(J.key===null?q:J.key)||null,F(O,L,J,gt);case S:var Vt=J._init;return J=Vt(J._payload),H(L,O,q,J,gt)}if(ge(J)||k(J))return L=L.get(q)||null,X(O,L,J,gt,null);if(typeof J.then=="function")return H(L,O,q,ph(J),gt);if(J.$$typeof===Z)return H(L,O,q,rh(O,J),gt);yh(O,J)}return null}function St(L,O,q,J){for(var gt=null,Vt=null,_t=O,At=O=0,je=null;_t!==null&&At<q.length;At++){_t.index>At?(je=_t,_t=null):je=_t.sibling;var qt=j(L,_t,q[At],J);if(qt===null){_t===null&&(_t=je);break}n&&_t&&qt.alternate===null&&i(L,_t),O=g(qt,O,At),Vt===null?gt=qt:Vt.sibling=qt,Vt=qt,_t=je}if(At===q.length)return o(L,_t),Gt&&js(L,At),gt;if(_t===null){for(;At<q.length;At++)_t=W(L,q[At],J),_t!==null&&(O=g(_t,O,At),Vt===null?gt=_t:Vt.sibling=_t,Vt=_t);return Gt&&js(L,At),gt}for(_t=u(_t);At<q.length;At++)je=H(_t,L,At,q[At],J),je!==null&&(n&&je.alternate!==null&&_t.delete(je.key===null?At:je.key),O=g(je,O,At),Vt===null?gt=je:Vt.sibling=je,Vt=je);return n&&_t.forEach(function(ji){return i(L,ji)}),Gt&&js(L,At),gt}function bt(L,O,q,J){if(q==null)throw Error(r(151));for(var gt=null,Vt=null,_t=O,At=O=0,je=null,qt=q.next();_t!==null&&!qt.done;At++,qt=q.next()){_t.index>At?(je=_t,_t=null):je=_t.sibling;var ji=j(L,_t,qt.value,J);if(ji===null){_t===null&&(_t=je);break}n&&_t&&ji.alternate===null&&i(L,_t),O=g(ji,O,At),Vt===null?gt=ji:Vt.sibling=ji,Vt=ji,_t=je}if(qt.done)return o(L,_t),Gt&&js(L,At),gt;if(_t===null){for(;!qt.done;At++,qt=q.next())qt=W(L,qt.value,J),qt!==null&&(O=g(qt,O,At),Vt===null?gt=qt:Vt.sibling=qt,Vt=qt);return Gt&&js(L,At),gt}for(_t=u(_t);!qt.done;At++,qt=q.next())qt=H(_t,L,At,qt.value,J),qt!==null&&(n&&qt.alternate!==null&&_t.delete(qt.key===null?At:qt.key),O=g(qt,O,At),Vt===null?gt=qt:Vt.sibling=qt,Vt=qt);return n&&_t.forEach(function(JR){return i(L,JR)}),Gt&&js(L,At),gt}function te(L,O,q,J){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:t:{for(var gt=q.key;O!==null;){if(O.key===gt){if(gt=q.type,gt===N){if(O.tag===7){o(L,O.sibling),J=f(O,q.props.children),J.return=L,L=J;break t}}else if(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===S&&hv(gt)===O.type){o(L,O.sibling),J=f(O,q.props),eu(J,q),J.return=L,L=J;break t}o(L,O);break}else i(L,O);O=O.sibling}q.type===N?(J=qs(q.props.children,L.mode,J,q.key),J.return=L,L=J):(J=Wc(q.type,q.key,q.props,null,L.mode,J),eu(J,q),J.return=L,L=J)}return E(L);case D:t:{for(gt=q.key;O!==null;){if(O.key===gt)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){o(L,O.sibling),J=f(O,q.children||[]),J.return=L,L=J;break t}else{o(L,O);break}else i(L,O);O=O.sibling}J=Ud(q,L.mode,J),J.return=L,L=J}return E(L);case S:return gt=q._init,q=gt(q._payload),te(L,O,q,J)}if(ge(q))return St(L,O,q,J);if(k(q)){if(gt=k(q),typeof gt!="function")throw Error(r(150));return q=gt.call(q),bt(L,O,q,J)}if(typeof q.then=="function")return te(L,O,ph(q),J);if(q.$$typeof===Z)return te(L,O,rh(L,q),J);yh(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,O!==null&&O.tag===6?(o(L,O.sibling),J=f(O,q),J.return=L,L=J):(o(L,O),J=kd(q,L.mode,J),J.return=L,L=J),E(L)):o(L,O)}return function(L,O,q,J){try{tu=0;var gt=te(L,O,q,J);return ao=null,gt}catch(_t){if(_t===Hl||_t===sh)throw _t;var Vt=Rn(29,_t,null,L.mode);return Vt.lanes=J,Vt.return=L,Vt}finally{}}}var oo=fv(!0),dv=fv(!1),Gn=et(null),gr=null;function Di(n){var i=n.alternate;at(Le,Le.current&1),at(Gn,n),gr===null&&(i===null||no.current!==null||i.memoizedState!==null)&&(gr=n)}function mv(n){if(n.tag===22){if(at(Le,Le.current),at(Gn,n),gr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(gr=n)}}else Ci()}function Ci(){at(Le,Le.current),at(Gn,Gn.current)}function $r(n){ht(Gn),gr===n&&(gr=null),ht(Le)}var Le=et(0);function _h(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||ag(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ym(n,i,o,u){i=n.memoizedState,o=o(u,i),o=o==null?i:_({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var _m={enqueueSetState:function(n,i,o){n=n._reactInternals;var u=xn(),f=Si(u);f.payload=i,o!=null&&(f.callback=o),i=Ri(n,f,u),i!==null&&(Vn(i,n,u),Ql(i,n,u))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var u=xn(),f=Si(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=Ri(n,f,u),i!==null&&(Vn(i,n,u),Ql(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=xn(),u=Si(o);u.tag=2,i!=null&&(u.callback=i),i=Ri(n,u,o),i!==null&&(Vn(i,n,o),Ql(i,n,o))}};function gv(n,i,o,u,f,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,E):i.prototype&&i.prototype.isPureReactComponent?!kl(o,u)||!kl(f,g):!0}function pv(n,i,o,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==n&&_m.enqueueReplaceState(i,i.state,null)}function Xs(n,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(n=n.defaultProps){o===i&&(o=_({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var vh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function yv(n){vh(n)}function _v(n){console.error(n)}function vv(n){vh(n)}function Eh(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Ev(n,i,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function vm(n,i,o){return o=Si(o),o.tag=3,o.payload={element:null},o.callback=function(){Eh(n,i)},o}function Tv(n){return n=Si(n),n.tag=3,n}function bv(n,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;n.payload=function(){return f(g)},n.callback=function(){Ev(i,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Ev(i,o,u),typeof f!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function JS(n,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Fl(i,o,f,!0),o=Gn.current,o!==null){switch(o.tag){case 13:return gr===null?jm():o.alternate===null&&_e===0&&(_e=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Yd?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),Hm(n,u,f)),!1;case 22:return o.flags|=65536,u===Yd?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),Hm(n,u,f)),!1}throw Error(r(435,o.tag))}return Hm(n,u,f),jm(),!1}if(Gt)return i=Gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==qd&&(n=Error(r(422),{cause:u}),ql(zn(n,o)))):(u!==qd&&(i=Error(r(423),{cause:u}),ql(zn(i,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=zn(u,o),f=vm(n.stateNode,u,f),Zd(n,f),_e!==4&&(_e=2)),!1;var g=Error(r(520),{cause:u});if(g=zn(g,o),lu===null?lu=[g]:lu.push(g),_e!==4&&(_e=2),i===null)return!0;u=zn(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=vm(o.stateNode,u,n),Zd(o,n),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Pi===null||!Pi.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Tv(f),bv(f,n,o,u),Zd(o,f),!1}o=o.return}while(o!==null);return!1}var Av=Error(r(461)),qe=!1;function $e(n,i,o,u){i.child=n===null?dv(i,null,o,u):oo(i,n.child,o,u)}function wv(n,i,o,u,f){o=o.render;var g=i.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return Qs(i),u=nm(n,i,o,E,g,f),b=rm(),n!==null&&!qe?(im(n,i,f),Xr(n,i,f)):(Gt&&b&&Bd(i),i.flags|=1,$e(n,i,u,f),i.child)}function Sv(n,i,o,u,f){if(n===null){var g=o.type;return typeof g=="function"&&!Ld(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,Rv(n,i,g,u,f)):(n=Wc(o.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,!Im(n,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:kl,o(E,u)&&n.ref===i.ref)return Xr(n,i,f)}return i.flags|=1,n=jr(g,u),n.ref=i.ref,n.return=i,i.child=n}function Rv(n,i,o,u,f){if(n!==null){var g=n.memoizedProps;if(kl(g,u)&&n.ref===i.ref)if(qe=!1,i.pendingProps=u=g,Im(n,f))(n.flags&131072)!==0&&(qe=!0);else return i.lanes=n.lanes,Xr(n,i,f)}return Em(n,i,o,u,f)}function Iv(n,i,o){var u=i.pendingProps,f=u.children,g=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,n!==null){for(f=i.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~u}else i.childLanes=0,i.child=null;return Dv(n,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&ih(i,g!==null?g.cachePool:null),g!==null?R_(i,g):Wd(),mv(i);else return i.lanes=i.childLanes=536870912,Dv(n,i,g!==null?g.baseLanes|o:o,o)}else g!==null?(ih(i,g.cachePool),R_(i,g),Ci(),i.memoizedState=null):(n!==null&&ih(i,null),Wd(),Ci());return $e(n,i,f,o),i.child}function Dv(n,i,o,u){var f=Qd();return f=f===null?null:{parent:Pe._currentValue,pool:f},i.memoizedState={baseLanes:o,cachePool:f},n!==null&&ih(i,null),Wd(),mv(i),n!==null&&Fl(n,i,u,!0),null}function Th(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function Em(n,i,o,u,f){return Qs(i),o=nm(n,i,o,u,void 0,f),u=rm(),n!==null&&!qe?(im(n,i,f),Xr(n,i,f)):(Gt&&u&&Bd(i),i.flags|=1,$e(n,i,o,f),i.child)}function Cv(n,i,o,u,f,g){return Qs(i),i.updateQueue=null,o=D_(i,u,o,f),I_(n),u=rm(),n!==null&&!qe?(im(n,i,g),Xr(n,i,g)):(Gt&&u&&Bd(i),i.flags|=1,$e(n,i,o,g),i.child)}function xv(n,i,o,u,f){if(Qs(i),i.stateNode===null){var g=Za,E=o.contextType;typeof E=="object"&&E!==null&&(g=nn(E)),g=new o(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=_m,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},$d(i),E=o.contextType,g.context=typeof E=="object"&&E!==null?nn(E):Za,g.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(ym(i,o,E,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&_m.enqueueReplaceState(g,g.state,null),$l(i,u,g,f),Yl(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){g=i.stateNode;var b=i.memoizedProps,I=Xs(o,b);g.props=I;var F=g.context,X=o.contextType;E=Za,typeof X=="object"&&X!==null&&(E=nn(X));var W=o.getDerivedStateFromProps;X=typeof W=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,X||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||F!==E)&&pv(i,g,u,E),wi=!1;var j=i.memoizedState;g.state=j,$l(i,u,g,f),Yl(),F=i.memoizedState,b||j!==F||wi?(typeof W=="function"&&(ym(i,o,W,u),F=i.memoizedState),(I=wi||gv(i,o,I,u,j,F,E))?(X||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=F),g.props=u,g.state=F,g.context=E,u=I):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,Xd(n,i),E=i.memoizedProps,X=Xs(o,E),g.props=X,W=i.pendingProps,j=g.context,F=o.contextType,I=Za,typeof F=="object"&&F!==null&&(I=nn(F)),b=o.getDerivedStateFromProps,(F=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==W||j!==I)&&pv(i,g,u,I),wi=!1,j=i.memoizedState,g.state=j,$l(i,u,g,f),Yl();var H=i.memoizedState;E!==W||j!==H||wi||n!==null&&n.dependencies!==null&&nh(n.dependencies)?(typeof b=="function"&&(ym(i,o,b,u),H=i.memoizedState),(X=wi||gv(i,o,X,u,j,H,I)||n!==null&&n.dependencies!==null&&nh(n.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,H,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,H,I)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&j===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&j===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=H),g.props=u,g.state=H,g.context=I,u=X):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&j===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&j===n.memoizedState||(i.flags|=1024),u=!1)}return g=u,Th(n,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,n!==null&&u?(i.child=oo(i,n.child,null,f),i.child=oo(i,null,o,f)):$e(n,i,o,f),i.memoizedState=g.state,n=i.child):n=Xr(n,i,f),n}function Vv(n,i,o,u){return zl(),i.flags|=256,$e(n,i,o,u),i.child}var Tm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bm(n){return{baseLanes:n,cachePool:__()}}function Am(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Hn),n}function Nv(n,i,o){var u=i.pendingProps,f=!1,g=(i.flags&128)!==0,E;if((E=g)||(E=n!==null&&n.memoizedState===null?!1:(Le.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Gt){if(f?Di(i):Ci(),Gt){var b=ye,I;if(I=b){t:{for(I=b,b=mr;I.nodeType!==8;){if(!b){b=null;break t}if(I=tr(I.nextSibling),I===null){b=null;break t}}b=I}b!==null?(i.memoizedState={dehydrated:b,treeContext:Fs!==null?{id:Gr,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},I=Rn(18,null,null,0),I.stateNode=b,I.return=i,i.child=I,fn=i,ye=null,I=!0):I=!1}I||Hs(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return ag(b)?i.lanes=32:i.lanes=536870912,null;$r(i)}return b=u.children,u=u.fallback,f?(Ci(),f=i.mode,b=bh({mode:"hidden",children:b},f),u=qs(u,f,o,null),b.return=i,u.return=i,b.sibling=u,i.child=b,f=i.child,f.memoizedState=bm(o),f.childLanes=Am(n,E,o),i.memoizedState=Tm,u):(Di(i),wm(i,b))}if(I=n.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(g)i.flags&256?(Di(i),i.flags&=-257,i=Sm(n,i,o)):i.memoizedState!==null?(Ci(),i.child=n.child,i.flags|=128,i=null):(Ci(),f=u.fallback,b=i.mode,u=bh({mode:"visible",children:u.children},b),f=qs(f,b,o,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,oo(i,n.child,null,o),u=i.child,u.memoizedState=bm(o),u.childLanes=Am(n,E,o),i.memoizedState=Tm,i=f);else if(Di(i),ag(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var F=E.dgst;E=F,u=Error(r(419)),u.stack="",u.digest=E,ql({value:u,source:null,stack:null}),i=Sm(n,i,o)}else if(qe||Fl(n,i,o,!1),E=(o&n.childLanes)!==0,qe||E){if(E=re,E!==null&&(u=o&-o,u=(u&42)!==0?1:pi(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==I.retryLane))throw I.retryLane=u,Xa(n,u),Vn(E,n,u),Av;b.data==="$?"||jm(),i=Sm(n,i,o)}else b.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=I.treeContext,ye=tr(b.nextSibling),fn=i,Gt=!0,Gs=null,mr=!1,n!==null&&(Fn[jn++]=Gr,Fn[jn++]=Hr,Fn[jn++]=Fs,Gr=n.id,Hr=n.overflow,Fs=i),i=wm(i,u.children),i.flags|=4096);return i}return f?(Ci(),f=u.fallback,b=i.mode,I=n.child,F=I.sibling,u=jr(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,F!==null?f=jr(F,f):(f=qs(f,b,o,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,b=n.child.memoizedState,b===null?b=bm(o):(I=b.cachePool,I!==null?(F=Pe._currentValue,I=I.parent!==F?{parent:F,pool:F}:I):I=__(),b={baseLanes:b.baseLanes|o,cachePool:I}),f.memoizedState=b,f.childLanes=Am(n,E,o),i.memoizedState=Tm,u):(Di(i),o=n.child,n=o.sibling,o=jr(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=o,i.memoizedState=null,o)}function wm(n,i){return i=bh({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function bh(n,i){return n=Rn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Sm(n,i,o){return oo(i,n.child,null,o),n=wm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Ov(n,i,o){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),jd(n.return,i,o)}function Rm(n,i,o,u,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function Mv(n,i,o){var u=i.pendingProps,f=u.revealOrder,g=u.tail;if($e(n,i,u.children,o),u=Le.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ov(n,o,i);else if(n.tag===19)Ov(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(at(Le,u),f){case"forwards":for(o=i.child,f=null;o!==null;)n=o.alternate,n!==null&&_h(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),Rm(i,!1,f,o,g);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&_h(n)===null){i.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Rm(i,!0,o,null,g);break;case"together":Rm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Xr(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),Mi|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(Fl(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,o=jr(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=jr(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function Im(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&nh(n)))}function WS(n,i,o){switch(i.tag){case 3:ne(i,i.stateNode.containerInfo),Ai(i,Pe,n.memoizedState.cache),zl();break;case 27:case 5:gi(i);break;case 4:ne(i,i.stateNode.containerInfo);break;case 10:Ai(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Di(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Nv(n,i,o):(Di(i),n=Xr(n,i,o),n!==null?n.sibling:null);Di(i);break;case 19:var f=(n.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Fl(n,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return Mv(n,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(Le,Le.current),u)break;return null;case 22:case 23:return i.lanes=0,Iv(n,i,o);case 24:Ai(i,Pe,n.memoizedState.cache)}return Xr(n,i,o)}function Pv(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)qe=!0;else{if(!Im(n,o)&&(i.flags&128)===0)return qe=!1,WS(n,i,o);qe=(n.flags&131072)!==0}else qe=!1,Gt&&(i.flags&1048576)!==0&&h_(i,eh,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")Ld(u)?(n=Xs(u,n),i.tag=1,i=xv(null,i,u,n,o)):(i.tag=0,i=Em(null,i,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===mt){i.tag=11,i=wv(null,i,u,n,o);break t}else if(f===x){i.tag=14,i=Sv(null,i,u,n,o);break t}}throw i=Ke(u)||u,Error(r(306,i,""))}}return i;case 0:return Em(n,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=Xs(u,i.pendingProps),xv(n,i,u,f,o);case 3:t:{if(ne(i,i.stateNode.containerInfo),n===null)throw Error(r(387));u=i.pendingProps;var g=i.memoizedState;f=g.element,Xd(n,i),$l(i,u,null,o);var E=i.memoizedState;if(u=E.cache,Ai(i,Pe,u),u!==g.cache&&Gd(i,[Pe],o,!0),Yl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=Vv(n,i,u,o);break t}else if(u!==f){f=zn(Error(r(424)),i),ql(f),i=Vv(n,i,u,o);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ye=tr(n.firstChild),fn=i,Gt=!0,Gs=null,mr=!0,o=dv(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(zl(),u===f){i=Xr(n,i,o);break t}$e(n,i,u,o)}i=i.child}return i;case 26:return Th(n,i),n===null?(o=BE(i.type,null,i.pendingProps,null))?i.memoizedState=o:Gt||(o=i.type,n=i.pendingProps,u=Lh(Rt.current).createElement(o),u[Ne]=i,u[Re]=n,Ze(u,o,n),Ee(u),i.stateNode=u):i.memoizedState=BE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return gi(i),n===null&&Gt&&(u=i.stateNode=LE(i.type,i.pendingProps,Rt.current),fn=i,mr=!0,f=ye,Ui(i.type)?(og=f,ye=tr(u.firstChild)):ye=f),$e(n,i,i.pendingProps.children,o),Th(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Gt&&((f=u=ye)&&(u=IR(u,i.type,i.pendingProps,mr),u!==null?(i.stateNode=u,fn=i,ye=tr(u.firstChild),mr=!1,f=!0):f=!1),f||Hs(i)),gi(i),f=i.type,g=i.pendingProps,E=n!==null?n.memoizedProps:null,u=g.children,rg(f,g)?u=null:E!==null&&rg(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=nm(n,i,HS,null,null,o),yu._currentValue=f),Th(n,i),$e(n,i,u,o),i.child;case 6:return n===null&&Gt&&((n=o=ye)&&(o=DR(o,i.pendingProps,mr),o!==null?(i.stateNode=o,fn=i,ye=null,n=!0):n=!1),n||Hs(i)),null;case 13:return Nv(n,i,o);case 4:return ne(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=oo(i,null,u,o):$e(n,i,u,o),i.child;case 11:return wv(n,i,i.type,i.pendingProps,o);case 7:return $e(n,i,i.pendingProps,o),i.child;case 8:return $e(n,i,i.pendingProps.children,o),i.child;case 12:return $e(n,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Ai(i,i.type,u.value),$e(n,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Qs(i),f=nn(f),u=u(f),i.flags|=1,$e(n,i,u,o),i.child;case 14:return Sv(n,i,i.type,i.pendingProps,o);case 15:return Rv(n,i,i.type,i.pendingProps,o);case 19:return Mv(n,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},n===null?(o=bh(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=jr(n.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return Iv(n,i,o);case 24:return Qs(i),u=nn(Pe),n===null?(f=Qd(),f===null&&(f=re,g=Hd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),i.memoizedState={parent:u,cache:f},$d(i),Ai(i,Pe,f)):((n.lanes&o)!==0&&(Xd(n,i),$l(i,null,null,o),Yl()),f=n.memoizedState,g=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ai(i,Pe,u)):(u=g.cache,Ai(i,Pe,u),u!==f.cache&&Gd(i,[Pe],o,!0))),$e(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Zr(n){n.flags|=4}function Lv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!GE(i)){if(i=Gn.current,i!==null&&((Bt&4194048)===Bt?gr!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||i!==gr))throw Kl=Yd,v_;n.flags|=8192}}function Ah(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?vl():536870912,n.lanes|=i,ho|=i)}function nu(n,i){if(!Gt)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function fe(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(i)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,i}function tR(n,i,o){var u=i.pendingProps;switch(zd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(i),null;case 1:return fe(i),null;case 3:return o=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Qr(Pe),nr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Bl(i)?Zr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,m_())),fe(i),null;case 26:return o=i.memoizedState,n===null?(Zr(i),o!==null?(fe(i),Lv(i,o)):(fe(i),i.flags&=-16777217)):o?o!==n.memoizedState?(Zr(i),fe(i),Lv(i,o)):(fe(i),i.flags&=-16777217):(n.memoizedProps!==u&&Zr(i),fe(i),i.flags&=-16777217),null;case 27:xr(i),o=Rt.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Zr(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return fe(i),null}n=Tt.current,Bl(i)?f_(i):(n=LE(f,u,o),i.stateNode=n,Zr(i))}return fe(i),null;case 5:if(xr(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Zr(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return fe(i),null}if(n=Tt.current,Bl(i))f_(i);else{switch(f=Lh(Rt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[Ne]=i,n[Re]=u;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;t:switch(Ze(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Zr(i)}}return fe(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&Zr(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(n=Rt.current,Bl(i)){if(n=i.stateNode,o=i.memoizedProps,u=null,f=fn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Ne]=i,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||CE(n.nodeValue,o)),n||Hs(i)}else n=Lh(n).createTextNode(u),n[Ne]=i,i.stateNode=n}return fe(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Bl(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ne]=i}else zl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;fe(i),f=!1}else f=m_(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?($r(i),i):($r(i),null)}if($r(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),Ah(i,i.updateQueue),fe(i),null;case 4:return nr(),n===null&&Jm(i.stateNode.containerInfo),fe(i),null;case 10:return Qr(i.type),fe(i),null;case 19:if(ht(Le),f=i.memoizedState,f===null)return fe(i),null;if(u=(i.flags&128)!==0,g=f.rendering,g===null)if(u)nu(f,!1);else{if(_e!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(g=_h(n),g!==null){for(i.flags|=128,nu(f,!1),n=g.updateQueue,i.updateQueue=n,Ah(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)c_(o,n),o=o.sibling;return at(Le,Le.current&1|2),i.child}n=n.sibling}f.tail!==null&&Mn()>Rh&&(i.flags|=128,u=!0,nu(f,!1),i.lanes=4194304)}else{if(!u)if(n=_h(g),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Ah(i,n),nu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Gt)return fe(i),null}else 2*Mn()-f.renderingStartTime>Rh&&o!==536870912&&(i.flags|=128,u=!0,nu(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(n=f.last,n!==null?n.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Mn(),i.sibling=null,n=Le.current,at(Le,u?n&1|2:n&1),i):(fe(i),null);case 22:case 23:return $r(i),tm(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(fe(i),i.subtreeFlags&6&&(i.flags|=8192)):fe(i),o=i.updateQueue,o!==null&&Ah(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),n!==null&&ht(Ys),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Qr(Pe),fe(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function eR(n,i){switch(zd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Qr(Pe),nr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return xr(i),null;case 13:if($r(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));zl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ht(Le),null;case 4:return nr(),null;case 10:return Qr(i.type),null;case 22:case 23:return $r(i),tm(),n!==null&&ht(Ys),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Qr(Pe),null;case 25:return null;default:return null}}function kv(n,i){switch(zd(i),i.tag){case 3:Qr(Pe),nr();break;case 26:case 27:case 5:xr(i);break;case 4:nr();break;case 13:$r(i);break;case 19:ht(Le);break;case 10:Qr(i.type);break;case 22:case 23:$r(i),tm(),n!==null&&ht(Ys);break;case 24:Qr(Pe)}}function ru(n,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(b){ee(i,i.return,b)}}function xi(n,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&n)===n){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=i;var I=o,F=b;try{F()}catch(X){ee(f,I,X)}}}u=u.next}while(u!==g)}}catch(X){ee(i,i.return,X)}}function Uv(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{S_(i,o)}catch(u){ee(n,n.return,u)}}}function Bv(n,i,o){o.props=Xs(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){ee(n,i,u)}}function iu(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){ee(n,i,f)}}function pr(n,i){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ee(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ee(n,i,f)}else o.current=null}function zv(n){var i=n.type,o=n.memoizedProps,u=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ee(n,n.return,f)}}function Dm(n,i,o){try{var u=n.stateNode;bR(u,n.type,o,i),u[Re]=i}catch(f){ee(n,n.return,f)}}function qv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ui(n.type)||n.tag===4}function Cm(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||qv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ui(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function xm(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Ph));else if(u!==4&&(u===27&&Ui(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(xm(n,i,o),n=n.sibling;n!==null;)xm(n,i,o),n=n.sibling}function wh(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(u!==4&&(u===27&&Ui(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(wh(n,i,o),n=n.sibling;n!==null;)wh(n,i,o),n=n.sibling}function Fv(n){var i=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Ze(i,u,o),i[Ne]=n,i[Re]=o}catch(g){ee(n,n.return,g)}}var Jr=!1,be=!1,Vm=!1,jv=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function nR(n,i){if(n=n.containerInfo,eg=Fh,n=t_(n),Cd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,b=-1,I=-1,F=0,X=0,W=n,j=null;e:for(;;){for(var H;W!==o||f!==0&&W.nodeType!==3||(b=E+f),W!==g||u!==0&&W.nodeType!==3||(I=E+u),W.nodeType===3&&(E+=W.nodeValue.length),(H=W.firstChild)!==null;)j=W,W=H;for(;;){if(W===n)break e;if(j===o&&++F===f&&(b=E),j===g&&++X===u&&(I=E),(H=W.nextSibling)!==null)break;W=j,j=W.parentNode}W=H}o=b===-1||I===-1?null:{start:b,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(ng={focusedElem:n,selectionRange:o},Fh=!1,Fe=i;Fe!==null;)if(i=Fe,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Fe=n;else for(;Fe!==null;){switch(i=Fe,g=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=i,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var St=Xs(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(St,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(bt){ee(o,o.return,bt)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)sg(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":sg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=i.sibling,n!==null){n.return=i.return,Fe=n;break}Fe=i.return}}function Gv(n,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Vi(n,o),u&4&&ru(5,o);break;case 1:if(Vi(n,o),u&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(E){ee(o,o.return,E)}else{var f=Xs(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){ee(o,o.return,E)}}u&64&&Uv(o),u&512&&iu(o,o.return);break;case 3:if(Vi(n,o),u&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{S_(n,i)}catch(E){ee(o,o.return,E)}}break;case 27:i===null&&u&4&&Fv(o);case 26:case 5:Vi(n,o),i===null&&u&4&&zv(o),u&512&&iu(o,o.return);break;case 12:Vi(n,o);break;case 13:Vi(n,o),u&4&&Qv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=hR.bind(null,o),CR(n,o))));break;case 22:if(u=o.memoizedState!==null||Jr,!u){i=i!==null&&i.memoizedState!==null||be,f=Jr;var g=be;Jr=u,(be=i)&&!g?Ni(n,o,(o.subtreeFlags&8772)!==0):Vi(n,o),Jr=f,be=g}break;case 30:break;default:Vi(n,o)}}function Hv(n){var i=n.alternate;i!==null&&(n.alternate=null,Hv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&vi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var oe=null,_n=!1;function Wr(n,i,o){for(o=o.child;o!==null;)Kv(n,i,o),o=o.sibling}function Kv(n,i,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(pe,o)}catch{}switch(o.tag){case 26:be||pr(o,i),Wr(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:be||pr(o,i);var u=oe,f=_n;Ui(o.type)&&(oe=o.stateNode,_n=!1),Wr(n,i,o),du(o.stateNode),oe=u,_n=f;break;case 5:be||pr(o,i);case 6:if(u=oe,f=_n,oe=null,Wr(n,i,o),oe=u,_n=f,oe!==null)if(_n)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(o.stateNode)}catch(g){ee(o,i,g)}else try{oe.removeChild(o.stateNode)}catch(g){ee(o,i,g)}break;case 18:oe!==null&&(_n?(n=oe,ME(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Tu(n)):ME(oe,o.stateNode));break;case 4:u=oe,f=_n,oe=o.stateNode.containerInfo,_n=!0,Wr(n,i,o),oe=u,_n=f;break;case 0:case 11:case 14:case 15:be||xi(2,o,i),be||xi(4,o,i),Wr(n,i,o);break;case 1:be||(pr(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Bv(o,i,u)),Wr(n,i,o);break;case 21:Wr(n,i,o);break;case 22:be=(u=be)||o.memoizedState!==null,Wr(n,i,o),be=u;break;default:Wr(n,i,o)}}function Qv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Tu(n)}catch(o){ee(i,i.return,o)}}function rR(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new jv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new jv),i;default:throw Error(r(435,n.tag))}}function Nm(n,i){var o=rR(n);i.forEach(function(u){var f=fR.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function In(n,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=n,E=i,b=E;t:for(;b!==null;){switch(b.tag){case 27:if(Ui(b.type)){oe=b.stateNode,_n=!1;break t}break;case 5:oe=b.stateNode,_n=!1;break t;case 3:case 4:oe=b.stateNode.containerInfo,_n=!0;break t}b=b.return}if(oe===null)throw Error(r(160));Kv(g,E,f),oe=null,_n=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Yv(i,n),i=i.sibling}var Wn=null;function Yv(n,i){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:In(i,n),Dn(n),u&4&&(xi(3,n,n.return),ru(3,n),xi(5,n,n.return));break;case 1:In(i,n),Dn(n),u&512&&(be||o===null||pr(o,o.return)),u&64&&Jr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Wn;if(In(i,n),Dn(n),u&512&&(be||o===null||pr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){t:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ss]||g[Ne]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Ze(g,u,o),g[Ne]=n,Ee(g),u=g;break t;case"link":var E=FE("link","href",f).get(u+(o.href||""));if(E){for(var b=0;b<E.length;b++)if(g=E[b],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(b,1);break e}}g=f.createElement(u),Ze(g,u,o),f.head.appendChild(g);break;case"meta":if(E=FE("meta","content",f).get(u+(o.content||""))){for(b=0;b<E.length;b++)if(g=E[b],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(b,1);break e}}g=f.createElement(u),Ze(g,u,o),f.head.appendChild(g);break;default:throw Error(r(468,u))}g[Ne]=n,Ee(g),u=g}n.stateNode=u}else jE(f,n.type,n.stateNode);else n.stateNode=qE(f,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?jE(f,n.type,n.stateNode):qE(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Dm(n,n.memoizedProps,o.memoizedProps)}break;case 27:In(i,n),Dn(n),u&512&&(be||o===null||pr(o,o.return)),o!==null&&u&4&&Dm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(In(i,n),Dn(n),u&512&&(be||o===null||pr(o,o.return)),n.flags&32){f=n.stateNode;try{Ln(f,"")}catch(H){ee(n,n.return,H)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Dm(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Vm=!0);break;case 6:if(In(i,n),Dn(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(H){ee(n,n.return,H)}}break;case 3:if(Bh=null,f=Wn,Wn=kh(i.containerInfo),In(i,n),Wn=f,Dn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Tu(i.containerInfo)}catch(H){ee(n,n.return,H)}Vm&&(Vm=!1,$v(n));break;case 4:u=Wn,Wn=kh(n.stateNode.containerInfo),In(i,n),Dn(n),Wn=u;break;case 12:In(i,n),Dn(n);break;case 13:In(i,n),Dn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Um=Mn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Nm(n,u)));break;case 22:f=n.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,F=Jr,X=be;if(Jr=F||f,be=X||I,In(i,n),be=X,Jr=F,Dn(n),u&8192)t:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||I||Jr||be||Zs(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){I=o=i;try{if(g=I.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=I.stateNode;var W=I.memoizedProps.style,j=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(H){ee(I,I.return,H)}}}else if(i.tag===6){if(o===null){I=i;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(H){ee(I,I.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Nm(n,o))));break;case 19:In(i,n),Dn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Nm(n,u)));break;case 30:break;case 21:break;default:In(i,n),Dn(n)}}function Dn(n){var i=n.flags;if(i&2){try{for(var o,u=n.return;u!==null;){if(qv(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,g=Cm(n);wh(n,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(Ln(E,""),o.flags&=-33);var b=Cm(n);wh(n,b,E);break;case 3:case 4:var I=o.stateNode.containerInfo,F=Cm(n);xm(n,F,I);break;default:throw Error(r(161))}}catch(X){ee(n,n.return,X)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function $v(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;$v(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Vi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Gv(n,i.alternate,i),i=i.sibling}function Zs(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:xi(4,i,i.return),Zs(i);break;case 1:pr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Bv(i,i.return,o),Zs(i);break;case 27:du(i.stateNode);case 26:case 5:pr(i,i.return),Zs(i);break;case 22:i.memoizedState===null&&Zs(i);break;case 30:Zs(i);break;default:Zs(i)}n=n.sibling}}function Ni(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,g=i,E=g.flags;switch(g.tag){case 0:case 11:case 15:Ni(f,g,o),ru(4,g);break;case 1:if(Ni(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){ee(u,u.return,F)}if(u=g,f=u.updateQueue,f!==null){var b=u.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)w_(I[f],b)}catch(F){ee(u,u.return,F)}}o&&E&64&&Uv(g),iu(g,g.return);break;case 27:Fv(g);case 26:case 5:Ni(f,g,o),o&&u===null&&E&4&&zv(g),iu(g,g.return);break;case 12:Ni(f,g,o);break;case 13:Ni(f,g,o),o&&E&4&&Qv(f,g);break;case 22:g.memoizedState===null&&Ni(f,g,o),iu(g,g.return);break;case 30:break;default:Ni(f,g,o)}i=i.sibling}}function Om(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&jl(o))}function Mm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&jl(n))}function yr(n,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xv(n,i,o,u),i=i.sibling}function Xv(n,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:yr(n,i,o,u),f&2048&&ru(9,i);break;case 1:yr(n,i,o,u);break;case 3:yr(n,i,o,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&jl(n)));break;case 12:if(f&2048){yr(n,i,o,u),n=i.stateNode;try{var g=i.memoizedProps,E=g.id,b=g.onPostCommit;typeof b=="function"&&b(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){ee(i,i.return,I)}}else yr(n,i,o,u);break;case 13:yr(n,i,o,u);break;case 23:break;case 22:g=i.stateNode,E=i.alternate,i.memoizedState!==null?g._visibility&2?yr(n,i,o,u):su(n,i):g._visibility&2?yr(n,i,o,u):(g._visibility|=2,lo(n,i,o,u,(i.subtreeFlags&10256)!==0)),f&2048&&Om(E,i);break;case 24:yr(n,i,o,u),f&2048&&Mm(i.alternate,i);break;default:yr(n,i,o,u)}}function lo(n,i,o,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=n,E=i,b=o,I=u,F=E.flags;switch(E.tag){case 0:case 11:case 15:lo(g,E,b,I,f),ru(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?lo(g,E,b,I,f):su(g,E):(X._visibility|=2,lo(g,E,b,I,f)),f&&F&2048&&Om(E.alternate,E);break;case 24:lo(g,E,b,I,f),f&&F&2048&&Mm(E.alternate,E);break;default:lo(g,E,b,I,f)}i=i.sibling}}function su(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,u=i,f=u.flags;switch(u.tag){case 22:su(o,u),f&2048&&Om(u.alternate,u);break;case 24:su(o,u),f&2048&&Mm(u.alternate,u);break;default:su(o,u)}i=i.sibling}}var au=8192;function uo(n){if(n.subtreeFlags&au)for(n=n.child;n!==null;)Zv(n),n=n.sibling}function Zv(n){switch(n.tag){case 26:uo(n),n.flags&au&&n.memoizedState!==null&&FR(Wn,n.memoizedState,n.memoizedProps);break;case 5:uo(n);break;case 3:case 4:var i=Wn;Wn=kh(n.stateNode.containerInfo),uo(n),Wn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=au,au=16777216,uo(n),au=i):uo(n));break;default:uo(n)}}function Jv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function ou(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Fe=u,tE(u,n)}Jv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wv(n),n=n.sibling}function Wv(n){switch(n.tag){case 0:case 11:case 15:ou(n),n.flags&2048&&xi(9,n,n.return);break;case 3:ou(n);break;case 12:ou(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Sh(n)):ou(n);break;default:ou(n)}}function Sh(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Fe=u,tE(u,n)}Jv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:xi(8,i,i.return),Sh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Sh(i));break;default:Sh(i)}n=n.sibling}}function tE(n,i){for(;Fe!==null;){var o=Fe;switch(o.tag){case 0:case 11:case 15:xi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:jl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Fe=u;else t:for(o=n;Fe!==null;){u=Fe;var f=u.sibling,g=u.return;if(Hv(u),u===o){Fe=null;break t}if(f!==null){f.return=g,Fe=f;break t}Fe=g}}}var iR={getCacheForType:function(n){var i=nn(Pe),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},sR=typeof WeakMap=="function"?WeakMap:Map,Qt=0,re=null,Nt=null,Bt=0,Yt=0,Cn=null,Oi=!1,co=!1,Pm=!1,ti=0,_e=0,Mi=0,Js=0,Lm=0,Hn=0,ho=0,lu=null,vn=null,km=!1,Um=0,Rh=1/0,Ih=null,Pi=null,Xe=0,Li=null,fo=null,mo=0,Bm=0,zm=null,eE=null,uu=0,qm=null;function xn(){if((Qt&2)!==0&&Bt!==0)return Bt&-Bt;if($.T!==null){var n=to;return n!==0?n:Ym()}return yi()}function nE(){Hn===0&&(Hn=(Bt&536870912)===0||Gt?_l():536870912);var n=Gn.current;return n!==null&&(n.flags|=32),Hn}function Vn(n,i,o){(n===re&&(Yt===2||Yt===9)||n.cancelPendingCommit!==null)&&(go(n,0),ki(n,Bt,Hn,!1)),Nr(n,o),((Qt&2)===0||n!==re)&&(n===re&&((Qt&2)===0&&(Js|=o),_e===4&&ki(n,Bt,Hn,!1)),_r(n))}function rE(n,i,o){if((Qt&6)!==0)throw Error(r(327));var u=!o&&(i&124)===0&&(i&n.expiredLanes)===0||ws(n,i),f=u?lR(n,i):Gm(n,i,!0),g=u;do{if(f===0){co&&!u&&ki(n,i,0,!1);break}else{if(o=n.current.alternate,g&&!aR(o)){f=Gm(n,i,!1),g=!1;continue}if(f===2){if(g=i,n.errorRecoveryDisabledLanes&g)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;t:{var b=n;f=lu;var I=b.current.memoizedState.isDehydrated;if(I&&(go(b,E).flags|=256),E=Gm(b,E,!1),E!==2){if(Pm&&!I){b.errorRecoveryDisabledLanes|=g,Js|=g,f=4;break t}g=vn,vn=f,g!==null&&(vn===null?vn=g:vn.push.apply(vn,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){go(n,0),ki(n,i,0,!0);break}t:{switch(u=n,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ki(u,i,Hn,!Oi);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Um+300-Mn(),10<f)){if(ki(u,i,Hn,!Oi),Va(u,0,!0)!==0)break t;u.timeoutHandle=NE(iE.bind(null,u,o,vn,Ih,km,i,Hn,Js,ho,Oi,g,2,-0,0),f);break t}iE(u,o,vn,Ih,km,i,Hn,Js,ho,Oi,g,0,-0,0)}}break}while(!0);_r(n)}function iE(n,i,o,u,f,g,E,b,I,F,X,W,j,H){if(n.timeoutHandle=-1,W=i.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(pu={stylesheets:null,count:0,unsuspend:qR},Zv(i),W=jR(),W!==null)){n.cancelPendingCommit=W(hE.bind(null,n,i,g,o,u,f,E,b,I,X,1,j,H)),ki(n,g,E,!F);return}hE(n,i,g,o,u,f,E,b,I)}function aR(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Sn(g(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ki(n,i,o,u){i&=~Lm,i&=~Js,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var g=31-en(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&rr(n,o,i)}function Dh(){return(Qt&6)===0?(cu(0),!1):!0}function Fm(){if(Nt!==null){if(Yt===0)var n=Nt.return;else n=Nt,Kr=Ks=null,sm(n),ao=null,tu=0,n=Nt;for(;n!==null;)kv(n.alternate,n),n=n.return;Nt=null}}function go(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,wR(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Fm(),re=n,Nt=o=jr(n.current,null),Bt=i,Yt=0,Cn=null,Oi=!1,co=ws(n,i),Pm=!1,ho=Hn=Lm=Js=Mi=_e=0,vn=lu=null,km=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-en(u),g=1<<f;i|=n[f],u&=~g}return ti=i,Xc(),o}function sE(n,i){Ct=null,$.H=gh,i===Hl||i===sh?(i=b_(),Yt=3):i===v_?(i=b_(),Yt=4):Yt=i===Av?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Cn=i,Nt===null&&(_e=1,Eh(n,zn(i,n.current)))}function aE(){var n=$.H;return $.H=gh,n===null?gh:n}function oE(){var n=$.A;return $.A=iR,n}function jm(){_e=4,Oi||(Bt&4194048)!==Bt&&Gn.current!==null||(co=!0),(Mi&134217727)===0&&(Js&134217727)===0||re===null||ki(re,Bt,Hn,!1)}function Gm(n,i,o){var u=Qt;Qt|=2;var f=aE(),g=oE();(re!==n||Bt!==i)&&(Ih=null,go(n,i)),i=!1;var E=_e;t:do try{if(Yt!==0&&Nt!==null){var b=Nt,I=Cn;switch(Yt){case 8:Fm(),E=6;break t;case 3:case 2:case 9:case 6:Gn.current===null&&(i=!0);var F=Yt;if(Yt=0,Cn=null,po(n,b,I,F),o&&co){E=0;break t}break;default:F=Yt,Yt=0,Cn=null,po(n,b,I,F)}}oR(),E=_e;break}catch(X){sE(n,X)}while(!0);return i&&n.shellSuspendCounter++,Kr=Ks=null,Qt=u,$.H=f,$.A=g,Nt===null&&(re=null,Bt=0,Xc()),E}function oR(){for(;Nt!==null;)lE(Nt)}function lR(n,i){var o=Qt;Qt|=2;var u=aE(),f=oE();re!==n||Bt!==i?(Ih=null,Rh=Mn()+500,go(n,i)):co=ws(n,i);t:do try{if(Yt!==0&&Nt!==null){i=Nt;var g=Cn;e:switch(Yt){case 1:Yt=0,Cn=null,po(n,i,g,1);break;case 2:case 9:if(E_(g)){Yt=0,Cn=null,uE(i);break}i=function(){Yt!==2&&Yt!==9||re!==n||(Yt=7),_r(n)},g.then(i,i);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:E_(g)?(Yt=0,Cn=null,uE(i)):(Yt=0,Cn=null,po(n,i,g,7));break;case 5:var E=null;switch(Nt.tag){case 26:E=Nt.memoizedState;case 5:case 27:var b=Nt;if(!E||GE(E)){Yt=0,Cn=null;var I=b.sibling;if(I!==null)Nt=I;else{var F=b.return;F!==null?(Nt=F,Ch(F)):Nt=null}break e}}Yt=0,Cn=null,po(n,i,g,5);break;case 6:Yt=0,Cn=null,po(n,i,g,6);break;case 8:Fm(),_e=6;break t;default:throw Error(r(462))}}uR();break}catch(X){sE(n,X)}while(!0);return Kr=Ks=null,$.H=u,$.A=f,Qt=o,Nt!==null?0:(re=null,Bt=0,Xc(),_e)}function uR(){for(;Nt!==null&&!ml();)lE(Nt)}function lE(n){var i=Pv(n.alternate,n,ti);n.memoizedProps=n.pendingProps,i===null?Ch(n):Nt=i}function uE(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=Cv(o,i,i.pendingProps,i.type,void 0,Bt);break;case 11:i=Cv(o,i,i.pendingProps,i.type.render,i.ref,Bt);break;case 5:sm(i);default:kv(o,i),i=Nt=c_(i,ti),i=Pv(o,i,ti)}n.memoizedProps=n.pendingProps,i===null?Ch(n):Nt=i}function po(n,i,o,u){Kr=Ks=null,sm(i),ao=null,tu=0;var f=i.return;try{if(JS(n,f,i,o,Bt)){_e=1,Eh(n,zn(o,n.current)),Nt=null;return}}catch(g){if(f!==null)throw Nt=f,g;_e=1,Eh(n,zn(o,n.current)),Nt=null;return}i.flags&32768?(Gt||u===1?n=!0:co||(Bt&536870912)!==0?n=!1:(Oi=n=!0,(u===2||u===9||u===3||u===6)&&(u=Gn.current,u!==null&&u.tag===13&&(u.flags|=16384))),cE(i,n)):Ch(i)}function Ch(n){var i=n;do{if((i.flags&32768)!==0){cE(i,Oi);return}n=i.return;var o=tR(i.alternate,i,ti);if(o!==null){Nt=o;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=n}while(i!==null);_e===0&&(_e=5)}function cE(n,i){do{var o=eR(n.alternate,n);if(o!==null){o.flags&=32767,Nt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Nt=n;return}Nt=n=o}while(n!==null);_e=6,Nt=null}function hE(n,i,o,u,f,g,E,b,I){n.cancelPendingCommit=null;do xh();while(Xe!==0);if((Qt&6)!==0)throw Error(r(327));if(i!==null){if(i===n.current)throw Error(r(177));if(g=i.lanes|i.childLanes,g|=Md,El(n,o,g,E,b,I),n===re&&(Nt=re=null,Bt=0),fo=i,Li=n,mo=o,Bm=g,zm=f,eE=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,dR(Es,function(){return pE(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,f=ut.p,ut.p=2,E=Qt,Qt|=4;try{nR(n,i,o)}finally{Qt=E,ut.p=f,$.T=u}}Xe=1,fE(),dE(),mE()}}function fE(){if(Xe===1){Xe=0;var n=Li,i=fo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var u=ut.p;ut.p=2;var f=Qt;Qt|=4;try{Yv(i,n);var g=ng,E=t_(n.containerInfo),b=g.focusedElem,I=g.selectionRange;if(E!==b&&b&&b.ownerDocument&&Wy(b.ownerDocument.documentElement,b)){if(I!==null&&Cd(b)){var F=I.start,X=I.end;if(X===void 0&&(X=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(X,b.value.length);else{var W=b.ownerDocument||document,j=W&&W.defaultView||window;if(j.getSelection){var H=j.getSelection(),St=b.textContent.length,bt=Math.min(I.start,St),te=I.end===void 0?bt:Math.min(I.end,St);!H.extend&&bt>te&&(E=te,te=bt,bt=E);var L=Jy(b,bt),O=Jy(b,te);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var q=W.createRange();q.setStart(L.node,L.offset),H.removeAllRanges(),bt>te?(H.addRange(q),H.extend(O.node,O.offset)):(q.setEnd(O.node,O.offset),H.addRange(q))}}}}for(W=[],H=b;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var J=W[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Fh=!!eg,ng=eg=null}finally{Qt=f,ut.p=u,$.T=o}}n.current=i,Xe=2}}function dE(){if(Xe===2){Xe=0;var n=Li,i=fo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var u=ut.p;ut.p=2;var f=Qt;Qt|=4;try{Gv(n,i.alternate,i)}finally{Qt=f,ut.p=u,$.T=o}}Xe=3}}function mE(){if(Xe===4||Xe===3){Xe=0,Sc();var n=Li,i=fo,o=mo,u=eE;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Xe=5:(Xe=0,fo=Li=null,gE(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Pi=null),Na(o),i=i.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(pe,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=$.T,f=ut.p,ut.p=2,$.T=null;try{for(var g=n.onRecoverableError,E=0;E<u.length;E++){var b=u[E];g(b.value,{componentStack:b.stack})}}finally{$.T=i,ut.p=f}}(mo&3)!==0&&xh(),_r(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===qm?uu++:(uu=0,qm=n):uu=0,cu(0)}}function gE(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,jl(i)))}function xh(n){return fE(),dE(),mE(),pE()}function pE(){if(Xe!==5)return!1;var n=Li,i=Bm;Bm=0;var o=Na(mo),u=$.T,f=ut.p;try{ut.p=32>o?32:o,$.T=null,o=zm,zm=null;var g=Li,E=mo;if(Xe=0,fo=Li=null,mo=0,(Qt&6)!==0)throw Error(r(331));var b=Qt;if(Qt|=4,Wv(g.current),Xv(g,g.current,E,o),Qt=b,cu(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(pe,g)}catch{}return!0}finally{ut.p=f,$.T=u,gE(n,i)}}function yE(n,i,o){i=zn(o,i),i=vm(n.stateNode,i,2),n=Ri(n,i,2),n!==null&&(Nr(n,2),_r(n))}function ee(n,i,o){if(n.tag===3)yE(n,n,o);else for(;i!==null;){if(i.tag===3){yE(i,n,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Pi===null||!Pi.has(u))){n=zn(o,n),o=Tv(2),u=Ri(i,o,2),u!==null&&(bv(o,u,i,n),Nr(u,2),_r(u));break}}i=i.return}}function Hm(n,i,o){var u=n.pingCache;if(u===null){u=n.pingCache=new sR;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(Pm=!0,f.add(o),n=cR.bind(null,n,i,o),i.then(n,n))}function cR(n,i,o){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,re===n&&(Bt&o)===o&&(_e===4||_e===3&&(Bt&62914560)===Bt&&300>Mn()-Um?(Qt&2)===0&&go(n,0):Lm|=o,ho===Bt&&(ho=0)),_r(n)}function _E(n,i){i===0&&(i=vl()),n=Xa(n,i),n!==null&&(Nr(n,i),_r(n))}function hR(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),_E(n,o)}function fR(n,i){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),_E(n,o)}function dR(n,i){return _s(n,i)}var Vh=null,yo=null,Km=!1,Nh=!1,Qm=!1,Ws=0;function _r(n){n!==yo&&n.next===null&&(yo===null?Vh=yo=n:yo=yo.next=n),Nh=!0,Km||(Km=!0,gR())}function cu(n,i){if(!Qm&&Nh){Qm=!0;do for(var o=!1,u=Vh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,b=u.pingedLanes;g=(1<<31-en(42|n)+1)-1,g&=f&~(E&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,bE(u,g))}else g=Bt,g=Va(u,u===re?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ws(u,g)||(o=!0,bE(u,g));u=u.next}while(o);Qm=!1}}function mR(){vE()}function vE(){Nh=Km=!1;var n=0;Ws!==0&&(AR()&&(n=Ws),Ws=0);for(var i=Mn(),o=null,u=Vh;u!==null;){var f=u.next,g=EE(u,i);g===0?(u.next=null,o===null?Vh=f:o.next=f,f===null&&(yo=o)):(o=u,(n!==0||(g&3)!==0)&&(Nh=!0)),u=f}cu(n)}function EE(n,i){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var E=31-en(g),b=1<<E,I=f[E];I===-1?((b&o)===0||(b&u)!==0)&&(f[E]=yl(b,i)):I<=i&&(n.expiredLanes|=b),g&=~b}if(i=re,o=Bt,o=Va(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===i&&(Yt===2||Yt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&vs(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||ws(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(u!==null&&vs(u),Na(o)){case 2:case 8:o=Ca;break;case 32:o=Es;break;case 268435456:o=xa;break;default:o=Es}return u=TE.bind(null,n),o=_s(o,u),n.callbackPriority=i,n.callbackNode=o,i}return u!==null&&u!==null&&vs(u),n.callbackPriority=2,n.callbackNode=null,2}function TE(n,i){if(Xe!==0&&Xe!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(xh()&&n.callbackNode!==o)return null;var u=Bt;return u=Va(n,n===re?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(rE(n,u,i),EE(n,Mn()),n.callbackNode!=null&&n.callbackNode===o?TE.bind(null,n):null)}function bE(n,i){if(xh())return null;rE(n,i,!0)}function gR(){SR(function(){(Qt&6)!==0?_s(gl,mR):vE()})}function Ym(){return Ws===0&&(Ws=_l()),Ws}function AE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ua(""+n)}function wE(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function pR(n,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var g=AE((f[Re]||null).action),E=u.submitter;E&&(i=(i=E[Re]||null)?AE(i.formAction):E.getAttribute("formAction"),i!==null&&(g=i,E=null));var b=new Ba("action","action",null,u,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ws!==0){var I=E?wE(f,E):new FormData(f);mm(o,{pending:!0,data:I,method:f.method,action:g},null,I)}}else typeof g=="function"&&(b.preventDefault(),I=E?wE(f,E):new FormData(f),mm(o,{pending:!0,data:I,method:f.method,action:g},g,I))},currentTarget:f}]})}}for(var $m=0;$m<Od.length;$m++){var Xm=Od[$m],yR=Xm.toLowerCase(),_R=Xm[0].toUpperCase()+Xm.slice(1);Jn(yR,"on"+_R)}Jn(r_,"onAnimationEnd"),Jn(i_,"onAnimationIteration"),Jn(s_,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(PS,"onTransitionRun"),Jn(LS,"onTransitionStart"),Jn(kS,"onTransitionCancel"),Jn(a_,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hu));function SE(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;t:{var g=void 0;if(i)for(var E=u.length-1;0<=E;E--){var b=u[E],I=b.instance,F=b.currentTarget;if(b=b.listener,I!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=F;try{g(f)}catch(X){vh(X)}f.currentTarget=null,g=I}else for(E=0;E<u.length;E++){if(b=u[E],I=b.instance,F=b.currentTarget,b=b.listener,I!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=F;try{g(f)}catch(X){vh(X)}f.currentTarget=null,g=I}}}}function Ot(n,i){var o=i[bl];o===void 0&&(o=i[bl]=new Set);var u=n+"__bubble";o.has(u)||(RE(i,n,2,!1),o.add(u))}function Zm(n,i,o){var u=0;i&&(u|=4),RE(o,n,u,i)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function Jm(n){if(!n[Oh]){n[Oh]=!0,Al.forEach(function(o){o!=="selectionchange"&&(vR.has(o)||Zm(o,!1,n),Zm(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Oh]||(i[Oh]=!0,Zm("selectionchange",!1,i))}}function RE(n,i,o,u){switch(XE(i)){case 2:var f=KR;break;case 8:f=QR;break;default:f=fg}o=f.bind(null,i,o,n),f=void 0,!Un||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,o,{capture:!0,passive:f}):n.addEventListener(i,o,!0):f!==void 0?n.addEventListener(i,o,{passive:f}):n.addEventListener(i,o,!1)}function Wm(n,i,o,u,f){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=u.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Or(b),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){u=g=E;continue t}b=b.parentNode}}u=u.return}Pc(function(){var F=g,X=kn(o),W=[];t:{var j=o_.get(n);if(j!==void 0){var H=Ba,St=n;switch(n){case"keypress":if(ur(o)===0)break t;case"keydown":case"keyup":H=Ha;break;case"focusin":St="focus",H=Fa;break;case"focusout":St="blur",H=Fa;break;case"beforeblur":case"afterblur":H=Fa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Sd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=jc;break;case r_:case i_:case s_:H=ja;break;case a_:H=Hc;break;case"scroll":case"scrollend":H=Lc;break;case"wheel":H=Ka;break;case"copy":case"cut":case"paste":H=Ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Pl;break;case"toggle":case"beforetoggle":H=Qc}var bt=(i&4)!==0,te=!bt&&(n==="scroll"||n==="scrollend"),L=bt?j!==null?j+"Capture":null:j;bt=[];for(var O=F,q;O!==null;){var J=O;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||L===null||(J=Ns(O,L),J!=null&&bt.push(fu(O,J,q))),te)break;O=O.return}0<bt.length&&(j=new H(j,St,null,o,X),W.push({event:j,listeners:bt}))}}if((i&7)===0){t:{if(j=n==="mouseover"||n==="pointerover",H=n==="mouseout"||n==="pointerout",j&&o!==kr&&(St=o.relatedTarget||o.fromElement)&&(Or(St)||St[Pn]))break t;if((H||j)&&(j=X.window===X?X:(j=X.ownerDocument)?j.defaultView||j.parentWindow:window,H?(St=o.relatedTarget||o.toElement,H=F,St=St?Or(St):null,St!==null&&(te=l(St),bt=St.tag,St!==te||bt!==5&&bt!==27&&bt!==6)&&(St=null)):(H=null,St=F),H!==St)){if(bt=Bn,J="onMouseLeave",L="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(bt=Pl,J="onPointerLeave",L="onPointerEnter",O="pointer"),te=H==null?j:sr(H),q=St==null?j:sr(St),j=new bt(J,O+"leave",H,o,X),j.target=te,j.relatedTarget=q,J=null,Or(X)===F&&(bt=new bt(L,O+"enter",St,o,X),bt.target=q,bt.relatedTarget=te,J=bt),te=J,H&&St)e:{for(bt=H,L=St,O=0,q=bt;q;q=_o(q))O++;for(q=0,J=L;J;J=_o(J))q++;for(;0<O-q;)bt=_o(bt),O--;for(;0<q-O;)L=_o(L),q--;for(;O--;){if(bt===L||L!==null&&bt===L.alternate)break e;bt=_o(bt),L=_o(L)}bt=null}else bt=null;H!==null&&IE(W,j,H,bt,!1),St!==null&&te!==null&&IE(W,te,St,bt,!0)}}t:{if(j=F?sr(F):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var gt=Ky;else if(Me(j))if(Qy)gt=NS;else{gt=xS;var Vt=CS}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?F&&Dl(F.elementType)&&(gt=Ky):gt=VS;if(gt&&(gt=gt(n,F))){Fr(W,gt,o,X);break t}Vt&&Vt(n,j,F),n==="focusout"&&F&&j.type==="number"&&F.memoizedProps.value!=null&&Ti(j,"number",j.value)}switch(Vt=F?sr(F):window,n){case"focusin":(Me(Vt)||Vt.contentEditable==="true")&&(Qa=Vt,xd=F,Ul=null);break;case"focusout":Ul=xd=Qa=null;break;case"mousedown":Vd=!0;break;case"contextmenu":case"mouseup":case"dragend":Vd=!1,e_(W,o,X);break;case"selectionchange":if(MS)break;case"keydown":case"keyup":e_(W,o,X)}var _t;if(fr)t:{switch(n){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else kt?Q(n,o)&&(At="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(At="onCompositionStart");At&&(v&&o.locale!=="ko"&&(kt||At!=="onCompositionStart"?At==="onCompositionEnd"&&kt&&(_t=xl()):(lr=X,bi="value"in lr?lr.value:lr.textContent,kt=!0)),Vt=Mh(F,At),0<Vt.length&&(At=new Ol(At,n,null,o,X),W.push({event:At,listeners:Vt}),_t?At.data=_t:(_t=ot(o),_t!==null&&(At.data=_t)))),(_t=y?Oe(n,o):Ut(n,o))&&(At=Mh(F,"onBeforeInput"),0<At.length&&(Vt=new Ol("onBeforeInput","beforeinput",null,o,X),W.push({event:Vt,listeners:At}),Vt.data=_t)),pR(W,n,F,o,X)}SE(W,i)})}function fu(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Mh(n,i){for(var o=i+"Capture",u=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Ns(n,o),f!=null&&u.unshift(fu(n,f,g)),f=Ns(n,i),f!=null&&u.push(fu(n,f,g))),n.tag===3)return u;n=n.return}return[]}function _o(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function IE(n,i,o,u,f){for(var g=i._reactName,E=[];o!==null&&o!==u;){var b=o,I=b.alternate,F=b.stateNode;if(b=b.tag,I!==null&&I===u)break;b!==5&&b!==26&&b!==27||F===null||(I=F,f?(F=Ns(o,g),F!=null&&E.unshift(fu(o,F,I))):f||(F=Ns(o,g),F!=null&&E.push(fu(o,F,I)))),o=o.return}E.length!==0&&n.push({event:i,listeners:E})}var ER=/\r\n?/g,TR=/\u0000|\uFFFD/g;function DE(n){return(typeof n=="string"?n:""+n).replace(ER,`
`).replace(TR,"")}function CE(n,i){return i=DE(i),DE(n)===i}function Ph(){}function Wt(n,i,o,u,f,g){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Ln(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Ln(n,""+u);break;case"className":ar(n,"class",u);break;case"tabIndex":ar(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(n,o,u);break;case"style":Il(n,u,g);break;case"data":if(i!=="object"){ar(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ua(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&Wt(n,i,"name",f.name,f,null),Wt(n,i,"formEncType",f.formEncType,f,null),Wt(n,i,"formMethod",f.formMethod,f,null),Wt(n,i,"formTarget",f.formTarget,f,null)):(Wt(n,i,"encType",f.encType,f,null),Wt(n,i,"method",f.method,f,null),Wt(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ua(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Ph);break;case"onScroll":u!=null&&Ot("scroll",n);break;case"onScrollEnd":u!=null&&Ot("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Ua(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Ot("beforetoggle",n),Ot("toggle",n),Ei(n,"popover",u);break;case"xlinkActuate":Qe(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Qe(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Qe(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Qe(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Qe(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Qe(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Qe(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Qe(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Qe(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ei(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ad.get(o)||o,Ei(n,o,u))}}function tg(n,i,o,u,f,g){switch(o){case"style":Il(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Ln(n,u):(typeof u=="number"||typeof u=="bigint")&&Ln(n,""+u);break;case"onScroll":u!=null&&Ot("scroll",n);break;case"onScrollEnd":u!=null&&Ot("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Ph);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oa.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),g=n[Re]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(i,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,u,f);break t}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Ei(n,o,u)}}}function Ze(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",n),Ot("load",n);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Wt(n,i,g,E,o,null)}}f&&Wt(n,i,"srcSet",o.srcSet,o,null),u&&Wt(n,i,"src",o.src,o,null);return;case"input":Ot("invalid",n);var b=g=E=f=null,I=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var X=o[u];if(X!=null)switch(u){case"name":f=X;break;case"type":E=X;break;case"checked":I=X;break;case"defaultChecked":F=X;break;case"value":g=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,i));break;default:Wt(n,i,u,X,o,null)}}Cs(n,g,b,I,F,E,f,!1),ka(n);return;case"select":Ot("invalid",n),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(b=o[f],b!=null))switch(f){case"value":g=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:Wt(n,i,f,b,o,null)}i=g,o=E,n.multiple=!!u,i!=null?Lr(n,!!u,i,!1):o!=null&&Lr(n,!!u,o,!0);return;case"textarea":Ot("invalid",n),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(b=o[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":f=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Wt(n,i,E,b,o,null)}xs(n,u,f,g),ka(n);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Wt(n,i,I,u,o,null)}return;case"dialog":Ot("beforetoggle",n),Ot("toggle",n),Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":Ot("load",n);break;case"video":case"audio":for(u=0;u<hu.length;u++)Ot(hu[u],n);break;case"image":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"embed":case"source":case"link":Ot("error",n),Ot("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Wt(n,i,F,u,o,null)}return;default:if(Dl(i)){for(X in o)o.hasOwnProperty(X)&&(u=o[X],u!==void 0&&tg(n,i,X,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&Wt(n,i,b,u,o,null))}function bR(n,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,b=null,I=null,F=null,X=null;for(H in o){var W=o[H];if(o.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=W;default:u.hasOwnProperty(H)||Wt(n,i,H,null,u,W)}}for(var j in u){var H=u[j];if(W=o[j],u.hasOwnProperty(j)&&(H!=null||W!=null))switch(j){case"type":g=H;break;case"name":f=H;break;case"checked":F=H;break;case"defaultChecked":X=H;break;case"value":E=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==W&&Wt(n,i,j,H,u,W)}}wn(n,E,b,I,F,X,g,f);return;case"select":H=E=b=j=null;for(g in o)if(I=o[g],o.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":H=I;default:u.hasOwnProperty(g)||Wt(n,i,g,null,u,I)}for(f in u)if(g=u[f],I=o[f],u.hasOwnProperty(f)&&(g!=null||I!=null))switch(f){case"value":j=g;break;case"defaultValue":b=g;break;case"multiple":E=g;default:g!==I&&Wt(n,i,f,g,u,I)}i=b,o=E,u=H,j!=null?Lr(n,!!o,j,!1):!!u!=!!o&&(i!=null?Lr(n,!!o,i,!0):Lr(n,!!o,o?[]:"",!1));return;case"textarea":H=j=null;for(b in o)if(f=o[b],o.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Wt(n,i,b,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":j=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&Wt(n,i,E,f,u,g)}Zt(n,j,H);return;case"option":for(var St in o)if(j=o[St],o.hasOwnProperty(St)&&j!=null&&!u.hasOwnProperty(St))switch(St){case"selected":n.selected=!1;break;default:Wt(n,i,St,null,u,j)}for(I in u)if(j=u[I],H=o[I],u.hasOwnProperty(I)&&j!==H&&(j!=null||H!=null))switch(I){case"selected":n.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Wt(n,i,I,j,u,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in o)j=o[bt],o.hasOwnProperty(bt)&&j!=null&&!u.hasOwnProperty(bt)&&Wt(n,i,bt,null,u,j);for(F in u)if(j=u[F],H=o[F],u.hasOwnProperty(F)&&j!==H&&(j!=null||H!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:Wt(n,i,F,j,u,H)}return;default:if(Dl(i)){for(var te in o)j=o[te],o.hasOwnProperty(te)&&j!==void 0&&!u.hasOwnProperty(te)&&tg(n,i,te,void 0,u,j);for(X in u)j=u[X],H=o[X],!u.hasOwnProperty(X)||j===H||j===void 0&&H===void 0||tg(n,i,X,j,u,H);return}}for(var L in o)j=o[L],o.hasOwnProperty(L)&&j!=null&&!u.hasOwnProperty(L)&&Wt(n,i,L,null,u,j);for(W in u)j=u[W],H=o[W],!u.hasOwnProperty(W)||j===H||j==null&&H==null||Wt(n,i,W,j,u,H)}var eg=null,ng=null;function Lh(n){return n.nodeType===9?n:n.ownerDocument}function xE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VE(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function rg(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ig=null;function AR(){var n=window.event;return n&&n.type==="popstate"?n===ig?!1:(ig=n,!0):(ig=null,!1)}var NE=typeof setTimeout=="function"?setTimeout:void 0,wR=typeof clearTimeout=="function"?clearTimeout:void 0,OE=typeof Promise=="function"?Promise:void 0,SR=typeof queueMicrotask=="function"?queueMicrotask:typeof OE<"u"?function(n){return OE.resolve(null).then(n).catch(RR)}:NE;function RR(n){setTimeout(function(){throw n})}function Ui(n){return n==="head"}function ME(n,i){var o=i,u=0,f=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=n.ownerDocument;if(o&1&&du(E.documentElement),o&2&&du(E.body),o&4)for(o=E.head,du(o),E=o.firstChild;E;){var b=E.nextSibling,I=E.nodeName;E[Ss]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=b}}if(f===0){n.removeChild(g),Tu(i);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Tu(i)}function sg(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":sg(o),vi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function IR(n,i,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ss])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=tr(n.nextSibling),n===null)break}return null}function DR(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=tr(n.nextSibling),n===null))return null;return n}function ag(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function CR(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function tr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var og=null;function PE(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function LE(n,i,o){switch(i=Lh(o),n){case"html":if(n=i.documentElement,!n)throw Error(r(452));return n;case"head":if(n=i.head,!n)throw Error(r(453));return n;case"body":if(n=i.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function du(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);vi(n)}var Kn=new Map,kE=new Set;function kh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ei=ut.d;ut.d={f:xR,r:VR,D:NR,C:OR,L:MR,m:PR,X:kR,S:LR,M:UR};function xR(){var n=ei.f(),i=Dh();return n||i}function VR(n){var i=ir(n);i!==null&&i.tag===5&&i.type==="form"?rv(i):ei.r(n)}var vo=typeof document>"u"?null:document;function UE(n,i,o){var u=vo;if(u&&typeof i=="string"&&i){var f=Ie(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),kE.has(f)||(kE.add(f),n={rel:n,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),Ze(i,"link",n),Ee(i),u.head.appendChild(i)))}}function NR(n){ei.D(n),UE("dns-prefetch",n,null)}function OR(n,i){ei.C(n,i),UE("preconnect",n,i)}function MR(n,i,o){ei.L(n,i,o);var u=vo;if(u&&n&&i){var f='link[rel="preload"][as="'+Ie(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ie(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ie(o.imageSizes)+'"]')):f+='[href="'+Ie(n)+'"]';var g=f;switch(i){case"style":g=Eo(n);break;case"script":g=To(n)}Kn.has(g)||(n=_({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Kn.set(g,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(mu(g))||i==="script"&&u.querySelector(gu(g))||(i=u.createElement("link"),Ze(i,"link",n),Ee(i),u.head.appendChild(i)))}}function PR(n,i){ei.m(n,i);var o=vo;if(o&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Ie(u)+'"][href="'+Ie(n)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=To(n)}if(!Kn.has(g)&&(n=_({rel:"modulepreload",href:n},i),Kn.set(g,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(gu(g)))return}u=o.createElement("link"),Ze(u,"link",n),Ee(u),o.head.appendChild(u)}}}function LR(n,i,o){ei.S(n,i,o);var u=vo;if(u&&n){var f=un(u).hoistableStyles,g=Eo(n);i=i||"default";var E=f.get(g);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(mu(g)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Kn.get(g))&&lg(n,o);var I=E=u.createElement("link");Ee(I),Ze(I,"link",n),I._p=new Promise(function(F,X){I.onload=F,I.onerror=X}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Uh(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(g,E)}}}function kR(n,i){ei.X(n,i);var o=vo;if(o&&n){var u=un(o).hoistableScripts,f=To(n),g=u.get(f);g||(g=o.querySelector(gu(f)),g||(n=_({src:n,async:!0},i),(i=Kn.get(f))&&ug(n,i),g=o.createElement("script"),Ee(g),Ze(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function UR(n,i){ei.M(n,i);var o=vo;if(o&&n){var u=un(o).hoistableScripts,f=To(n),g=u.get(f);g||(g=o.querySelector(gu(f)),g||(n=_({src:n,async:!0,type:"module"},i),(i=Kn.get(f))&&ug(n,i),g=o.createElement("script"),Ee(g),Ze(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function BE(n,i,o,u){var f=(f=Rt.current)?kh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Eo(o.href),o=un(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Eo(o.href);var g=un(f).hoistableStyles,E=g.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,E),(g=f.querySelector(mu(n)))&&!g._p&&(E.instance=g,E.state.loading=5),Kn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Kn.set(n,o),g||BR(f,n,o,E.state))),i&&u===null)throw Error(r(528,""));return E}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=To(o),o=un(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Eo(n){return'href="'+Ie(n)+'"'}function mu(n){return'link[rel="stylesheet"]['+n+"]"}function zE(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function BR(n,i,o,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Ze(i,"link",o),Ee(i),n.head.appendChild(i))}function To(n){return'[src="'+Ie(n)+'"]'}function gu(n){return"script[async]"+n}function qE(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+Ie(o.href)+'"]');if(u)return i.instance=u,Ee(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Ee(u),Ze(u,"style",f),Uh(u,o.precedence,n),i.instance=u;case"stylesheet":f=Eo(o.href);var g=n.querySelector(mu(f));if(g)return i.state.loading|=4,i.instance=g,Ee(g),g;u=zE(o),(f=Kn.get(f))&&lg(u,f),g=(n.ownerDocument||n).createElement("link"),Ee(g);var E=g;return E._p=new Promise(function(b,I){E.onload=b,E.onerror=I}),Ze(g,"link",u),i.state.loading|=4,Uh(g,o.precedence,n),i.instance=g;case"script":return g=To(o.src),(f=n.querySelector(gu(g)))?(i.instance=f,Ee(f),f):(u=o,(f=Kn.get(g))&&(u=_({},o),ug(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ee(f),Ze(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Uh(u,o.precedence,n));return i.instance}function Uh(n,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===i)g=b;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function lg(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function ug(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Bh=null;function FE(n,i,o){if(Bh===null){var u=new Map,f=Bh=new Map;f.set(o,u)}else f=Bh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var g=o[f];if(!(g[Ss]||g[Ne]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(i)||"";E=n+E;var b=u.get(E);b?b.push(g):u.set(E,[g])}}return u}function jE(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function zR(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function GE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var pu=null;function qR(){}function FR(n,i,o){if(pu===null)throw Error(r(475));var u=pu;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Eo(o.href),g=n.querySelector(mu(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=zh.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=g,Ee(g);return}g=n.ownerDocument||n,o=zE(o),(f=Kn.get(f))&&lg(o,f),g=g.createElement("link"),Ee(g);var E=g;E._p=new Promise(function(b,I){E.onload=b,E.onerror=I}),Ze(g,"link",o),i.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=zh.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function jR(){if(pu===null)throw Error(r(475));var n=pu;return n.stylesheets&&n.count===0&&cg(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&cg(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function zh(){if(this.count--,this.count===0){if(this.stylesheets)cg(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var qh=null;function cg(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,qh=new Map,i.forEach(GR,n),qh=null,zh.call(n))}function GR(n,i){if(!(i.state.loading&4)){var o=qh.get(n);if(o)var u=o.get(null);else{o=new Map,qh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=i.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=zh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var yu={$$typeof:Z,Provider:null,Consumer:null,_currentValue:vt,_currentValue2:vt,_threadCount:0};function HR(n,i,o,u,f,g,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.hiddenUpdates=Vr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function HE(n,i,o,u,f,g,E,b,I,F,X,W){return n=new HR(n,i,o,E,b,I,F,W),i=1,g===!0&&(i|=24),g=Rn(3,null,null,i),n.current=g,g.stateNode=n,i=Hd(),i.refCount++,n.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:i},$d(g),n}function KE(n){return n?(n=Za,n):Za}function QE(n,i,o,u,f,g){f=KE(f),u.context===null?u.context=f:u.pendingContext=f,u=Si(i),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Ri(n,u,i),o!==null&&(Vn(o,n,i),Ql(o,n,i))}function YE(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function hg(n,i){YE(n,i),(n=n.alternate)&&YE(n,i)}function $E(n){if(n.tag===13){var i=Xa(n,67108864);i!==null&&Vn(i,n,67108864),hg(n,67108864)}}var Fh=!0;function KR(n,i,o,u){var f=$.T;$.T=null;var g=ut.p;try{ut.p=2,fg(n,i,o,u)}finally{ut.p=g,$.T=f}}function QR(n,i,o,u){var f=$.T;$.T=null;var g=ut.p;try{ut.p=8,fg(n,i,o,u)}finally{ut.p=g,$.T=f}}function fg(n,i,o,u){if(Fh){var f=dg(u);if(f===null)Wm(n,i,u,jh,o),ZE(n,u);else if($R(f,n,i,o,u))u.stopPropagation();else if(ZE(n,u),i&4&&-1<YR.indexOf(n)){for(;f!==null;){var g=ir(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=$n(g.pendingLanes);if(E!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var I=1<<31-en(E);b.entanglements[1]|=I,E&=~I}_r(g),(Qt&6)===0&&(Rh=Mn()+500,cu(0))}}break;case 13:b=Xa(g,2),b!==null&&Vn(b,g,2),Dh(),hg(g,2)}if(g=dg(u),g===null&&Wm(n,i,u,jh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Wm(n,i,u,null,o)}}function dg(n){return n=kn(n),mg(n)}var jh=null;function mg(n){if(jh=null,n=Or(n),n!==null){var i=l(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=c(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return jh=n,null}function XE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yd()){case gl:return 2;case Ca:return 8;case Es:case _d:return 32;case xa:return 268435456;default:return 32}default:return 32}}var gg=!1,Bi=null,zi=null,qi=null,_u=new Map,vu=new Map,Fi=[],YR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZE(n,i){switch(n){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":_u.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(i.pointerId)}}function Eu(n,i,o,u,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},i!==null&&(i=ir(i),i!==null&&$E(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function $R(n,i,o,u,f){switch(i){case"focusin":return Bi=Eu(Bi,n,i,o,u,f),!0;case"dragenter":return zi=Eu(zi,n,i,o,u,f),!0;case"mouseover":return qi=Eu(qi,n,i,o,u,f),!0;case"pointerover":var g=f.pointerId;return _u.set(g,Eu(_u.get(g)||null,n,i,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,vu.set(g,Eu(vu.get(g)||null,n,i,o,u,f)),!0}return!1}function JE(n){var i=Or(n.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){n.blockedOn=i,Dc(n.priority,function(){if(o.tag===13){var u=xn();u=pi(u);var f=Xa(o,u);f!==null&&Vn(f,o,u),hg(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=dg(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);kr=u,o.target.dispatchEvent(u),kr=null}else return i=ir(o),i!==null&&$E(i),n.blockedOn=o,!1;i.shift()}return!0}function WE(n,i,o){Gh(n)&&o.delete(i)}function XR(){gg=!1,Bi!==null&&Gh(Bi)&&(Bi=null),zi!==null&&Gh(zi)&&(zi=null),qi!==null&&Gh(qi)&&(qi=null),_u.forEach(WE),vu.forEach(WE)}function Hh(n,i){n.blockedOn===i&&(n.blockedOn=null,gg||(gg=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,XR)))}var Kh=null;function tT(n){Kh!==n&&(Kh=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Kh===n&&(Kh=null);for(var i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(mg(u||o)===null)continue;break}var g=ir(o);g!==null&&(n.splice(i,3),i-=3,mm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Tu(n){function i(I){return Hh(I,n)}Bi!==null&&Hh(Bi,n),zi!==null&&Hh(zi,n),qi!==null&&Hh(qi,n),_u.forEach(i),vu.forEach(i);for(var o=0;o<Fi.length;o++){var u=Fi[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Fi.length&&(o=Fi[0],o.blockedOn===null);)JE(o),o.blockedOn===null&&Fi.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[Re]||null;if(typeof g=="function")E||tT(o);else if(E){var b=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[Re]||null)b=E.formAction;else if(mg(f)!==null)continue}else b=E.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),tT(o)}}}function pg(n){this._internalRoot=n}Qh.prototype.render=pg.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,u=xn();QE(o,u,n,i,null,null)},Qh.prototype.unmount=pg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;QE(n.current,2,null,n,null,null),Dh(),i[Pn]=null}};function Qh(n){this._internalRoot=n}Qh.prototype.unstable_scheduleHydration=function(n){if(n){var i=yi();n={blockedOn:null,target:n,priority:i};for(var o=0;o<Fi.length&&i!==0&&i<Fi[o].priority;o++);Fi.splice(o,0,n),o===0&&JE(n)}};var eT=t.version;if(eT!=="19.1.0")throw Error(r(527,eT,"19.1.0"));ut.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=m(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var ZR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{pe=Yh.inject(ZR),Kt=Yh}catch{}}return Au.createRoot=function(n,i){if(!a(n))throw Error(r(299));var o=!1,u="",f=yv,g=_v,E=vv,b=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=HE(n,1,!1,null,null,o,u,f,g,E,b,null),n[Pn]=i.current,Jm(n),new pg(i)},Au.hydrateRoot=function(n,i,o){if(!a(n))throw Error(r(299));var u=!1,f="",g=yv,E=_v,b=vv,I=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),i=HE(n,1,!0,i,o??null,u,f,g,E,b,I,F),i.context=KE(null),o=i.current,u=xn(),u=pi(u),f=Si(u),f.callback=null,Ri(o,f,u),o=u,i.current.lanes=o,Nr(i,o),_r(i),n[Pn]=i.current,Jm(n),new Qh(i)},Au.version="19.1.0",Au}var hT;function oI(){if(hT)return vg.exports;hT=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),vg.exports=aI(),vg.exports}var lI=oI(),wu={},fT;function uI(){if(fT)return wu;fT=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.parse=c,wu.serialize=p;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function c(A,D){const N=new l,G=A.length;if(G<2)return N;const U=(D==null?void 0:D.decode)||_;let Y=0;do{const st=A.indexOf("=",Y);if(st===-1)break;const Z=A.indexOf(";",Y),mt=Z===-1?G:Z;if(st>mt){Y=A.lastIndexOf(";",st-1)+1;continue}const ft=d(A,Y,st),Et=m(A,st,ft),x=A.slice(ft,Et);if(N[x]===void 0){let S=d(A,st+1,mt),R=m(A,mt,S);const M=U(A.slice(S,R));N[x]=M}Y=mt+1}while(Y<G);return N}function d(A,D,N){do{const G=A.charCodeAt(D);if(G!==32&&G!==9)return D}while(++D<N);return N}function m(A,D,N){for(;D>N;){const G=A.charCodeAt(--D);if(G!==32&&G!==9)return D+1}return N}function p(A,D,N){const G=(N==null?void 0:N.encode)||encodeURIComponent;if(!s.test(A))throw new TypeError(`argument name is invalid: ${A}`);const U=G(D);if(!t.test(U))throw new TypeError(`argument val is invalid: ${D}`);let Y=A+"="+U;if(!N)return Y;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);Y+="; Max-Age="+N.maxAge}if(N.domain){if(!e.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);Y+="; Domain="+N.domain}if(N.path){if(!r.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);Y+="; Path="+N.path}if(N.expires){if(!T(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);Y+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(Y+="; HttpOnly"),N.secure&&(Y+="; Secure"),N.partitioned&&(Y+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return Y}function _(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function T(A){return a.call(A)==="[object Date]"}return wu}uI();var dT="popstate";function cI(s={}){function t(r,a){let{pathname:l,search:c,hash:d}=r.location;return Ug("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(r,a){return typeof a=="string"?a:Fu(a)}return fI(t,e,null,s)}function de(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Sr(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hI(){return Math.random().toString(36).substring(2,10)}function mT(s,t){return{usr:s.state,key:s.key,idx:t}}function Ug(s,t,e=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?il(t):t,state:e,key:t&&t.key||r||hI()}}function Fu({pathname:s="/",search:t="",hash:e=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(s+=e.charAt(0)==="#"?e:"#"+e),s}function il(s){let t={};if(s){let e=s.indexOf("#");e>=0&&(t.hash=s.substring(e),s=s.substring(0,e));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function fI(s,t,e,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",m=null,p=_();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let U=_(),Y=U==null?null:U-p;p=U,m&&m({action:d,location:G.location,delta:Y})}function A(U,Y){d="PUSH";let st=Ug(G.location,U,Y);p=_()+1;let Z=mT(st,p),mt=G.createHref(st);try{c.pushState(Z,"",mt)}catch(ft){if(ft instanceof DOMException&&ft.name==="DataCloneError")throw ft;a.location.assign(mt)}l&&m&&m({action:d,location:G.location,delta:1})}function D(U,Y){d="REPLACE";let st=Ug(G.location,U,Y);p=_();let Z=mT(st,p),mt=G.createHref(st);c.replaceState(Z,"",mt),l&&m&&m({action:d,location:G.location,delta:0})}function N(U){let Y=a.location.origin!=="null"?a.location.origin:a.location.href,st=typeof U=="string"?U:Fu(U);return st=st.replace(/ $/,"%20"),de(Y,`No window.location.(origin|href) available to create URL for href: ${st}`),new URL(st,Y)}let G={get action(){return d},get location(){return s(a,c)},listen(U){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(dT,T),m=U,()=>{a.removeEventListener(dT,T),m=null}},createHref(U){return t(a,U)},createURL:N,encodeLocation(U){let Y=N(U);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:A,replace:D,go(U){return c.go(U)}};return G}function ib(s,t,e="/"){return dI(s,t,e,!1)}function dI(s,t,e,r){let a=typeof t=="string"?il(t):t,l=si(a.pathname||"/",e);if(l==null)return null;let c=sb(s);mI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=SI(l);d=AI(c[m],p,r)}return d}function sb(s,t=[],e=[],r=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(de(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=ri([r,m.relativePath]),_=e.concat(m);l.children&&l.children.length>0&&(de(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),sb(l.children,t,_,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:TI(p,l.index),routesMeta:_})};return s.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of ab(l.path))a(l,c,m)}),t}function ab(s){let t=s.split("/");if(t.length===0)return[];let[e,...r]=t,a=e.endsWith("?"),l=e.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=ab(r.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>s.startsWith("/")&&m===""?"/":m)}function mI(s){s.sort((t,e)=>t.score!==e.score?e.score-t.score:bI(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var gI=/^:[\w-]+$/,pI=3,yI=2,_I=1,vI=10,EI=-2,gT=s=>s==="*";function TI(s,t){let e=s.split("/"),r=e.length;return e.some(gT)&&(r+=EI),t&&(r+=yI),e.filter(a=>!gT(a)).reduce((a,l)=>a+(gI.test(l)?pI:l===""?_I:vI),r)}function bI(s,t){return s.length===t.length&&s.slice(0,-1).every((r,a)=>r===t[a])?s[s.length-1]-t[t.length-1]:0}function AI(s,t,e=!1){let{routesMeta:r}=s,a={},l="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],p=d===r.length-1,_=l==="/"?t:t.slice(l.length)||"/",T=pf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},_),A=m.route;if(!T&&p&&e&&!r[r.length-1].route.index&&(T=pf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:ri([l,T.pathname]),pathnameBase:CI(ri([l,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(l=ri([l,T.pathnameBase]))}return c}function pf(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[e,r]=wI(s.path,s.caseSensitive,s.end),a=t.match(e);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:T},A)=>{if(_==="*"){let N=d[A]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const D=d[A];return T&&!D?p[_]=void 0:p[_]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:s}}function wI(s,t=!1,e=!0){Sr(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function SI(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sr(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function si(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=s.charAt(e);return r&&r!=="/"?null:s.slice(e)||"/"}function RI(s,t="/"){let{pathname:e,search:r="",hash:a=""}=typeof s=="string"?il(s):s;return{pathname:e?e.startsWith("/")?e:II(e,t):t,search:xI(r),hash:VI(a)}}function II(s,t){let e=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function Ag(s,t,e,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DI(s){return s.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function ob(s){let t=DI(s);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function lb(s,t,e,r=!1){let a;typeof s=="string"?a=il(s):(a={...s},de(!a.pathname||!a.pathname.includes("?"),Ag("?","pathname","search",a)),de(!a.pathname||!a.pathname.includes("#"),Ag("#","pathname","hash",a)),de(!a.search||!a.search.includes("#"),Ag("#","search","hash",a)));let l=s===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=e;else{let T=t.length-1;if(!r&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),T-=1;a.pathname=A.join("/")}d=T>=0?t[T]:"/"}let m=RI(a,d),p=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&e.endsWith("/");return!m.pathname.endsWith("/")&&(p||_)&&(m.pathname+="/"),m}var ri=s=>s.join("/").replace(/\/\/+/g,"/"),CI=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),xI=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,VI=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function NI(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var ub=["POST","PUT","PATCH","DELETE"];new Set(ub);var OI=["GET",...ub];new Set(OI);var sl=tt.createContext(null);sl.displayName="DataRouter";var qf=tt.createContext(null);qf.displayName="DataRouterState";var cb=tt.createContext({isTransitioning:!1});cb.displayName="ViewTransition";var MI=tt.createContext(new Map);MI.displayName="Fetchers";var PI=tt.createContext(null);PI.displayName="Await";var Cr=tt.createContext(null);Cr.displayName="Navigation";var lc=tt.createContext(null);lc.displayName="Location";var ci=tt.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var Tp=tt.createContext(null);Tp.displayName="RouteError";function LI(s,{relative:t}={}){de(uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=tt.useContext(Cr),{hash:a,pathname:l,search:c}=cc(s,{relative:t}),d=l;return e!=="/"&&(d=l==="/"?e:ri([e,l])),r.createHref({pathname:d,search:c,hash:a})}function uc(){return tt.useContext(lc)!=null}function Aa(){return de(uc(),"useLocation() may be used only in the context of a <Router> component."),tt.useContext(lc).location}var hb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fb(s){tt.useContext(Cr).static||tt.useLayoutEffect(s)}function kI(){let{isDataRoute:s}=tt.useContext(ci);return s?XI():UI()}function UI(){de(uc(),"useNavigate() may be used only in the context of a <Router> component.");let s=tt.useContext(sl),{basename:t,navigator:e}=tt.useContext(Cr),{matches:r}=tt.useContext(ci),{pathname:a}=Aa(),l=JSON.stringify(ob(r)),c=tt.useRef(!1);return fb(()=>{c.current=!0}),tt.useCallback((m,p={})=>{if(Sr(c.current,hb),!c.current)return;if(typeof m=="number"){e.go(m);return}let _=lb(m,JSON.parse(l),a,p.relative==="path");s==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:ri([t,_.pathname])),(p.replace?e.replace:e.push)(_,p.state,p)},[t,e,l,a,s])}tt.createContext(null);function cc(s,{relative:t}={}){let{matches:e}=tt.useContext(ci),{pathname:r}=Aa(),a=JSON.stringify(ob(e));return tt.useMemo(()=>lb(s,JSON.parse(a),r,t==="path"),[s,a,r,t])}function BI(s,t){return db(s,t)}function db(s,t,e,r){var st;de(uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=tt.useContext(Cr),{matches:c}=tt.useContext(ci),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let Z=T&&T.path||"";mb(p,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let A=Aa(),D;if(t){let Z=typeof t=="string"?il(t):t;de(_==="/"||((st=Z.pathname)==null?void 0:st.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),D=Z}else D=A;let N=D.pathname||"/",G=N;if(_!=="/"){let Z=_.replace(/^\//,"").split("/");G="/"+N.replace(/^\//,"").split("/").slice(Z.length).join("/")}let U=!l&&e&&e.matches&&e.matches.length>0?e.matches:ib(s,{pathname:G});Sr(T||U!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Sr(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=GI(U&&U.map(Z=>Object.assign({},Z,{params:Object.assign({},m,Z.params),pathname:ri([_,a.encodeLocation?a.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?_:ri([_,a.encodeLocation?a.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),c,e,r);return t&&Y?tt.createElement(lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},Y):Y}function zI(){let s=$I(),t=NI(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),e=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",s),c=tt.createElement(tt.Fragment,null,tt.createElement("p",null," Hey developer "),tt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",tt.createElement("code",{style:l},"ErrorBoundary")," or"," ",tt.createElement("code",{style:l},"errorElement")," prop on your route.")),tt.createElement(tt.Fragment,null,tt.createElement("h2",null,"Unexpected Application Error!"),tt.createElement("h3",{style:{fontStyle:"italic"}},t),e?tt.createElement("pre",{style:a},e):null,c)}var qI=tt.createElement(zI,null),FI=class extends tt.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?tt.createElement(ci.Provider,{value:this.props.routeContext},tt.createElement(Tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jI({routeContext:s,match:t,children:e}){let r=tt.useContext(sl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),tt.createElement(ci.Provider,{value:s},e)}function GI(s,t=[],e=null,r=null){if(s==null){if(!e)return null;if(e.errors)s=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)s=e.matches;else return null}let a=s,l=e==null?void 0:e.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);de(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(e)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:_,errors:T}=e,A=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||A){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,_)=>{let T,A=!1,D=null,N=null;e&&(T=l&&p.route.id?l[p.route.id]:void 0,D=p.route.errorElement||qI,c&&(d<0&&_===0?(mb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,N=null):d===_&&(A=!0,N=p.route.hydrateFallbackElement||null)));let G=t.concat(a.slice(0,_+1)),U=()=>{let Y;return T?Y=D:A?Y=N:p.route.Component?Y=tt.createElement(p.route.Component,null):p.route.element?Y=p.route.element:Y=m,tt.createElement(jI,{match:p,routeContext:{outlet:m,matches:G,isDataRoute:e!=null},children:Y})};return e&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?tt.createElement(FI,{location:e.location,revalidation:e.revalidation,component:D,error:T,children:U(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):U()},null)}function bp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HI(s){let t=tt.useContext(sl);return de(t,bp(s)),t}function KI(s){let t=tt.useContext(qf);return de(t,bp(s)),t}function QI(s){let t=tt.useContext(ci);return de(t,bp(s)),t}function Ap(s){let t=QI(s),e=t.matches[t.matches.length-1];return de(e.route.id,`${s} can only be used on routes that contain a unique "id"`),e.route.id}function YI(){return Ap("useRouteId")}function $I(){var r;let s=tt.useContext(Tp),t=KI("useRouteError"),e=Ap("useRouteError");return s!==void 0?s:(r=t.errors)==null?void 0:r[e]}function XI(){let{router:s}=HI("useNavigate"),t=Ap("useNavigate"),e=tt.useRef(!1);return fb(()=>{e.current=!0}),tt.useCallback(async(a,l={})=>{Sr(e.current,hb),e.current&&(typeof a=="number"?s.navigate(a):await s.navigate(a,{fromRouteId:t,...l}))},[s,t])}var pT={};function mb(s,t,e){!t&&!pT[s]&&(pT[s]=!0,Sr(!1,e))}tt.memo(ZI);function ZI({routes:s,future:t,state:e}){return db(s,void 0,e,t)}function Bg(s){de(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JI({basename:s="/",children:t=null,location:e,navigationType:r="POP",navigator:a,static:l=!1}){de(!uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=s.replace(/^\/*/,"/"),d=tt.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof e=="string"&&(e=il(e));let{pathname:m="/",search:p="",hash:_="",state:T=null,key:A="default"}=e,D=tt.useMemo(()=>{let N=si(m,c);return N==null?null:{location:{pathname:N,search:p,hash:_,state:T,key:A},navigationType:r}},[c,m,p,_,T,A,r]);return Sr(D!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:tt.createElement(Cr.Provider,{value:d},tt.createElement(lc.Provider,{children:t,value:D}))}function WI({children:s,location:t}){return BI(zg(s),t)}function zg(s,t=[]){let e=[];return tt.Children.forEach(s,(r,a)=>{if(!tt.isValidElement(r))return;let l=[...t,a];if(r.type===tt.Fragment){e.push.apply(e,zg(r.props.children,l));return}de(r.type===Bg,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),de(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=zg(r.props.children,l)),e.push(c)}),e}var rf="get",sf="application/x-www-form-urlencoded";function Ff(s){return s!=null&&typeof s.tagName=="string"}function t1(s){return Ff(s)&&s.tagName.toLowerCase()==="button"}function e1(s){return Ff(s)&&s.tagName.toLowerCase()==="form"}function n1(s){return Ff(s)&&s.tagName.toLowerCase()==="input"}function r1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function i1(s,t){return s.button===0&&(!t||t==="_self")&&!r1(s)}var $h=null;function s1(){if($h===null)try{new FormData(document.createElement("form"),0),$h=!1}catch{$h=!0}return $h}var a1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wg(s){return s!=null&&!a1.has(s)?(Sr(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sf}"`),null):s}function o1(s,t){let e,r,a,l,c;if(e1(s)){let d=s.getAttribute("action");r=d?si(d,t):null,e=s.getAttribute("method")||rf,a=wg(s.getAttribute("enctype"))||sf,l=new FormData(s)}else if(t1(s)||n1(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||d.getAttribute("action");if(r=m?si(m,t):null,e=s.getAttribute("formmethod")||d.getAttribute("method")||rf,a=wg(s.getAttribute("formenctype"))||wg(d.getAttribute("enctype"))||sf,l=new FormData(d,s),!s1()){let{name:p,type:_,value:T}=s;if(_==="image"){let A=p?`${p}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else p&&l.append(p,T)}}else{if(Ff(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=rf,r=null,a=sf,c=s}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:e.toLowerCase(),encType:a,formData:l,body:c}}function wp(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function l1(s,t){if(s.id in t)return t[s.id];try{let e=await import(s.module);return t[s.id]=e,e}catch(e){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function c1(s,t,e){let r=await Promise.all(s.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await l1(l,e);return c.links?c.links():[]}return[]}));return m1(r.flat(1).filter(u1).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function yT(s,t,e,r,a,l){let c=(m,p)=>e[p]?m.route.id!==e[p].route.id:!0,d=(m,p)=>{var _;return e[p].pathname!==m.pathname||((_=e[p].route.path)==null?void 0:_.endsWith("*"))&&e[p].params["*"]!==m.params["*"]};return l==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?t.filter((m,p)=>{var T;let _=r.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let A=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=e[0])==null?void 0:T.params)||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function h1(s,t,{includeHydrateFallback:e}={}){return f1(s.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function f1(s){return[...new Set(s)]}function d1(s){let t={},e=Object.keys(s).sort();for(let r of e)t[r]=s[r];return t}function m1(s,t){let e=new Set;return new Set(t),s.reduce((r,a)=>{let l=JSON.stringify(d1(a));return e.has(l)||(e.add(l),r.push({key:l,link:a})),r},[])}var g1=new Set([100,101,204,205]);function p1(s,t){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":t&&si(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function gb(){let s=tt.useContext(sl);return wp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function y1(){let s=tt.useContext(qf);return wp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Sp=tt.createContext(void 0);Sp.displayName="FrameworkContext";function pb(){let s=tt.useContext(Sp);return wp(s,"You must render this element inside a <HydratedRouter> element"),s}function _1(s,t){let e=tt.useContext(Sp),[r,a]=tt.useState(!1),[l,c]=tt.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:_,onTouchStart:T}=t,A=tt.useRef(null);tt.useEffect(()=>{if(s==="render"&&c(!0),s==="viewport"){let G=Y=>{Y.forEach(st=>{c(st.isIntersecting)})},U=new IntersectionObserver(G,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[s]),tt.useEffect(()=>{if(r){let G=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(G)}}},[r]);let D=()=>{a(!0)},N=()=>{a(!1),c(!1)};return e?s!=="intent"?[l,A,{}]:[l,A,{onFocus:Su(d,D),onBlur:Su(m,N),onMouseEnter:Su(p,D),onMouseLeave:Su(_,N),onTouchStart:Su(T,D)}]:[!1,A,{}]}function Su(s,t){return e=>{s&&s(e),e.defaultPrevented||t(e)}}function v1({page:s,...t}){let{router:e}=gb(),r=tt.useMemo(()=>ib(e.routes,s,e.basename),[e.routes,s,e.basename]);return r?tt.createElement(T1,{page:s,matches:r,...t}):null}function E1(s){let{manifest:t,routeModules:e}=pb(),[r,a]=tt.useState([]);return tt.useEffect(()=>{let l=!1;return c1(s,t,e).then(c=>{l||a(c)}),()=>{l=!0}},[s,t,e]),r}function T1({page:s,matches:t,...e}){let r=Aa(),{manifest:a,routeModules:l}=pb(),{basename:c}=gb(),{loaderData:d,matches:m}=y1(),p=tt.useMemo(()=>yT(s,t,m,a,r,"data"),[s,t,m,a,r]),_=tt.useMemo(()=>yT(s,t,m,a,r,"assets"),[s,t,m,a,r]),T=tt.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let N=new Set,G=!1;if(t.forEach(Y=>{var Z;let st=a.routes[Y.route.id];!st||!st.hasLoader||(!p.some(mt=>mt.route.id===Y.route.id)&&Y.route.id in d&&((Z=l[Y.route.id])!=null&&Z.shouldRevalidate)||st.hasClientLoader?G=!0:N.add(Y.route.id))}),N.size===0)return[];let U=p1(s,c);return G&&N.size>0&&U.searchParams.set("_routes",t.filter(Y=>N.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[U.pathname+U.search]},[c,d,r,a,p,t,s,l]),A=tt.useMemo(()=>h1(_,a),[_,a]),D=E1(_);return tt.createElement(tt.Fragment,null,T.map(N=>tt.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...e})),A.map(N=>tt.createElement("link",{key:N,rel:"modulepreload",href:N,...e})),D.map(({key:N,link:G})=>tt.createElement("link",{key:N,...G})))}function b1(...s){return t=>{s.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var yb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yb&&(window.__reactRouterVersion="7.5.3")}catch{}function A1({basename:s,children:t,window:e}){let r=tt.useRef();r.current==null&&(r.current=cI({window:e,v5Compat:!0}));let a=r.current,[l,c]=tt.useState({action:a.action,location:a.location}),d=tt.useCallback(m=>{tt.startTransition(()=>c(m))},[c]);return tt.useLayoutEffect(()=>a.listen(d),[a,d]),tt.createElement(JI,{basename:s,children:t,location:l.location,navigationType:l.action,navigator:a})}var _b=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vb=tt.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:_,viewTransition:T,...A},D){let{basename:N}=tt.useContext(Cr),G=typeof p=="string"&&_b.test(p),U,Y=!1;if(typeof p=="string"&&G&&(U=p,yb))try{let R=new URL(window.location.href),M=p.startsWith("//")?new URL(R.protocol+p):new URL(p),P=si(M.pathname,N);M.origin===R.origin&&P!=null?p=P+M.search+M.hash:Y=!0}catch{Sr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let st=LI(p,{relative:a}),[Z,mt,ft]=_1(r,A),Et=R1(p,{replace:c,state:d,target:m,preventScrollReset:_,relative:a,viewTransition:T});function x(R){t&&t(R),R.defaultPrevented||Et(R)}let S=tt.createElement("a",{...A,...ft,href:U||st,onClick:Y||l?t:x,ref:b1(D,mt),target:m,"data-discover":!G&&e==="render"?"true":void 0});return Z&&!G?tt.createElement(tt.Fragment,null,S,tt.createElement(v1,{page:st})):S});vb.displayName="Link";var qg=tt.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},_){let T=cc(c,{relative:p.relative}),A=Aa(),D=tt.useContext(qf),{navigator:N,basename:G}=tt.useContext(Cr),U=D!=null&&V1(T)&&d===!0,Y=N.encodeLocation?N.encodeLocation(T).pathname:T.pathname,st=A.pathname,Z=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;e||(st=st.toLowerCase(),Z=Z?Z.toLowerCase():null,Y=Y.toLowerCase()),Z&&G&&(Z=si(Z,G)||Z);const mt=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ft=st===Y||!a&&st.startsWith(Y)&&st.charAt(mt)==="/",Et=Z!=null&&(Z===Y||!a&&Z.startsWith(Y)&&Z.charAt(Y.length)==="/"),x={isActive:ft,isPending:Et,isTransitioning:U},S=ft?t:void 0,R;typeof r=="function"?R=r(x):R=[r,ft?"active":null,Et?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(x):l;return tt.createElement(vb,{...p,"aria-current":S,className:R,ref:_,style:M,to:c,viewTransition:d},typeof m=="function"?m(x):m)});qg.displayName="NavLink";var w1=tt.forwardRef(({discover:s="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:a,state:l,method:c=rf,action:d,onSubmit:m,relative:p,preventScrollReset:_,viewTransition:T,...A},D)=>{let N=C1(),G=x1(d,{relative:p}),U=c.toLowerCase()==="get"?"get":"post",Y=typeof d=="string"&&_b.test(d),st=Z=>{if(m&&m(Z),Z.defaultPrevented)return;Z.preventDefault();let mt=Z.nativeEvent.submitter,ft=(mt==null?void 0:mt.getAttribute("formmethod"))||c;N(mt||Z.currentTarget,{fetcherKey:t,method:ft,navigate:e,replace:a,state:l,relative:p,preventScrollReset:_,viewTransition:T})};return tt.createElement("form",{ref:D,method:U,action:G,onSubmit:r?m:st,...A,"data-discover":!Y&&s==="render"?"true":void 0})});w1.displayName="Form";function S1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Eb(s){let t=tt.useContext(sl);return de(t,S1(s)),t}function R1(s,{target:t,replace:e,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=kI(),m=Aa(),p=cc(s,{relative:l});return tt.useCallback(_=>{if(i1(_,t)){_.preventDefault();let T=e!==void 0?e:Fu(m)===Fu(p);d(s,{replace:T,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,e,r,t,s,a,l,c])}var I1=0,D1=()=>`__${String(++I1)}__`;function C1(){let{router:s}=Eb("useSubmit"),{basename:t}=tt.useContext(Cr),e=YI();return tt.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=o1(r,t);if(a.navigate===!1){let _=a.fetcherKey||D1();await s.fetch(_,e,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await s.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[s,t,e])}function x1(s,{relative:t}={}){let{basename:e}=tt.useContext(Cr),r=tt.useContext(ci);de(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...cc(s||".",{relative:t})},c=Aa();if(s==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!s||s===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:ri([e,l.pathname])),Fu(l)}function V1(s,t={}){let e=tt.useContext(cb);de(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Eb("useViewTransitionState"),a=cc(s,{relative:t.relative});if(!e.isTransitioning)return!1;let l=si(e.currentLocation.pathname,r)||e.currentLocation.pathname,c=si(e.nextLocation.pathname,r)||e.nextLocation.pathname;return pf(a.pathname,c)!=null||pf(a.pathname,l)!=null}new TextEncoder;[...g1];const N1="https://xipeRafa.github.io/notassueltas/assets/rc1-CHY_KE40.png";function O1(){return it.jsxs("footer",{children:["CONTACTO:",it.jsx("br",{}),"info  ",it.jsx("span",{children:" 662 111 1111"}),it.jsx("br",{}),it.jsx("hr",{}),"correo@gmail.com ",it.jsx("br",{}),it.jsx("br",{}),it.jsx("a",{href:"",target:"_blank",children:"FACEBOOK "}),it.jsx("hr",{}),"Horario: ",it.jsx("br",{}),"Lunes a Viernes de 8 am a 8 pm ",it.jsx("br",{}),"Sabados de 8 am a 4 pm",it.jsx("br",{}),it.jsx("hr",{}),"hello!!!",it.jsx("br",{}),"Hermosillo, Sonora ",it.jsx("br",{})]})}function M1(){const[s,t]=tt.useState(!0),e=window.innerWidth,r=()=>{e<999&&t(!0)};return it.jsxs("div",{className:"navBar",children:[it.jsxs("div",{onClick:()=>t(!s),className:"hamburger",children:[it.jsxs("div",{className:"menu-bar",children:[it.jsx("div",{className:"uno"}),it.jsx("div",{className:"dos"}),it.jsx("div",{className:"tres"})]}),it.jsx("span",{className:"menuX",children:s?"MENU":""})]}),it.jsxs("div",{className:s?"menu ":"menu display",onClick:r,children:[it.jsx(qg,{to:"/notassueltas",onClick:()=>window.scrollTo(0,0),children:" Inicio "}),it.jsx(qg,{to:"/notassueltas/CENACULOS",onClick:()=>window.scrollTo(0,0),children:" holis "})]})]})}const P1="https://xipeRafa.github.io/notassueltas/assets/mom-C6ZqROTu.webp",L1="https://xipeRafa.github.io/notassueltas/assets/large-CnfOGzzs.webp";function k1(){return it.jsx(it.Fragment,{children:it.jsxs("header",{children:[it.jsx("h2",{children:"NOTAS SUELTAS"}),it.jsx("span",{children:"* NS *"}),it.jsx("br",{}),it.jsx("br",{}),it.jsx("p",{children:"Ready to Build !!"}),it.jsxs("div",{className:"sombra imgsHeader",children:[it.jsx("img",{className:"imgsHeader1",src:L1}),it.jsx("img",{className:"imgsHeader2",src:P1})]}),it.jsx("br",{}),it.jsx("p",{children:'"La vida es muy peligrosa. No por las personas que hacen el mal, sino por las que se sientan a ver lo que pasa". Albert Einstein.'}),it.jsx("p",{children:'"Cuando las oportunidades no llamen a tu puerta, construye una". Milton Berle.'}),it.jsx("p",{children:'"La vida es un viaje de autodescubrimiento, atrvete a explorar". Anas Nin.'}),it.jsx("p",{children:'La vida es la constante sorpresa de saber que existo". R. Tagore.'})]})})}const U1=()=>{};var _T={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=function(s){const t=[];let e=0;for(let r=0;r<s.length;r++){let a=s.charCodeAt(r);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++r)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},B1=function(s){const t=[];let e=0,r=0;for(;e<s.length;){const a=s[e++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=s[e++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=s[e++],c=s[e++],d=s[e++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=s[e++],c=s[e++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},bb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<s.length;a+=3){const l=s[a],c=a+1<s.length,d=c?s[a+1]:0,m=a+2<s.length,p=m?s[a+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let A=(d&15)<<2|p>>6,D=p&63;m||(D=64,c||(A=64)),r.push(e[_],e[T],e[A],e[D])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Tb(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):B1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<s.length;){const l=e[s.charAt(a++)],d=a<s.length?e[s.charAt(a)]:0;++a;const p=a<s.length?e[s.charAt(a)]:64;++a;const T=a<s.length?e[s.charAt(a)]:64;if(++a,l==null||d==null||p==null||T==null)throw new z1;const A=l<<2|d>>4;if(r.push(A),p!==64){const D=d<<4&240|p>>2;if(r.push(D),T!==64){const N=p<<6&192|T;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class z1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q1=function(s){const t=Tb(s);return bb.encodeByteArray(t,!0)},yf=function(s){return q1(s).replace(/\./g,"")},Ab=function(s){try{return bb.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function _f(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const e=t;return new Date(e.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!F1(e)||(s[e]=_f(s[e],t[e]));return s}function F1(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=()=>Rp().__FIREBASE_DEFAULTS__,G1=()=>{if(typeof process>"u"||typeof _T>"u")return;const s=_T.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},H1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Ab(s[1]);return t&&JSON.parse(t)},Ip=()=>{try{return U1()||j1()||G1()||H1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},K1=s=>{var t,e;return(e=(t=Ip())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[s]},Q1=s=>{const t=K1(s);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},wb=()=>{var s;return(s=Ip())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",a=s.iat||0,l=s.sub||s.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},s);return[yf(JSON.stringify(e)),yf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X1(){var s;const t=(s=Ip())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z1(){return typeof window<"u"||Sb()}function Sb(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Rb(){return!X1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ib(){try{return typeof indexedDB=="object"}catch{return!1}}function J1(){return new Promise((s,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(r),s(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="FirebaseError";class wa extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=W1,Object.setPrototypeOf(this,wa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jf.prototype.create)}}class jf{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?tD(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new wa(a,d,r)}}function tD(s,t){return s.replace(eD,(e,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const eD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function Po(s,t){if(s===t)return!0;const e=Object.keys(s),r=Object.keys(t);for(const a of e){if(!r.includes(a))return!1;const l=s[a],c=t[a];if(ET(l)&&ET(c)){if(!Po(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!e.includes(a))return!1;return!0}function ET(s){return s!==null&&typeof s=="object"}function nD(s,t){const e=new rD(s,t);return e.subscribe.bind(e)}class rD{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let a;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");iD(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:r},a.next===void 0&&(a.next=Sg),a.error===void 0&&(a.error=Sg),a.complete===void 0&&(a.complete=Sg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iD(s,t){if(typeof s!="object"||s===null)return!1;for(const e of t)if(e in s&&typeof s[e]=="function")return!0;return!1}function Sg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(s){return s&&s._delegate?s._delegate:s}class da{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new Y1;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oD(t))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ea){return this.instances.has(t)}getOptions(t=ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(t,e){var r;const a=this.normalizeInstanceIdentifier(e),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const a of r)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aD(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ea){return this.component?this.component.multipleInstances?t:ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aD(s){return s===ea?void 0:s}function oD(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new sD(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=[];var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const Cb={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},lD=Lt.INFO,uD={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},cD=(s,t,...e)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),a=uD[t];if(a)console[a](`[${r}]  ${s.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cp{constructor(t){this.name=t,this._logLevel=lD,this._logHandler=cD,this._userLogHandler=null,Dp.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Cb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}function hD(s){Dp.forEach(t=>{t.setLogLevel(s)})}function fD(s,t){for(const e of Dp){let r=null;t&&t.level&&(r=Cb[t.level]),s===null?e.userLogHandler=null:e.userLogHandler=(a,l,...c)=>{const d=c.map(m=>{if(m==null)return null;if(typeof m=="string")return m;if(typeof m=="number"||typeof m=="boolean")return m.toString();if(m instanceof Error)return m.message;try{return JSON.stringify(m)}catch{return null}}).filter(m=>m).join(" ");l>=(r??a.logLevel)&&s({level:Lt[l].toLowerCase(),message:d,args:c,type:a.name})}}}const dD=(s,t)=>t.some(e=>s instanceof e);let TT,bT;function mD(){return TT||(TT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gD(){return bT||(bT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xb=new WeakMap,Fg=new WeakMap,Vb=new WeakMap,Rg=new WeakMap,xp=new WeakMap;function pD(s){const t=new Promise((e,r)=>{const a=()=>{s.removeEventListener("success",l),s.removeEventListener("error",c)},l=()=>{e(Zi(s.result)),a()},c=()=>{r(s.error),a()};s.addEventListener("success",l),s.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&xb.set(e,s)}).catch(()=>{}),xp.set(t,s),t}function yD(s){if(Fg.has(s))return;const t=new Promise((e,r)=>{const a=()=>{s.removeEventListener("complete",l),s.removeEventListener("error",c),s.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{r(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",l),s.addEventListener("error",c),s.addEventListener("abort",c)});Fg.set(s,t)}let jg={get(s,t,e){if(s instanceof IDBTransaction){if(t==="done")return Fg.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Vb.get(s);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Zi(s[t])},set(s,t,e){return s[t]=e,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function _D(s){jg=s(jg)}function vD(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=s.call(Ig(this),t,...e);return Vb.set(r,t.sort?t.sort():[t]),Zi(r)}:gD().includes(s)?function(...t){return s.apply(Ig(this),t),Zi(xb.get(this))}:function(...t){return Zi(s.apply(Ig(this),t))}}function ED(s){return typeof s=="function"?vD(s):(s instanceof IDBTransaction&&yD(s),dD(s,mD())?new Proxy(s,jg):s)}function Zi(s){if(s instanceof IDBRequest)return pD(s);if(Rg.has(s))return Rg.get(s);const t=ED(s);return t!==s&&(Rg.set(s,t),xp.set(t,s)),t}const Ig=s=>xp.get(s);function TD(s,t,{blocked:e,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(s,t),d=Zi(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Zi(c.result),m.oldVersion,m.newVersion,Zi(c.transaction),m)}),e&&c.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const bD=["get","getKey","getAll","getAllKeys","count"],AD=["put","add","delete","clear"],Dg=new Map;function AT(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Dg.get(t))return Dg.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,a=AD.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(a||bD.includes(e)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[e](...d),a&&m.done]))[0]};return Dg.set(t,l),l}_D(s=>({...s,get:(t,e,r)=>AT(t,e)||s.get(t,e,r),has:(t,e)=>!!AT(t,e)||s.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(SD(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function SD(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ef="@firebase/app",Gg="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Cp("@firebase/app"),RD="@firebase/app-compat",ID="@firebase/analytics-compat",DD="@firebase/analytics",CD="@firebase/app-check-compat",xD="@firebase/app-check",VD="@firebase/auth",ND="@firebase/auth-compat",OD="@firebase/database",MD="@firebase/data-connect",PD="@firebase/database-compat",LD="@firebase/functions",kD="@firebase/functions-compat",UD="@firebase/installations",BD="@firebase/installations-compat",zD="@firebase/messaging",qD="@firebase/messaging-compat",FD="@firebase/performance",jD="@firebase/performance-compat",GD="@firebase/remote-config",HD="@firebase/remote-config-compat",KD="@firebase/storage",QD="@firebase/storage-compat",YD="@firebase/firestore",$D="@firebase/vertexai",XD="@firebase/firestore-compat",ZD="firebase",JD="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="[DEFAULT]",WD={[Ef]:"fire-core",[RD]:"fire-core-compat",[DD]:"fire-analytics",[ID]:"fire-analytics-compat",[xD]:"fire-app-check",[CD]:"fire-app-check-compat",[VD]:"fire-auth",[ND]:"fire-auth-compat",[OD]:"fire-rtdb",[MD]:"fire-data-connect",[PD]:"fire-rtdb-compat",[LD]:"fire-fn",[kD]:"fire-fn-compat",[UD]:"fire-iid",[BD]:"fire-iid-compat",[zD]:"fire-fcm",[qD]:"fire-fcm-compat",[FD]:"fire-perf",[jD]:"fire-perf-compat",[GD]:"fire-rc",[HD]:"fire-rc-compat",[KD]:"fire-gcs",[QD]:"fire-gcs-compat",[YD]:"fire-fst",[XD]:"fire-fst-compat",[$D]:"fire-vertex","fire-js":"fire-js",[ZD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Map,Lo=new Map,ko=new Map;function ju(s,t){try{s.container.addComponent(t)}catch(e){ai.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,e)}}function Nb(s,t){s.container.addOrOverwriteComponent(t)}function Uo(s){const t=s.name;if(ko.has(t))return ai.debug(`There were multiple attempts to register component ${t}.`),!1;ko.set(t,s);for(const e of ns.values())ju(e,s);for(const e of Lo.values())ju(e,s);return!0}function Vp(s,t){const e=s.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),s.container.getProvider(t)}function tC(s,t,e=es){Vp(s,t).clearInstance(e)}function Ob(s){return s.options!==void 0}function Mb(s){return s==null?!1:s.settings!==void 0}function eC(){ko.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yn=new jf("app","Firebase",nC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pb=class{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(s,t){const e=Ab(s.split(".")[1]);if(e===null){console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`);return}if(JSON.parse(e).exp===void 0){console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`);return}const a=JSON.parse(e).exp*1e3,l=new Date().getTime();a-l<=0&&console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}class rC extends Pb{constructor(t,e,r,a){const l=e.automaticDataCollectionEnabled!==void 0?e.automaticDataCollectionEnabled:!1,c={name:r,automaticDataCollectionEnabled:l};if(t.apiKey!==void 0)super(t,c,a);else{const d=t;super(d.options,c,a)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:l},e),this._serverConfig.authIdToken&&wT(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&wT(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,e.releaseOnDeref=void 0,ii(Ef,Gg,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(t){this.isDeleted||(this._refCount++,t!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(t,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Mp(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Yn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=JD;function Op(s,t={}){let e=s;typeof t!="object"&&(t={name:t});const r=Object.assign({name:es,automaticDataCollectionEnabled:!1},t),a=r.name;if(typeof a!="string"||!a)throw Yn.create("bad-app-name",{appName:String(a)});if(e||(e=wb()),!e)throw Yn.create("no-options");const l=ns.get(a);if(l){if(Po(e,l.options)&&Po(r,l.config))return l;throw Yn.create("duplicate-app",{appName:a})}const c=new Db(a);for(const m of ko.values())c.addComponent(m);const d=new Pb(e,r,c);return ns.set(a,d),d}function iC(s,t){if(Z1()&&!Sb())throw Yn.create("invalid-server-app-environment");t.automaticDataCollectionEnabled===void 0&&(t.automaticDataCollectionEnabled=!1);let e;Ob(s)?e=s.options:e=s;const r=Object.assign(Object.assign({},t),e);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const a=p=>[...p].reduce((_,T)=>Math.imul(31,_)+T.charCodeAt(0)|0,0);if(t.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Yn.create("finalization-registry-not-supported",{});const l=""+a(JSON.stringify(r)),c=Lo.get(l);if(c)return c.incRefCount(t.releaseOnDeref),c;const d=new Db(l);for(const p of ko.values())d.addComponent(p);const m=new rC(e,t,l,d);return Lo.set(l,m),m}function Lb(s=es){const t=ns.get(s);if(!t&&s===es&&wb())return Op();if(!t)throw Yn.create("no-app",{appName:s});return t}function sC(){return Array.from(ns.values())}async function Mp(s){let t=!1;const e=s.name;ns.has(e)?(t=!0,ns.delete(e)):Lo.has(e)&&s.decRefCount()<=0&&(Lo.delete(e),t=!0),t&&(await Promise.all(s.container.getProviders().map(r=>r.delete())),s.isDeleted=!0)}function ii(s,t,e){var r;let a=(r=WD[s])!==null&&r!==void 0?r:s;e&&(a+=`-${e}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ai.warn(d.join(" "));return}Uo(new da(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}function kb(s,t){if(s!==null&&typeof s!="function")throw Yn.create("invalid-log-argument");fD(s,t)}function Ub(s){hD(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="firebase-heartbeat-database",oC=1,Gu="firebase-heartbeat-store";let Cg=null;function Bb(){return Cg||(Cg=TD(aC,oC,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Gu)}catch(e){console.warn(e)}}}}).catch(s=>{throw Yn.create("idb-open",{originalErrorMessage:s.message})})),Cg}async function lC(s){try{const e=(await Bb()).transaction(Gu),r=await e.objectStore(Gu).get(zb(s));return await e.done,r}catch(t){if(t instanceof wa)ai.warn(t.message);else{const e=Yn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ai.warn(e.message)}}}async function ST(s,t){try{const r=(await Bb()).transaction(Gu,"readwrite");await r.objectStore(Gu).put(t,zb(s)),await r.done}catch(e){if(e instanceof wa)ai.warn(e.message);else{const r=Yn.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ai.warn(r.message)}}}function zb(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=1024,cC=30;class hC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new dC(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=RT();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>cC){const c=mC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ai.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=RT(),{heartbeatsToSend:r,unsentEntries:a}=fC(this._heartbeatsCache.heartbeats),l=yf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ai.warn(e),""}}}function RT(){return new Date().toISOString().substring(0,10)}function fC(s,t=uC){const e=[];let r=s.slice();for(const a of s){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),IT(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),IT(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class dC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ib()?J1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await lC(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return ST(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return ST(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function IT(s){return yf(JSON.stringify({version:2,heartbeats:s})).length}function mC(s){if(s.length===0)return-1;let t=0,e=s[0].date;for(let r=1;r<s.length;r++)s[r].date<e&&(e=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(s){Uo(new da("platform-logger",t=>new wD(t),"PRIVATE")),Uo(new da("heartbeat",t=>new hC(t),"PRIVATE")),ii(Ef,Gg,s),ii(Ef,Gg,"esm2017"),ii("fire-js","")}gC("");const pC=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:wa,SDK_VERSION:Np,_DEFAULT_ENTRY_NAME:es,_addComponent:ju,_addOrOverwriteComponent:Nb,_apps:ns,_clearComponents:eC,_components:ko,_getProvider:Vp,_isFirebaseApp:Ob,_isFirebaseServerApp:Mb,_registerComponent:Uo,_removeServiceInstance:tC,_serverApps:Lo,deleteApp:Mp,getApp:Lb,getApps:sC,initializeApp:Op,initializeServerApp:iC,onLog:kb,registerVersion:ii,setLogLevel:Ub},Symbol.toStringTag,{value:"Module"}));var DT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,qb;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,S){function R(){}R.prototype=S.prototype,x.D=S.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(M,P,k){for(var C=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)C[Ke-2]=arguments[Ke];return S.prototype[P].apply(M,C)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,S,R){R||(R=0);var M=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)M[P]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(P=0;16>P;++P)M[P]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=x.g[0],R=x.g[1],P=x.g[2];var k=x.g[3],C=S+(k^R&(P^k))+M[0]+3614090360&4294967295;S=R+(C<<7&4294967295|C>>>25),C=k+(P^S&(R^P))+M[1]+3905402710&4294967295,k=S+(C<<12&4294967295|C>>>20),C=P+(R^k&(S^R))+M[2]+606105819&4294967295,P=k+(C<<17&4294967295|C>>>15),C=R+(S^P&(k^S))+M[3]+3250441966&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(k^R&(P^k))+M[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(P^S&(R^P))+M[5]+1200080426&4294967295,k=S+(C<<12&4294967295|C>>>20),C=P+(R^k&(S^R))+M[6]+2821735955&4294967295,P=k+(C<<17&4294967295|C>>>15),C=R+(S^P&(k^S))+M[7]+4249261313&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(k^R&(P^k))+M[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(P^S&(R^P))+M[9]+2336552879&4294967295,k=S+(C<<12&4294967295|C>>>20),C=P+(R^k&(S^R))+M[10]+4294925233&4294967295,P=k+(C<<17&4294967295|C>>>15),C=R+(S^P&(k^S))+M[11]+2304563134&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(k^R&(P^k))+M[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(P^S&(R^P))+M[13]+4254626195&4294967295,k=S+(C<<12&4294967295|C>>>20),C=P+(R^k&(S^R))+M[14]+2792965006&4294967295,P=k+(C<<17&4294967295|C>>>15),C=R+(S^P&(k^S))+M[15]+1236535329&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(P^k&(R^P))+M[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^P&(S^R))+M[6]+3225465664&4294967295,k=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(k^S))+M[11]+643717713&4294967295,P=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(P^k))+M[0]+3921069994&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^k&(R^P))+M[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^P&(S^R))+M[10]+38016083&4294967295,k=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(k^S))+M[15]+3634488961&4294967295,P=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(P^k))+M[4]+3889429448&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^k&(R^P))+M[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^P&(S^R))+M[14]+3275163606&4294967295,k=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(k^S))+M[3]+4107603335&4294967295,P=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(P^k))+M[8]+1163531501&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^k&(R^P))+M[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^P&(S^R))+M[2]+4243563512&4294967295,k=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(k^S))+M[7]+1735328473&4294967295,P=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(P^k))+M[12]+2368359562&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(R^P^k)+M[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^P)+M[8]+2272392833&4294967295,k=S+(C<<11&4294967295|C>>>21),C=P+(k^S^R)+M[11]+1839030562&4294967295,P=k+(C<<16&4294967295|C>>>16),C=R+(P^k^S)+M[14]+4259657740&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^k)+M[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^P)+M[4]+1272893353&4294967295,k=S+(C<<11&4294967295|C>>>21),C=P+(k^S^R)+M[7]+4139469664&4294967295,P=k+(C<<16&4294967295|C>>>16),C=R+(P^k^S)+M[10]+3200236656&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^k)+M[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^P)+M[0]+3936430074&4294967295,k=S+(C<<11&4294967295|C>>>21),C=P+(k^S^R)+M[3]+3572445317&4294967295,P=k+(C<<16&4294967295|C>>>16),C=R+(P^k^S)+M[6]+76029189&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^k)+M[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^P)+M[12]+3873151461&4294967295,k=S+(C<<11&4294967295|C>>>21),C=P+(k^S^R)+M[15]+530742520&4294967295,P=k+(C<<16&4294967295|C>>>16),C=R+(P^k^S)+M[2]+3299628645&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(P^(R|~k))+M[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~P))+M[7]+1126891415&4294967295,k=S+(C<<10&4294967295|C>>>22),C=P+(S^(k|~R))+M[14]+2878612391&4294967295,P=k+(C<<15&4294967295|C>>>17),C=R+(k^(P|~S))+M[5]+4237533241&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~k))+M[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~P))+M[3]+2399980690&4294967295,k=S+(C<<10&4294967295|C>>>22),C=P+(S^(k|~R))+M[10]+4293915773&4294967295,P=k+(C<<15&4294967295|C>>>17),C=R+(k^(P|~S))+M[1]+2240044497&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~k))+M[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~P))+M[15]+4264355552&4294967295,k=S+(C<<10&4294967295|C>>>22),C=P+(S^(k|~R))+M[6]+2734768916&4294967295,P=k+(C<<15&4294967295|C>>>17),C=R+(k^(P|~S))+M[13]+1309151649&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~k))+M[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~P))+M[11]+3174756917&4294967295,k=S+(C<<10&4294967295|C>>>22),C=P+(S^(k|~R))+M[2]+718787259&4294967295,P=k+(C<<15&4294967295|C>>>17),C=R+(k^(P|~S))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+k&4294967295}r.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var R=S-this.blockSize,M=this.B,P=this.h,k=0;k<S;){if(P==0)for(;k<=R;)a(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<S;)if(M[P++]=x.charCodeAt(k++),P==this.blockSize){a(this,M),P=0;break}}else for(;k<S;)if(M[P++]=x[k++],P==this.blockSize){a(this,M),P=0;break}}this.h=P,this.o+=S},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var R=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=R&255,R/=256;for(this.u(x),x=Array(16),S=R=0;4>S;++S)for(var M=0;32>M;M+=8)x[R++]=this.g[S]>>>M&255;return x};function l(x,S){var R=d;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=S(x)}function c(x,S){this.h=S;for(var R=[],M=!0,P=x.length-1;0<=P;P--){var k=x[P]|0;M&&k==S||(R[P]=k,M=!1)}this.g=R}var d={};function m(x){return-128<=x&&128>x?l(x,function(S){return new c([S|0],0>S?-1:0)}):new c([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return U(p(-x));for(var S=[],R=1,M=0;x>=R;M++)S[M]=x/R|0,R*=4294967296;return new c(S,0)}function _(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return U(_(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(S,8)),M=T,P=0;P<x.length;P+=8){var k=Math.min(8,x.length-P),C=parseInt(x.substring(P,P+k),S);8>k?(k=p(Math.pow(S,k)),M=M.j(k).add(p(C))):(M=M.j(R),M=M.add(p(C)))}return M}var T=m(0),A=m(1),D=m(16777216);s=c.prototype,s.m=function(){if(G(this))return-U(this).m();for(var x=0,S=1,R=0;R<this.g.length;R++){var M=this.i(R);x+=(0<=M?M:4294967296+M)*S,S*=4294967296}return x},s.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(N(this))return"0";if(G(this))return"-"+U(this).toString(x);for(var S=p(Math.pow(x,6)),R=this,M="";;){var P=mt(R,S).g;R=Y(R,P.j(S));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=P,N(R))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},s.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function N(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function G(x){return x.h==-1}s.l=function(x){return x=Y(this,x),G(x)?-1:N(x)?0:1};function U(x){for(var S=x.g.length,R=[],M=0;M<S;M++)R[M]=~x.g[M];return new c(R,~x.h).add(A)}s.abs=function(){return G(this)?U(this):this},s.add=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],M=0,P=0;P<=S;P++){var k=M+(this.i(P)&65535)+(x.i(P)&65535),C=(k>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);M=C>>>16,k&=65535,C&=65535,R[P]=C<<16|k}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Y(x,S){return x.add(U(S))}s.j=function(x){if(N(this)||N(x))return T;if(G(this))return G(x)?U(this).j(U(x)):U(U(this).j(x));if(G(x))return U(this.j(U(x)));if(0>this.l(D)&&0>x.l(D))return p(this.m()*x.m());for(var S=this.g.length+x.g.length,R=[],M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<x.g.length;P++){var k=this.i(M)>>>16,C=this.i(M)&65535,Ke=x.i(P)>>>16,ge=x.i(P)&65535;R[2*M+2*P]+=C*ge,st(R,2*M+2*P),R[2*M+2*P+1]+=k*ge,st(R,2*M+2*P+1),R[2*M+2*P+1]+=C*Ke,st(R,2*M+2*P+1),R[2*M+2*P+2]+=k*Ke,st(R,2*M+2*P+2)}for(M=0;M<S;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=S;M<2*S;M++)R[M]=0;return new c(R,0)};function st(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function Z(x,S){this.g=x,this.h=S}function mt(x,S){if(N(S))throw Error("division by zero");if(N(x))return new Z(T,T);if(G(x))return S=mt(U(x),S),new Z(U(S.g),U(S.h));if(G(S))return S=mt(x,U(S)),new Z(U(S.g),S.h);if(30<x.g.length){if(G(x)||G(S))throw Error("slowDivide_ only works with positive integers.");for(var R=A,M=S;0>=M.l(x);)R=ft(R),M=ft(M);var P=Et(R,1),k=Et(M,1);for(M=Et(M,2),R=Et(R,2);!N(M);){var C=k.add(M);0>=C.l(x)&&(P=P.add(R),k=C),M=Et(M,1),R=Et(R,1)}return S=Y(x,P.j(S)),new Z(P,S)}for(P=T;0<=x.l(S);){for(R=Math.max(1,Math.floor(x.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=p(R),C=k.j(S);G(C)||0<C.l(x);)R-=M,k=p(R),C=k.j(S);N(k)&&(k=A),P=P.add(k),x=Y(x,C)}return new Z(P,x)}s.A=function(x){return mt(this,x).h},s.and=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)&x.i(M);return new c(R,this.h&x.h)},s.or=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)|x.i(M);return new c(R,this.h|x.h)},s.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)^x.i(M);return new c(R,this.h^x.h)};function ft(x){for(var S=x.g.length+1,R=[],M=0;M<S;M++)R[M]=x.i(M)<<1|x.i(M-1)>>>31;return new c(R,x.h)}function Et(x,S){var R=S>>5;S%=32;for(var M=x.g.length-R,P=[],k=0;k<M;k++)P[k]=0<S?x.i(k+R)>>>S|x.i(k+R+1)<<32-S:x.i(k+R);return new c(P,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qb=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=_,Ji=c}).apply(typeof DT<"u"?DT:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fb,Vu,jb,af,Hg,Gb,Hb,Kb;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,v){return h==Array.prototype||h==Object.prototype||(h[y]=v.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=e(this);function a(h,y){if(y)t:{var v=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var B=h[w];if(!(B in v))break t;v=v[B]}h=h[h.length-1],w=v[h],y=y(w),y!=w&&y!=null&&t(v,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var v=0,w=!1,B={next:function(){if(!w&&v<h.length){var Q=v++;return{value:y(Q,h[Q]),done:!1}}return w=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function _(h,y,v){return h.call.apply(h.bind,arguments)}function T(h,y,v){if(!h)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,w),h.apply(y,B)}}return function(){return h.apply(y,arguments)}}function A(h,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,A.apply(null,arguments)}function D(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function N(h,y){function v(){}v.prototype=y.prototype,h.aa=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(w,B,Q){for(var ot=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ot[kt-2]=arguments[kt];return y.prototype[B].apply(w,ot)}}function G(h){const y=h.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=h[w];return v}return[]}function U(h,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(m(w)){const B=h.length||0,Q=w.length||0;h.length=B+Q;for(let ot=0;ot<Q;ot++)h[B+ot]=w[ot]}else h.push(w)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function st(h){return/^[\s\xa0]*$/.test(h)}function Z(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function mt(h){return mt[" "](h),h}mt[" "]=function(){};var ft=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Et(h,y,v){for(const w in h)y.call(v,h[w],w,h)}function x(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function S(h){const y={};for(const v in h)y[v]=h[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,y){let v,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(v in w)h[v]=w[v];for(let Q=0;Q<R.length;Q++)v=R[Q],Object.prototype.hasOwnProperty.call(w,v)&&(h[v]=w[v])}}function P(h){var y=1;h=h.split(":");const v=[];for(;0<y&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function k(h){d.setTimeout(()=>{throw h},0)}function C(){var h=jt;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Ke{constructor(){this.h=this.g=null}add(y,v){const w=ge.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ge=new Y(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,vt=!1,jt=new Ke,V=()=>{const h=d.Promise.resolve(void 0);ut=()=>{h.then(et)}};var et=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(v){k(v)}var y=ge;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}vt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var Tt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return h}();function xt(h,y){if(at.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(ft){t:{try{mt(y.nodeName);var B=!0;break t}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Rt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&xt.aa.h.call(this)}}N(xt,at);var Rt={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),ne=0;function nr(h,y,v,w,B){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=B,this.key=++ne,this.da=this.fa=!1}function gi(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xr(h){this.src=h,this.g={},this.h=0}xr.prototype.add=function(h,y,v,w,B){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var ot=_s(h,y,w,B);return-1<ot?(y=h[ot],v||(y.fa=!1)):(y=new nr(y,this.src,Q,!!w,B),y.fa=v,h.push(y)),y};function ys(h,y){var v=y.type;if(v in h.g){var w=h.g[v],B=Array.prototype.indexOf.call(w,y,void 0),Q;(Q=0<=B)&&Array.prototype.splice.call(w,B,1),Q&&(gi(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function _s(h,y,v,w){for(var B=0;B<h.length;++B){var Q=h[B];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==w)return B}return-1}var vs="closure_lm_"+(1e6*Math.random()|0),ml={};function Sc(h,y,v,w,B){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Sc(h,y[Q],v,w,B);return null}return v=Rc(v),h&&h[Ue]?h.K(y,v,p(w)?!!w.capture:!1,B):Mn(h,y,v,!1,w,B)}function Mn(h,y,v,w,B,Q){if(!y)throw Error("Invalid event type");var ot=p(B)?!!B.capture:!!B,kt=xa(h);if(kt||(h[vs]=kt=new xr(h)),v=kt.add(y,v,w,ot,Q),v.proxy)return v;if(w=yd(),v.proxy=w,w.src=h,w.listener=v,h.addEventListener)Tt||(B=ot),B===void 0&&(B=!1),h.addEventListener(y.toString(),w,B);else if(h.attachEvent)h.attachEvent(Es(y.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function yd(){function h(v){return y.call(h.src,h.listener,v)}const y=_d;return h}function gl(h,y,v,w,B){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)gl(h,y[Q],v,w,B);else w=p(w)?!!w.capture:!!w,v=Rc(v),h&&h[Ue]?(h=h.i,y=String(y).toString(),y in h.g&&(Q=h.g[y],v=_s(Q,v,w,B),-1<v&&(gi(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete h.g[y],h.h--)))):h&&(h=xa(h))&&(y=h.g[y.toString()],h=-1,y&&(h=_s(y,v,w,B)),(v=-1<h?y[h]:null)&&Ca(v))}function Ca(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ue])ys(y.i,h);else{var v=h.type,w=h.proxy;y.removeEventListener?y.removeEventListener(v,w,h.capture):y.detachEvent?y.detachEvent(Es(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=xa(y))?(ys(v,h),v.h==0&&(v.src=null,y[vs]=null)):gi(h)}}}function Es(h){return h in ml?ml[h]:ml[h]="on"+h}function _d(h,y){if(h.da)h=!0;else{y=new xt(y,this);var v=h.listener,w=h.ha||h.src;h.fa&&Ca(h),h=v.call(w,y)}return h}function xa(h){return h=h[vs],h instanceof xr?h:null}var pl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rc(h){return typeof h=="function"?h:(h[pl]||(h[pl]=function(y){return h.handleEvent(y)}),h[pl])}function pe(){ht.call(this),this.i=new xr(this),this.M=this,this.F=null}N(pe,ht),pe.prototype[Ue]=!0,pe.prototype.removeEventListener=function(h,y,v,w){gl(this,h,y,v,w)};function Kt(h,y){var v,w=h.F;if(w)for(v=[];w;w=w.F)v.push(w);if(h=h.M,w=y.type||y,typeof y=="string")y=new at(y,h);else if(y instanceof at)y.target=y.target||h;else{var B=y;y=new at(w,h),M(y,B)}if(B=!0,v)for(var Q=v.length-1;0<=Q;Q--){var ot=y.g=v[Q];B=An(ot,w,!0,y)&&B}if(ot=y.g=h,B=An(ot,w,!0,y)&&B,B=An(ot,w,!1,y)&&B,v)for(Q=0;Q<v.length;Q++)ot=y.g=v[Q],B=An(ot,w,!1,y)&&B}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var v=h.g[y],w=0;w<v.length;w++)gi(v[w]);delete h.g[y],h.h--}}this.F=null},pe.prototype.K=function(h,y,v,w){return this.i.add(String(h),y,!1,v,w)},pe.prototype.L=function(h,y,v,w){return this.i.add(String(h),y,!0,v,w)};function An(h,y,v,w){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Q=0;Q<y.length;++Q){var ot=y[Q];if(ot&&!ot.da&&ot.capture==v){var kt=ot.listener,Oe=ot.ha||ot.src;ot.fa&&ys(h.i,ot),B=kt.call(Oe,w)!==!1&&B}}return B&&!w.defaultPrevented}function en(h,y,v){if(typeof h=="function")v&&(h=A(h,v));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Ic(h){h.g=en(()=>{h.g=null,h.i&&(h.i=!1,Ic(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class vd extends ht{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ic(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(h){ht.call(this),this.h=h,this.g={}}N(Ts,ht);var bs=[];function As(h){Et(h.g,function(y,v){this.g.hasOwnProperty(v)&&Ca(y)},h),h.g={}}Ts.prototype.N=function(){Ts.aa.N.call(this),As(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=d.JSON.stringify,Va=d.JSON.parse,ws=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function yl(){}yl.prototype.h=null;function _l(h){return h.h||(h.h=h.i())}function vl(){}var Vr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){at.call(this,"d")}N(Nr,at);function El(){at.call(this,"c")}N(El,at);var rr={},Tl=null;function pi(){return Tl=Tl||new pe}rr.La="serverreachability";function Na(h){at.call(this,rr.La,h)}N(Na,at);function yi(h){const y=pi();Kt(y,new Na(y))}rr.STAT_EVENT="statevent";function Dc(h,y){at.call(this,rr.STAT_EVENT,h),this.stat=y}N(Dc,at);function ae(h){const y=pi();Kt(y,new Dc(y,h))}rr.Ma="timingevent";function Ne(h,y){at.call(this,rr.Ma,h),this.size=y}N(Ne,at);function Re(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Pn(){this.g=!0}Pn.prototype.xa=function(){this.g=!1};function bl(h,y,v,w,B,Q){h.info(function(){if(h.g)if(Q)for(var ot="",kt=Q.split("&"),Oe=0;Oe<kt.length;Oe++){var Ut=kt[Oe].split("=");if(1<Ut.length){var ze=Ut[0];Ut=Ut[1];var Me=ze.split("_");ot=2<=Me.length&&Me[1]=="type"?ot+(ze+"="+Ut+"&"):ot+(ze+"=redacted&")}}else ot=null;else ot=Q;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+v+`
`+ot})}function Ed(h,y,v,w,B,Q,ot){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+v+`
`+Q+" "+ot})}function _i(h,y,v,w){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ss(h,v)+(w?" "+w:"")})}function Cc(h,y){h.info(function(){return"TIMEOUT: "+y})}Pn.prototype.info=function(){};function Ss(h,y){if(!h.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var w=v[h];if(!(2>w.length)){var B=w[1];if(Array.isArray(B)&&!(1>B.length)){var Q=B[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ot=1;ot<B.length;ot++)B[ot]=""}}}}return $n(v)}catch{return y}}var vi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Or={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function sr(){}N(sr,yl),sr.prototype.g=function(){return new XMLHttpRequest},sr.prototype.i=function(){return{}},ir=new sr;function un(h,y,v,w){this.j=h,this.i=y,this.l=v,this.R=w||1,this.U=new Ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ee}function Ee(){this.i=null,this.g="",this.h=!1}var Al={},Oa={};function Xn(h,y,v){h.L=1,h.v=xs(wn(y)),h.m=v,h.P=!0,Mr(h,null)}function Mr(h,y){h.F=Date.now(),Rs(h),h.A=wn(h.v);var v=h.A,w=h.R;Array.isArray(w)||(w=[String(w)]),Cl(v.i,"t",w),h.C=0,v=h.j.J,h.h=new Ee,h.g=Hc(h.j,v?y:null,!h.m),0<h.O&&(h.M=new vd(A(h.Y,h,h.g),h.O)),y=h.U,v=h.g,w=h.ca;var B="readystatechange";Array.isArray(B)||(B&&(bs[0]=B.toString()),B=bs);for(var Q=0;Q<B.length;Q++){var ot=Sc(v,B[Q],w||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),yi(),bl(h.i,h.u,h.A,h.l,h.R,h.m)}un.prototype.ca=function(h){h=h.target;const y=this.M;y&&Bn(h)==3?y.j():this.Y(h)},un.prototype.Y=function(h){try{if(h==this.g)t:{const Me=Bn(this.g);var y=this.g.Ba();const Fr=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||kc(this.g)))){this.J||Me!=4||y==7||(y==8||0>=Fr?yi(3):yi(2)),Ei(this);var v=this.g.Z();this.X=v;e:if(xc(this)){var w=kc(this.g);h="";var B=w.length,Q=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qe(this),ar(this);var ot="";break e}this.h.i=new d.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,h+=this.h.i.decode(w[y],{stream:!(Q&&y==B-1)});w.length=0,this.h.g+=h,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=v==200,Ed(this.i,this.u,this.A,this.l,this.R,Me,v),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Oe=this.g;if((kt=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(kt)){var Ut=kt;break e}}Ut=null}if(v=Ut)_i(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Is(this,v);else{this.o=!1,this.s=3,ae(12),Qe(this),ar(this);break t}}if(this.P){v=!0;let Ye;for(;!this.J&&this.C<ot.length;)if(Ye=Vc(this,ot),Ye==Oa){Me==4&&(this.s=4,ae(14),v=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(Ye==Al){this.s=4,ae(15),_i(this.i,this.l,ot,"[Invalid Chunk]"),v=!1;break}else _i(this.i,this.l,Ye,null),Is(this,Ye);if(xc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||ot.length!=0||this.h.h||(this.s=1,ae(16),v=!1),this.o=this.o&&v,!v)_i(this.i,this.l,ot,"[Invalid Chunked Response]"),Qe(this),ar(this);else if(0<ot.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Us(ze),ze.M=!0,ae(11))}}else _i(this.i,this.l,ot,null),Is(this,ot);Me==4&&Qe(this),this.o&&!this.J&&(Me==4?Fc(this.j,this):(this.o=!1,Rs(this)))}else Sd(this.g),v==400&&0<ot.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),Qe(this),ar(this)}}}catch{}finally{}};function xc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Vc(h,y){var v=h.C,w=y.indexOf(`
`,v);return w==-1?Oa:(v=Number(y.substring(v,w)),isNaN(v)?Al:(w+=1,w+v>y.length?Oa:(y=y.slice(w,w+v),h.C=w+v,y)))}un.prototype.cancel=function(){this.J=!0,Qe(this)};function Rs(h){h.S=Date.now()+h.I,Nc(h,h.I)}function Nc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Re(A(h.ba,h),y)}function Ei(h){h.B&&(d.clearTimeout(h.B),h.B=null)}un.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Cc(this.i,this.A),this.L!=2&&(yi(),ae(17)),Qe(this),this.s=2,ar(this)):Nc(this,this.S-h)};function ar(h){h.j.G==0||h.J||Fc(h.j,h)}function Qe(h){Ei(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,As(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Is(h,y){try{var v=h.j;if(v.G!=0&&(v.g==h||wl(v.h,h))){if(!h.K&&wl(v.h,h)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)Ha(v),ja(v);else break t;Ml(v),ae(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Re(A(v.Za,v),6e3));if(1>=Pa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else qr(v,11)}else if((h.K||v.g==h)&&Ha(v),!st(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let Ut=B[y];if(v.T=Ut[0],Ut=Ut[1],v.G==2)if(Ut[0]=="c"){v.K=Ut[1],v.ia=Ut[2];const ze=Ut[3];ze!=null&&(v.la=ze,v.j.info("VER="+v.la));const Me=Ut[4];Me!=null&&(v.Aa=Me,v.j.info("SVER="+v.Aa));const Fr=Ut[5];Fr!=null&&typeof Fr=="number"&&0<Fr&&(w=1.5*Fr,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Ye=h.g;if(Ye){const dr=Ye.g?Ye.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dr){var Q=w.h;Q.g||dr.indexOf("spdy")==-1&&dr.indexOf("quic")==-1&&dr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(La(Q,Q.h),Q.h=null))}if(w.D){const Ll=Ye.g?Ye.g.getResponseHeader("X-HTTP-Session-Id"):null;Ll&&(w.ya=Ll,Zt(w.I,w.D,Ll))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ot=h;if(w.qa=Gc(w,w.J?w.ia:null,w.W),ot.K){cn(w.h,ot);var kt=ot,Oe=w.L;Oe&&(kt.I=Oe),kt.B&&(Ei(kt),Rs(kt)),w.g=ot}else zc(w);0<v.i.length&&Ga(v)}else Ut[0]!="stop"&&Ut[0]!="close"||qr(v,7);else v.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?qr(v,7):Nl(v):Ut[0]!="noop"&&v.l&&v.l.ta(Ut),v.v=0)}}yi(4)}catch{}}var Oc=class{constructor(h,y){this.g=h,this.map=y}};function Pr(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ma(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pa(h){return h.h?1:h.g?h.g.size:0}function wl(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function La(h,y){h.g?h.g.add(y):h.h=y}function cn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Pr.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Sl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.D);return y}return G(h.i)}function Td(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],v=h.length,w=0;w<v;w++)y.push(h[w]);return y}y=[],v=0;for(w in h)y[v++]=h[w];return y}function ka(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var v=0;v<h;v++)y.push(v);return y}y=[],v=0;for(const w in h)y[v++]=w;return y}}}function Rl(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var v=ka(h),w=Td(h),B=w.length,Q=0;Q<B;Q++)y.call(void 0,w[Q],v&&v[Q],h)}var Ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bd(h,y){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var w=h[v].indexOf("="),B=null;if(0<=w){var Q=h[v].substring(0,w);B=h[v].substring(w+1)}else Q=h[v];y(Q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ie(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ie){this.h=h.h,Cs(this,h.j),this.o=h.o,this.g=h.g,Ti(this,h.s),this.l=h.l;var y=h.i,v=new kr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Lr(this,v),this.m=h.m}else h&&(y=String(h).match(Ds))?(this.h=!1,Cs(this,y[1]||"",!0),this.o=Ln(y[2]||""),this.g=Ln(y[3]||"",!0),Ti(this,y[4]),this.l=Ln(y[5]||"",!0),Lr(this,y[6]||"",!0),this.m=Ln(y[7]||"")):(this.h=!1,this.i=new kr(null,this.h))}Ie.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Vs(y,Il,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Vs(y,Il,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Vs(v,v.charAt(0)=="/"?Ad:Dl,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Vs(v,Ua)),h.join("")};function wn(h){return new Ie(h)}function Cs(h,y,v){h.j=v?Ln(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ti(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Lr(h,y,v){y instanceof kr?(h.i=y,Pc(h.i,h.h)):(v||(y=Vs(y,wd)),h.i=new kr(y,h.h))}function Zt(h,y,v){h.i.set(y,v)}function xs(h){return Zt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ln(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Vs(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,Mc),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Mc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Il=/[#\/\?@]/g,Dl=/[#\?:]/g,Ad=/[#\?]/g,wd=/[#\?@]/g,Ua=/#/g;function kr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function kn(h){h.g||(h.g=new Map,h.h=0,h.i&&bd(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}s=kr.prototype,s.add=function(h,y){kn(this),this.i=null,h=or(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function Ur(h,y){kn(h),y=or(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Br(h,y){return kn(h),y=or(h,y),h.g.has(y)}s.forEach=function(h,y){kn(this),this.g.forEach(function(v,w){v.forEach(function(B){h.call(y,B,w,this)},this)},this)},s.na=function(){kn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const B=h[w];for(let Q=0;Q<B.length;Q++)v.push(y[w])}return v},s.V=function(h){kn(this);let y=[];if(typeof h=="string")Br(this,h)&&(y=y.concat(this.g.get(or(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)y=y.concat(h[v])}return y},s.set=function(h,y){return kn(this),this.i=null,h=or(this,h),Br(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},s.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Cl(h,y,v){Ur(h,y),0<v.length&&(h.i=null,h.g.set(or(h,y),G(v)),h.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const Q=encodeURIComponent(String(w)),ot=this.V(w);for(w=0;w<ot.length;w++){var B=Q;ot[w]!==""&&(B+="="+encodeURIComponent(String(ot[w]))),h.push(B)}}return this.i=h.join("&")};function or(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Pc(h,y){y&&!h.j&&(kn(h),h.i=null,h.g.forEach(function(v,w){var B=w.toLowerCase();w!=B&&(Ur(this,w),Cl(this,B,v))},h)),h.j=y}function Ns(h,y){const v=new Pn;if(d.Image){const w=new Image;w.onload=D(Un,v,"TestLoadImage: loaded",!0,y,w),w.onerror=D(Un,v,"TestLoadImage: error",!1,y,w),w.onabort=D(Un,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=D(Un,v,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else y(!1)}function Zn(h,y){const v=new Pn,w=new AbortController,B=setTimeout(()=>{w.abort(),Un(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:w.signal}).then(Q=>{clearTimeout(B),Q.ok?Un(v,"TestPingServer: ok",!0,y):Un(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Un(v,"TestPingServer: error",!1,y)})}function Un(h,y,v,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(v)}catch{}}function Os(){this.g=new ws}function lr(h,y,v){const w=v||"";try{Rl(h,function(B,Q){let ot=B;p(B)&&(ot=$n(B)),y.push(w+Q+"="+encodeURIComponent(ot))})}catch(B){throw y.push(w+"type="+encodeURIComponent("_badmap")),B}}function bi(h){this.l=h.Ub||null,this.j=h.eb||!1}N(bi,yl),bi.prototype.g=function(){return new zr(this.l,this.j)},bi.prototype.i=function(h){return function(){return h}}({});function zr(h,y){pe.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(zr,pe),s=zr.prototype,s.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,cr(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},s.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function xl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}s.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ur(this):cr(this),this.readyState==3&&xl(this)}},s.Ra=function(h){this.g&&(this.response=this.responseText=h,ur(this))},s.Qa=function(h){this.g&&(this.response=h,ur(this))},s.ga=function(){this.g&&ur(this)};function ur(h){h.readyState=4,h.l=null,h.j=null,h.v=null,cr(h)}s.setRequestHeader=function(h,y){this.u.append(h,y)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function cr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vl(h){let y="";return Et(h,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Be(h,y,v){t:{for(w in v){var w=!1;break t}w=!0}w||(v=Vl(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):Zt(h,y,v))}function Ht(h){pe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ht,pe);var Ba=/^https?$/i,Ms=["POST","PUT"];s=Ht.prototype,s.Ha=function(h){this.J=h},s.ea=function(h,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?_l(this.o):_l(ir),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Q){Lc(this,Q);return}if(h=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)v.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())v.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ms,y,void 0))||w||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ot]of v)this.g.setRequestHeader(Q,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ps(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){Lc(this,Q)}};function Lc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,za(h),hr(h)}function za(h){h.A||(h.A=!0,Kt(h,"complete"),Kt(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Kt(this,"complete"),Kt(this,"abort"),hr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),Ht.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},s.bb=function(){qa(this)};function qa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Bn(h)!=4||h.Z()!=2)){if(h.u&&Bn(h)==4)en(h.Ea,0,h);else if(Kt(h,"readystatechange"),Bn(h)==4){h.h=!1;try{const ot=h.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var w;if(w=ot===0){var B=String(h.D).match(Ds)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),w=!Ba.test(B?B.toLowerCase():"")}v=w}if(v)Kt(h,"complete"),Kt(h,"success");else{h.m=6;try{var Q=2<Bn(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",za(h)}}finally{hr(h)}}}}function hr(h,y){if(h.g){Ps(h);const v=h.g,w=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Kt(h,"ready");try{v.onreadystatechange=w}catch{}}}function Ps(h){h.I&&(d.clearTimeout(h.I),h.I=null)}s.isActive=function(){return!!this.g};function Bn(h){return h.g?h.g.readyState:0}s.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Va(y)}};function kc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Sd(h){const y={};h=(h.g&&2<=Bn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(st(h[w]))continue;var v=P(h[w]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[B]||[];y[B]=Q,Q.push(v)}x(y,function(w){return w.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ls(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function Fa(h){this.Aa=0,this.i=[],this.j=new Pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ls("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ls("baseRetryDelayMs",5e3,h),this.cb=Ls("retryDelaySeedMs",1e4,h),this.Wa=Ls("forwardChannelMaxRetries",2,h),this.wa=Ls("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Pr(h&&h.concurrentRequestLimit),this.Da=new Os,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Fa.prototype,s.la=8,s.G=1,s.connect=function(h,y,v,w){ae(0),this.W=h,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Gc(this,null,this.W),Ga(this)};function Nl(h){if(Uc(h),h.G==3){var y=h.U++,v=wn(h.I);if(Zt(v,"SID",h.K),Zt(v,"RID",y),Zt(v,"TYPE","terminate"),ks(h,v),y=new un(h,h.j,y),y.L=2,y.v=xs(wn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Hc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Rs(y)}jc(h)}function ja(h){h.g&&(Us(h),h.g.cancel(),h.g=null)}function Uc(h){ja(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ha(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ga(h){if(!Ma(h.h)&&!h.s){h.s=!0;var y=h.Ga;ut||V(),vt||(ut(),vt=!0),jt.add(y,h),h.B=0}}function Rd(h,y){return Pa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Re(A(h.Ga,h,y),Pl(h,h.B)),h.B++,!0)}s.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const B=new un(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=S(Q),M(Q,this.S)):Q=this.S),this.m!==null||this.O||(B.H=Q,Q=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=Bc(this,B,y),v=wn(this.I),Zt(v,"RID",h),Zt(v,"CVER",22),this.D&&Zt(v,"X-HTTP-Session-Id",this.D),ks(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(Vl(Q)))+"&"+y:this.m&&Be(v,this.m,Q)),La(this.h,B),this.Ua&&Zt(v,"TYPE","init"),this.P?(Zt(v,"$req",y),Zt(v,"SID","null"),B.T=!0,Xn(B,v,null)):Xn(B,v,y),this.G=2}}else this.G==3&&(h?Ol(this,h):this.i.length==0||Ma(this.h)||Ol(this))};function Ol(h,y){var v;y?v=y.l:v=h.U++;const w=wn(h.I);Zt(w,"SID",h.K),Zt(w,"RID",v),Zt(w,"AID",h.T),ks(h,w),h.m&&h.o&&Be(w,h.m,h.o),v=new un(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Bc(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),La(h.h,v),Xn(v,w,y)}function ks(h,y){h.H&&Et(h.H,function(v,w){Zt(y,w,v)}),h.l&&Rl({},function(v,w){Zt(y,w,v)})}function Bc(h,y,v){v=Math.min(h.i.length,v);var w=h.l?A(h.l.Na,h.l,h):null;t:{var B=h.i;let Q=-1;for(;;){const ot=["count="+v];Q==-1?0<v?(Q=B[0].g,ot.push("ofs="+Q)):Q=0:ot.push("ofs="+Q);let kt=!0;for(let Oe=0;Oe<v;Oe++){let Ut=B[Oe].g;const ze=B[Oe].map;if(Ut-=Q,0>Ut)Q=Math.max(0,B[Oe].g-100),kt=!1;else try{lr(ze,ot,"req"+Ut+"_")}catch{w&&w(ze)}}if(kt){w=ot.join("&");break t}}}return h=h.i.splice(0,v),y.D=h,w}function zc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ut||V(),vt||(ut(),vt=!0),jt.add(y,h),h.v=0}}function Ml(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Re(A(h.Fa,h),Pl(h,h.v)),h.v++,!0)}s.Fa=function(){if(this.u=null,qc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Re(A(this.ab,this),h)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),ja(this),qc(this))};function Us(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function qc(h){h.g=new un(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=wn(h.qa);Zt(y,"RID","rpc"),Zt(y,"SID",h.K),Zt(y,"AID",h.T),Zt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Zt(y,"TO",h.ja),Zt(y,"TYPE","xmlhttp"),ks(h,y),h.m&&h.o&&Be(y,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=xs(wn(y)),v.m=null,v.P=!0,Mr(v,h)}s.Za=function(){this.C!=null&&(this.C=null,ja(this),Ml(this),ae(19))};function Ha(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Fc(h,y){var v=null;if(h.g==y){Ha(h),Us(h),h.g=null;var w=2}else if(wl(h.h,y))v=y.D,cn(h.h,y),w=1;else return;if(h.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=h.B;w=pi(),Kt(w,new Ne(w,v)),Ga(h)}else zc(h);else if(B=y.s,B==3||B==0&&0<y.X||!(w==1&&Rd(h,y)||w==2&&Ml(h)))switch(v&&0<v.length&&(y=h.h,y.i=y.i.concat(v)),B){case 1:qr(h,5);break;case 4:qr(h,10);break;case 3:qr(h,6);break;default:qr(h,2)}}}function Pl(h,y){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*y}function qr(h,y){if(h.j.info("Error code "+y),y==2){var v=A(h.fb,h),w=h.Xa;const B=!w;w=new Ie(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Cs(w,"https"),xs(w),B?Ns(w.toString(),v):Zn(w.toString(),v)}else ae(2);h.G=0,h.l&&h.l.sa(y),jc(h),Uc(h)}s.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function jc(h){if(h.G=0,h.ka=[],h.l){const y=Sl(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ka,y),U(h.ka,h.i),h.h.i.length=0,G(h.i),h.i.length=0),h.l.ra()}}function Gc(h,y,v){var w=v instanceof Ie?wn(v):new Ie(v);if(w.g!="")y&&(w.g=y+"."+w.g),Ti(w,w.s);else{var B=d.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Q=new Ie(null);w&&Cs(Q,w),y&&(Q.g=y),B&&Ti(Q,B),v&&(Q.l=v),w=Q}return v=h.D,y=h.ya,v&&y&&Zt(w,v,y),Zt(w,"VER",h.la),ks(h,w),w}function Hc(h,y,v){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ht(new bi({eb:v})):new Ht(h.pa),y.Ha(h.J),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kc(){}s=Kc.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ka(){}Ka.prototype.g=function(h,y){return new hn(h,y)};function hn(h,y){pe.call(this),this.g=new Fa(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!st(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!st(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new fr(this)}N(hn,pe),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Nl(this.g)},hn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=$n(h),h=v);y.i.push(new Oc(y.Ya++,h)),y.G==3&&Ga(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,hn.aa.N.call(this)};function Qc(h){Nr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const v in y){h=v;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}N(Qc,Nr);function Yc(){El.call(this),this.status=1}N(Yc,El);function fr(h){this.g=h}N(fr,Kc),fr.prototype.ua=function(){Kt(this.g,"a")},fr.prototype.ta=function(h){Kt(this.g,new Qc(h))},fr.prototype.sa=function(h){Kt(this.g,new Yc)},fr.prototype.ra=function(){Kt(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,Kb=function(){return new Ka},Hb=function(){return pi()},Gb=rr,Hg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,af=vi,Or.COMPLETE="complete",jb=Or,vl.EventType=Vr,Vr.OPEN="a",Vr.CLOSE="b",Vr.ERROR="c",Vr.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Vu=vl,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Fb=Ht}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});const CT="@firebase/firestore",xT="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Cp("@firebase/firestore");function Do(){return rs.logLevel}function yC(s){rs.setLogLevel(s)}function rt(s,...t){if(rs.logLevel<=Lt.DEBUG){const e=t.map(Pp);rs.debug(`Firestore (${al}): ${s}`,...e)}}function Ae(s,...t){if(rs.logLevel<=Lt.ERROR){const e=t.map(Pp);rs.error(`Firestore (${al}): ${s}`,...e)}}function Rr(s,...t){if(rs.logLevel<=Lt.WARN){const e=t.map(Pp);rs.warn(`Firestore (${al}): ${s}`,...e)}}function Pp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,Qb(s,r,e)}function Qb(s,t,e){let r=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Ae(r),new Error(r)}function pt(s,t,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,s||Qb(t,a,r)}function _C(s,t){s||dt(57014,t)}function ct(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends wa{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(He.UNAUTHENTICATED))}shutdown(){}}class EC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class TC{constructor(t){this.t=t,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){pt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,e(m)):Promise.resolve();let l=new tn;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new tn,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new tn)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt(typeof r.accessToken=="string",31837,{l:r}),new Yb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return pt(t===null||typeof t=="string",2055,{h:t}),new He(t)}}class bC{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=He.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AC{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new bC(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(He.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wC{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mb(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){pt(this.o===void 0,3512);const r=l=>{l.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,rt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const a=l=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new VT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(pt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new VT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<s;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=SC(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<e&&(r+=t.charAt(a[l]%62))}return r}}function wt(s,t){return s<t?-1:s>t?1:0}function Kg(s,t){let e=0;for(;e<s.length&&e<t.length;){const r=s.codePointAt(e),a=t.codePointAt(e);if(r!==a){if(r<128&&a<128)return wt(r,a);{const l=Lp(),c=RC(l.encode(NT(s,e)),l.encode(NT(t,e)));return c!==0?c:wt(r,a)}}e+=r>65535?2:1}return wt(s.length,t.length)}function NT(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function RC(s,t){for(let e=0;e<s.length&&e<t.length;++e)if(s[e]!==t[e])return wt(s[e],t[e]);return wt(s.length,t.length)}function Bo(s,t,e){return s.length===t.length&&s.every((r,a)=>e(r,t[a]))}function Xb(s){return s+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=-62135596800,MT=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*MT);return new he(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new nt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new nt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<OT)throw new nt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MT}_compareTo(t){return this.seconds===t.seconds?wt(this.nanoseconds,t.nanoseconds):wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-OT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new he(0,0))}static max(){return new yt(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="__name__";class vr{constructor(t,e,r){e===void 0?e=0:e>t.length&&dt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&dt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return vr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof vr?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let a=0;a<r;a++){const l=vr.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return wt(t.length,e.length)}static compareSegments(t,e){const r=vr.isNumericId(t),a=vr.isNumericId(e);return r&&!a?-1:!r&&a?1:r&&a?vr.extractNumericId(t).compare(vr.extractNumericId(e)):Kg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ji.fromString(t.substring(4,t.length-2))}}class Mt extends vr{construct(t,e,r){return new Mt(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new nt(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(a=>a.length>0))}return new Mt(e)}static emptyPath(){return new Mt([])}}const IC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ue extends vr{construct(t,e,r){return new ue(t,e,r)}static isValidIdentifier(t){return IC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ue.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PT}static keyField(){return new ue([PT])}static fromServerFormat(t){const e=[];let r="",a=0;const l=()=>{if(r.length===0)throw new nt(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new nt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new nt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new nt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ue(e)}static emptyPath(){return new ue([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.path=t}static fromPath(t){return new lt(Mt.fromString(t))}static fromName(t){return new lt(Mt.fromString(t).popFirst(5))}static empty(){return new lt(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Mt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Mt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new Mt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=-1;class Tf{constructor(t,e,r,a){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=a}}function Qg(s){return s.fields.find(t=>t.kind===2)}function na(s){return s.fields.filter(t=>t.kind!==2)}Tf.UNKNOWN_ID=-1;class of{constructor(t,e){this.fieldPath=t,this.kind=e}}class Hu{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Hu(0,On.min())}}function Zb(s,t){const e=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,a=yt.fromTimestamp(r===1e9?new he(e+1,0):new he(e,r));return new On(a,lt.empty(),t)}function Jb(s){return new On(s.readTime,s.key,zo)}class On{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new On(yt.min(),lt.empty(),zo)}static max(){return new On(yt.max(),lt.empty(),zo)}}function kp(s,t){let e=s.readTime.compareTo(t.readTime);return e!==0?e:(e=lt.comparator(s.documentKey,t.documentKey),e!==0?e:wt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fs(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==Wb)throw s;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new z((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(r,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof z?e:z.resolve(e)}catch(e){return z.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):z.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):z.reject(e)}static resolve(t){return new z((e,r)=>{e(t)})}static reject(t){return new z((e,r)=>{r(t)})}static waitFor(t){return new z((e,r)=>{let a=0,l=0,c=!1;t.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&e()},m=>r(m))}),c=!0,l===a&&e()})}static or(t){let e=z.resolve(!1);for(const r of t)e=e.next(a=>a?z.resolve(a):r());return e}static forEach(t,e){const r=[];return t.forEach((a,l)=>{r.push(e.call(this,a,l))}),this.waitFor(r)}static mapArray(t,e){return new z((r,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;e(t[p]).next(_=>{c[p]=_,++d,d===l&&r(c)},_=>a(_))}})}static doWhile(t,e){return new z((r,a)=>{const l=()=>{t()===!0?e().next(()=>{l()},a):r()};l()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="SimpleDb";class Gf{static open(t,e,r,a){try{return new Gf(e,t.transaction(a,r))}catch(l){throw new Pu(e,l)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new tn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new Pu(t,e.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=Up(r.target.error);this.S.reject(new Pu(t,a))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(rt(Nn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new CC(e)}}class Ar{static delete(t){return rt(Nn,"Removing database:",t),ia(Rp().indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!Ib())return!1;if(Ar.F())return!0;const t=vf(),e=Ar.M(t),r=0<e&&e<10,a=eA(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||l)}static F(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.O)==="YES"}static N(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(t,e,r){this.name=t,this.version=e,this.B=r,this.L=null,Ar.M(vf())===12.2&&Ae("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(t){return this.db||(rt(Nn,"Opening database:",this.name),this.db=await new Promise((e,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const c=l.target.result;e(c)},a.onblocked=()=>{r(new Pu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const c=l.target.error;c.name==="VersionError"?r(new nt(K.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new nt(K.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new Pu(t,c))},a.onupgradeneeded=l=>{rt(Nn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;if(this.L!==null&&this.L!==l.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${l.oldVersion}, event.newVersion=${l.newVersion}, db.version=${c.version}`);this.B.q(c,a.transaction,l.oldVersion,this.version).next(()=>{rt(Nn,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",e=>{const r=e.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=e=>this.$(e)),this.db}U(t){this.$=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,r,a){const l=e==="readonly";let c=0;for(;;){++c;try{this.db=await this.k(t);const d=Gf.open(this.db,t,l?"readonly":"readwrite",r),m=a(d).next(p=>(d.v(),p)).catch(p=>(d.abort(p),z.reject(p))).toPromise();return m.catch(()=>{}),await d.D,m}catch(d){const m=d,p=m.name!=="FirebaseError"&&c<3;if(rt(Nn,"Transaction failed with error:",m.message,"Retrying:",p),this.close(),!p)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function eA(s){const t=s.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class DC{constructor(t){this.K=t,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(t){this.K=t}done(){this.W=!0}H(t){this.G=t}delete(){return ia(this.K.delete())}}class Pu extends nt{constructor(t,e){super(K.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ds(s){return s.name==="IndexedDbTransactionError"}class CC{constructor(t){this.store=t}put(t,e){let r;return e!==void 0?(rt(Nn,"PUT",this.store.name,t,e),r=this.store.put(e,t)):(rt(Nn,"PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ia(r)}add(t){return rt(Nn,"ADD",this.store.name,t,t),ia(this.store.add(t))}get(t){return ia(this.store.get(t)).next(e=>(e===void 0&&(e=null),rt(Nn,"GET",this.store.name,t,e),e))}delete(t){return rt(Nn,"DELETE",this.store.name,t),ia(this.store.delete(t))}count(){return rt(Nn,"COUNT",this.store.name),ia(this.store.count())}J(t,e){const r=this.options(t,e),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(r.range);return new z((c,d)=>{l.onerror=m=>{d(m.target.error)},l.onsuccess=m=>{c(m.target.result)}})}{const l=this.cursor(r),c=[];return this.Y(l,(d,m)=>{c.push(m)}).next(()=>c)}}Z(t,e){const r=this.store.getAll(t,e===null?void 0:e);return new z((a,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{a(c.target.result)}})}X(t,e){rt(Nn,"DELETE ALL",this.store.name);const r=this.options(t,e);r.ee=!1;const a=this.cursor(r);return this.Y(a,(l,c,d)=>d.delete())}te(t,e){let r;e?r=t:(r={},e=t);const a=this.cursor(r);return this.Y(a,e)}ne(t){const e=this.cursor({});return new z((r,a)=>{e.onerror=l=>{const c=Up(l.target.error);a(c)},e.onsuccess=l=>{const c=l.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():r()}):r()}})}Y(t,e){const r=[];return new z((a,l)=>{t.onerror=c=>{l(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const m=new DC(d),p=e(d.primaryKey,d.value,m);if(p instanceof z){const _=p.catch(T=>(m.done(),z.reject(T)));r.push(_)}m.isDone?a():m.j===null?d.continue():d.continue(m.j)}}).next(()=>z.waitFor(r))}options(t,e){let r;return t!==void 0&&(typeof t=="string"?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.ee?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function ia(s){return new z((t,e)=>{s.onsuccess=r=>{const a=r.target.result;t(a)},s.onerror=r=>{const a=Up(r.target.error);e(a)}})}let LT=!1;function Up(s){const t=Ar.M(vf());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(e)>=0){const r=new nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return LT||(LT=!0,setTimeout(()=>{throw r},0)),r}}return s}const Lu="IndexBackfiller";class xC{constructor(t,e){this.asyncQueue=t,this.re=e,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(t){rt(Lu,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,async()=>{this.task=null;try{const e=await this.re.se();rt(Lu,`Documents written: ${e}`)}catch(e){ds(e)?rt(Lu,"Ignoring IndexedDB error during index backfill: ",e):await fs(e)}await this.ie(6e4)})}}class VC{constructor(t,e){this.localStore=t,this.persistence=e}async se(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",e=>this.oe(e,t))}oe(t,e){const r=new Set;let a=e,l=!0;return z.doWhile(()=>l===!0&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(c!==null&&!r.has(c))return rt(Lu,`Processing collection: ${c}`),this._e(t,c,a).next(d=>{a-=d,r.add(c)});l=!1})).next(()=>e-a)}_e(t,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(a=>this.localStore.localDocuments.getNextDocuments(t,e,a,r).next(l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.ae(a,l)).next(d=>(rt(Lu,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>c.size)}))}ae(t,e){let r=t;return e.changes.forEach((a,l)=>{const c=Jb(l);kp(c,r)>0&&(r=c)}),new On(r.readTime,r.documentKey,Math.max(e.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>e.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}En.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=-1;function hc(s){return s==null}function Ku(s){return s===0&&1/s==-1/0}function nA(s){return typeof s=="number"&&Number.isInteger(s)&&!Ku(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="";function on(s){let t="";for(let e=0;e<s.length;e++)t.length>0&&(t=kT(t)),t=NC(s.get(e),t);return kT(t)}function NC(s,t){let e=t;const r=s.length;for(let a=0;a<r;a++){const l=s.charAt(a);switch(l){case"\0":e+="";break;case bf:e+="";break;default:e+=l}}return e}function kT(s){return s+bf+""}function Tr(s){const t=s.length;if(pt(t>=2,64408,{path:s}),t===2)return pt(s.charAt(0)===bf&&s.charAt(1)==="",56145,{path:s}),Mt.emptyPath();const e=t-2,r=[];let a="";for(let l=0;l<t;){const c=s.indexOf(bf,l);switch((c<0||c>e)&&dt(50515,{path:s}),s.charAt(c+1)){case"":const d=s.substring(l,c);let m;a.length===0?m=d:(a+=d,m=a,a=""),r.push(m);break;case"":a+=s.substring(l,c),a+="\0";break;case"":a+=s.substring(l,c+1);break;default:dt(61167,{path:s})}l=c+2}return new Mt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="remoteDocuments",fc="owner",bo="owner",Qu="mutationQueues",OC="userId",er="mutations",UT="batchId",ua="userMutationsIndex",BT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(s,t){return[s,on(t)]}function rA(s,t,e){return[s,on(t),e]}const MC={},qo="documentMutations",Af="remoteDocumentsV14",PC=["prefixPath","collectionGroup","readTime","documentId"],uf="documentKeyIndex",LC=["prefixPath","collectionGroup","documentId"],iA="collectionGroupIndex",kC=["collectionGroup","readTime","prefixPath","documentId"],Yu="remoteDocumentGlobal",Yg="remoteDocumentGlobalKey",Fo="targets",sA="queryTargetsIndex",UC=["canonicalId","targetId"],jo="targetDocuments",BC=["targetId","path"],Bp="documentTargetsIndex",zC=["path","targetId"],wf="targetGlobalKey",fa="targetGlobal",$u="collectionParents",qC=["collectionId","parent"],Go="clientMetadata",FC="clientId",Hf="bundles",jC="bundleId",Kf="namedQueries",GC="name",zp="indexConfiguration",HC="indexId",$g="collectionGroupIndex",KC="collectionGroup",Sf="indexState",QC=["indexId","uid"],aA="sequenceNumberIndex",YC=["uid","sequenceNumber"],Rf="indexEntries",$C=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oA="documentKeyIndex",XC=["indexId","uid","orderedDocumentKey"],Qf="documentOverlays",ZC=["userId","collectionPath","documentId"],Xg="collectionPathOverlayIndex",JC=["userId","collectionPath","largestBatchId"],lA="collectionGroupOverlayIndex",WC=["userId","collectionGroup","largestBatchId"],qp="globals",tx="name",uA=[Qu,er,qo,ra,Fo,fc,fa,jo,Go,Yu,$u,Hf,Kf],ex=[...uA,Qf],cA=[Qu,er,qo,Af,Fo,fc,fa,jo,Go,Yu,$u,Hf,Kf,Qf],hA=cA,Fp=[...hA,zp,Sf,Rf],nx=Fp,rx=[...Fp,qp];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg extends tA{constructor(t,e){super(),this.he=t,this.currentSequenceNumber=e}}function ke(s,t){const e=ct(s);return Ar.N(e.he,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(s){let t=0;for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&t++;return t}function ms(s,t){for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&t(e,s[e])}function fA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,e){this.comparator=t,this.root=e||Je.EMPTY}insert(t,e){return new ie(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return e+r.left.size;a<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zh(this.root,t,this.comparator,!0)}}class Zh{constructor(t,e,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?r(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,e,r,a,l){this.key=t,this.value=e,this.color=r??Je.RED,this.left=a??Je.EMPTY,this.right=l??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,a,l){return new Je(t??this.key,e??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,r),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return Je.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,e,r,a,l){return this}insert(t,e,r){return new Je(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new qT(this.data.getIterator())}getIteratorFrom(t){return new qT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof Xt)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Xt(this.comparator);return e.data=t,e}}class qT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ao(s){return s.hasNext()?s.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.fields=t,t.sort(ue.comparator)}static empty(){return new Tn([])}unionWith(t){let e=new Xt(ue.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Tn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Bo(this.fields,t.fields,(e,r)=>e.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new dA("Invalid base64 string: "+l):l}}(t);return new ve(e)}static fromUint8Array(t){const e=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new ve(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ve.EMPTY_BYTE_STRING=new ve("");const sx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(s){if(pt(!!s,39018),typeof s=="string"){let t=0;const e=sx.exec(s);if(pt(!!e,46558,{timestamp:s}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:le(s.seconds),nanos:le(s.nanos)}}function le(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function li(s){return typeof s=="string"?ve.fromBase64String(s):ve.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="server_timestamp",gA="__type__",pA="__previous_value__",yA="__local_write_time__";function Yf(s){var t,e;return((e=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[gA])===null||e===void 0?void 0:e.stringValue)===mA}function $f(s){const t=s.mapValue.fields[pA];return Yf(t)?$f(t):t}function Xu(s){const t=oi(s.mapValue.fields[yA].timestampValue);return new he(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(t,e,r,a,l,c,d,m,p){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p}}const If="(default)";class is{constructor(t,e){this.projectId=t,this.database=e||If}static empty(){return new is("","")}get isDefaultDatabase(){return this.database===If}isEqual(t){return t instanceof is&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="__type__",_A="__max__",$i={mapValue:{fields:{__type__:{stringValue:_A}}}},Gp="__vector__",Ho="value",cf={nullValue:"NULL_VALUE"};function ss(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Yf(s)?4:vA(s)?9007199254740991:Xf(s)?10:11:dt(28295,{value:s})}function Ir(s,t){if(s===t)return!0;const e=ss(s);if(e!==ss(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Xu(s).isEqual(Xu(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=oi(a.timestampValue),d=oi(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(a,l){return li(a.bytesValue).isEqual(li(l.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(a,l){return le(a.geoPointValue.latitude)===le(l.geoPointValue.latitude)&&le(a.geoPointValue.longitude)===le(l.geoPointValue.longitude)}(s,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return le(a.integerValue)===le(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=le(a.doubleValue),d=le(l.doubleValue);return c===d?Ku(c)===Ku(d):isNaN(c)&&isNaN(d)}return!1}(s,t);case 9:return Bo(s.arrayValue.values||[],t.arrayValue.values||[],Ir);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(zT(c)!==zT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ir(c[m],d[m])))return!1;return!0}(s,t);default:return dt(52216,{left:s})}}function Zu(s,t){return(s.values||[]).find(e=>Ir(e,t))!==void 0}function as(s,t){if(s===t)return 0;const e=ss(s),r=ss(t);if(e!==r)return wt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return wt(s.booleanValue,t.booleanValue);case 2:return function(l,c){const d=le(l.integerValue||l.doubleValue),m=le(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(s,t);case 3:return FT(s.timestampValue,t.timestampValue);case 4:return FT(Xu(s),Xu(t));case 5:return Kg(s.stringValue,t.stringValue);case 6:return function(l,c){const d=li(l),m=li(c);return d.compareTo(m)}(s.bytesValue,t.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const _=wt(d[p],m[p]);if(_!==0)return _}return wt(d.length,m.length)}(s.referenceValue,t.referenceValue);case 8:return function(l,c){const d=wt(le(l.latitude),le(c.latitude));return d!==0?d:wt(le(l.longitude),le(c.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return jT(s.arrayValue,t.arrayValue);case 10:return function(l,c){var d,m,p,_;const T=l.fields||{},A=c.fields||{},D=(d=T[Ho])===null||d===void 0?void 0:d.arrayValue,N=(m=A[Ho])===null||m===void 0?void 0:m.arrayValue,G=wt(((p=D==null?void 0:D.values)===null||p===void 0?void 0:p.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return G!==0?G:jT(D,N)}(s.mapValue,t.mapValue);case 11:return function(l,c){if(l===$i.mapValue&&c===$i.mapValue)return 0;if(l===$i.mapValue)return 1;if(c===$i.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},_=Object.keys(p);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const A=Kg(m[T],_[T]);if(A!==0)return A;const D=as(d[m[T]],p[_[T]]);if(D!==0)return D}return wt(m.length,_.length)}(s.mapValue,t.mapValue);default:throw dt(23264,{Pe:e})}}function FT(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return wt(s,t);const e=oi(s),r=oi(t),a=wt(e.seconds,r.seconds);return a!==0?a:wt(e.nanos,r.nanos)}function jT(s,t){const e=s.values||[],r=t.values||[];for(let a=0;a<e.length&&a<r.length;++a){const l=as(e[a],r[a]);if(l)return l}return wt(e.length,r.length)}function Ko(s){return Jg(s)}function Jg(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(e){const r=oi(e);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(e){return li(e).toBase64()}(s.bytesValue):"referenceValue"in s?function(e){return lt.fromName(e).toString()}(s.referenceValue):"geoPointValue"in s?function(e){return`geo(${e.latitude},${e.longitude})`}(s.geoPointValue):"arrayValue"in s?function(e){let r="[",a=!0;for(const l of e.values||[])a?a=!1:r+=",",r+=Jg(l);return r+"]"}(s.arrayValue):"mapValue"in s?function(e){const r=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Jg(e.fields[c])}`;return a+"}"}(s.mapValue):dt(61005,{value:s})}function hf(s){switch(ss(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$f(s);return t?16+hf(t):16;case 5:return 2*s.stringValue.length;case 6:return li(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+hf(l),0)}(s.arrayValue);case 10:case 11:return function(r){let a=0;return ms(r.fields,(l,c)=>{a+=l.length+hf(c)}),a}(s.mapValue);default:throw dt(13486,{value:s})}}function ma(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Wg(s){return!!s&&"integerValue"in s}function Ju(s){return!!s&&"arrayValue"in s}function GT(s){return!!s&&"nullValue"in s}function HT(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ff(s){return!!s&&"mapValue"in s}function Xf(s){var t,e;return((e=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[jp])===null||e===void 0?void 0:e.stringValue)===Gp}function ku(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return ms(s.mapValue.fields,(e,r)=>t.mapValue.fields[e]=ku(r)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(s.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ku(s.arrayValue.values[e]);return t}return Object.assign({},s)}function vA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===_A}const EA={mapValue:{fields:{[jp]:{stringValue:Gp},[Ho]:{arrayValue:{}}}}};function ox(s){return"nullValue"in s?cf:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?ma(is.empty(),lt.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?Xf(s)?EA:{mapValue:{}}:dt(35942,{value:s})}function lx(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?ma(is.empty(),lt.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?EA:"mapValue"in s?Xf(s)?{mapValue:{}}:$i:dt(61959,{value:s})}function KT(s,t){const e=as(s.value,t.value);return e!==0?e:s.inclusive&&!t.inclusive?-1:!s.inclusive&&t.inclusive?1:0}function QT(s,t){const e=as(s.value,t.value);return e!==0?e:s.inclusive&&!t.inclusive?1:!s.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.value=t}static empty(){return new We({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!ff(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ku(e)}setAll(t){let e=ue.emptyPath(),r={},a=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,r,a),r={},a=[],e=d.popLast()}c?r[d.lastSegment()]=ku(c):a.push(d.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,r,a)}delete(t){const e=this.field(t.popLast());ff(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ir(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=e.mapValue.fields[t.get(r)];ff(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,r){ms(e,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new We(ku(this.value))}}function TA(s){const t=[];return ms(s.fields,(e,r)=>{const a=new ue([e]);if(ff(r)){const l=TA(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new Tn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,e,r,a,l,c,d){this.key=t,this.documentType=e,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new se(t,0,yt.min(),yt.min(),yt.min(),We.empty(),0)}static newFoundDocument(t,e,r,a){return new se(t,1,e,yt.min(),r,a,0)}static newNoDocument(t,e){return new se(t,2,e,yt.min(),yt.min(),We.empty(),0)}static newUnknownDocument(t,e){return new se(t,3,e,yt.min(),yt.min(),We.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=We.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=We.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof se&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new se(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,e){this.position=t,this.inclusive=e}}function YT(s,t,e){let r=0;for(let a=0;a<s.position.length;a++){const l=t[a],c=s.position[a];if(l.field.isKeyField()?r=lt.comparator(lt.fromName(c.referenceValue),e.key):r=as(c,e.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function $T(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let e=0;e<s.position.length;e++)if(!Ir(s.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t,e="asc"){this.field=t,this.dir=e}}function ux(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{}class Pt extends bA{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new cx(t,e,r):e==="array-contains"?new dx(t,r):e==="in"?new DA(t,r):e==="not-in"?new mx(t,r):e==="array-contains-any"?new gx(t,r):new Pt(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new hx(t,r):new fx(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(as(e,this.value)):e!==null&&ss(this.value)===ss(e)&&this.matchesComparison(as(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $t extends bA{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new $t(t,e)}matches(t){return Qo(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Qo(s){return s.op==="and"}function tp(s){return s.op==="or"}function Hp(s){return AA(s)&&Qo(s)}function AA(s){for(const t of s.filters)if(t instanceof $t)return!1;return!0}function ep(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+Ko(s.value);if(Hp(s))return s.filters.map(t=>ep(t)).join(",");{const t=s.filters.map(e=>ep(e)).join(",");return`${s.op}(${t})`}}function wA(s,t){return s instanceof Pt?function(r,a){return a instanceof Pt&&r.op===a.op&&r.field.isEqual(a.field)&&Ir(r.value,a.value)}(s,t):s instanceof $t?function(r,a){return a instanceof $t&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,d)=>l&&wA(c,a.filters[d]),!0):!1}(s,t):void dt(19439)}function SA(s,t){const e=s.filters.concat(t);return $t.create(e,s.op)}function RA(s){return s instanceof Pt?function(e){return`${e.field.canonicalString()} ${e.op} ${Ko(e.value)}`}(s):s instanceof $t?function(e){return e.op.toString()+" {"+e.getFilters().map(RA).join(" ,")+"}"}(s):"Filter"}class cx extends Pt{constructor(t,e,r){super(t,e,r),this.key=lt.fromName(r.referenceValue)}matches(t){const e=lt.comparator(t.key,this.key);return this.matchesComparison(e)}}class hx extends Pt{constructor(t,e){super(t,"in",e),this.keys=IA("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class fx extends Pt{constructor(t,e){super(t,"not-in",e),this.keys=IA("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function IA(s,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(r=>lt.fromName(r.referenceValue))}class dx extends Pt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ju(e)&&Zu(e.arrayValue,this.value)}}class DA extends Pt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Zu(this.value.arrayValue,e)}}class mx extends Pt{constructor(t,e){super(t,"not-in",e)}matches(t){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Zu(this.value.arrayValue,e)}}class gx extends Pt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ju(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>Zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(t,e=null,r=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function np(s,t=null,e=[],r=[],a=null,l=null,c=null){return new px(s,t,e,r,a,l,c)}function ga(s){const t=ct(s);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>ep(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),hc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Ko(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Ko(r)).join(",")),t.Ie=e}return t.Ie}function dc(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<s.orderBy.length;e++)if(!ux(s.orderBy[e],t.orderBy[e]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let e=0;e<s.filters.length;e++)if(!wA(s.filters[e],t.filters[e]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!$T(s.startAt,t.startAt)&&$T(s.endAt,t.endAt)}function Df(s){return lt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Cf(s,t){return s.filters.filter(e=>e instanceof Pt&&e.field.isEqual(t))}function XT(s,t,e){let r=cf,a=!0;for(const l of Cf(s,t)){let c=cf,d=!0;switch(l.op){case"<":case"<=":c=ox(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=cf}KT({value:r,inclusive:a},{value:c,inclusive:d})<0&&(r=c,a=d)}if(e!==null){for(let l=0;l<s.orderBy.length;++l)if(s.orderBy[l].field.isEqual(t)){const c=e.position[l];KT({value:r,inclusive:a},{value:c,inclusive:e.inclusive})<0&&(r=c,a=e.inclusive);break}}return{value:r,inclusive:a}}function ZT(s,t,e){let r=$i,a=!0;for(const l of Cf(s,t)){let c=$i,d=!0;switch(l.op){case">=":case">":c=lx(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=$i}QT({value:r,inclusive:a},{value:c,inclusive:d})>0&&(r=c,a=d)}if(e!==null){for(let l=0;l<s.orderBy.length;++l)if(s.orderBy[l].field.isEqual(t)){const c=e.position[l];QT({value:r,inclusive:a},{value:c,inclusive:e.inclusive})>0&&(r=c,a=e.inclusive);break}}return{value:r,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t,e=null,r=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function CA(s,t,e,r,a,l,c,d){return new hi(s,t,e,r,a,l,c,d)}function ol(s){return new hi(s)}function JT(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Kp(s){return s.collectionGroup!==null}function Oo(s){const t=ct(s);if(t.Ee===null){t.Ee=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),e.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Xt(ue.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new Wu(l,r))}),e.has(ue.keyField().canonicalString())||t.Ee.push(new Wu(ue.keyField(),r))}return t.Ee}function gn(s){const t=ct(s);return t.de||(t.de=yx(t,Oo(s))),t.de}function yx(s,t){if(s.limitType==="F")return np(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Wu(a.field,l)});const e=s.endAt?new os(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new os(s.startAt.position,s.startAt.inclusive):null;return np(s.path,s.collectionGroup,t,s.filters,s.limit,e,r)}}function rp(s,t){const e=s.filters.concat([t]);return new hi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),e,s.limit,s.limitType,s.startAt,s.endAt)}function xf(s,t,e){return new hi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,e,s.startAt,s.endAt)}function mc(s,t){return dc(gn(s),gn(t))&&s.limitType===t.limitType}function xA(s){return`${ga(gn(s))}|lt:${s.limitType}`}function Co(s){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(a=>RA(a)).join(", ")}]`),hc(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>Ko(a)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>Ko(a)).join(",")),`Target(${r})`}(gn(s))}; limitType=${s.limitType})`}function gc(s,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):lt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(s,t)&&function(r,a){for(const l of Oo(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(s,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(s,t)&&function(r,a){return!(r.startAt&&!function(c,d,m){const p=YT(c,d,m);return c.inclusive?p<=0:p<0}(r.startAt,Oo(r),a)||r.endAt&&!function(c,d,m){const p=YT(c,d,m);return c.inclusive?p>=0:p>0}(r.endAt,Oo(r),a))}(s,t)}function VA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function NA(s){return(t,e)=>{let r=!1;for(const a of Oo(s)){const l=_x(a,t,e);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function _x(s,t,e){const r=s.field.isKeyField()?lt.comparator(t.key,e.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?as(m,p):dt(42886)}(s.field,t,e);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return dt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[e]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){ms(this.inner,(e,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return fA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new ie(lt.comparator);function bn(){return vx}const OA=new ie(lt.comparator);function Nu(...s){let t=OA;for(const e of s)t=t.insert(e.key,e);return t}function MA(s){let t=OA;return s.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function br(){return Uu()}function PA(){return Uu()}function Uu(){return new fi(s=>s.toString(),(s,t)=>s.isEqual(t))}const Ex=new ie(lt.comparator),Tx=new Xt(lt.comparator);function It(...s){let t=Tx;for(const e of s)t=t.add(e);return t}const bx=new Xt(wt);function Qp(){return bx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(t)?"-0":t}}function LA(s){return{integerValue:""+s}}function kA(s,t){return nA(t)?LA(t):Yp(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(){this._=void 0}}function Ax(s,t,e){return s instanceof Yo?function(a,l){const c={fields:{[gA]:{stringValue:mA},[yA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Yf(l)&&(l=$f(l)),l&&(c.fields[pA]=l),{mapValue:c}}(e,t):s instanceof pa?BA(s,t):s instanceof ya?zA(s,t):function(a,l){const c=UA(a,l),d=WT(c)+WT(a.Re);return Wg(c)&&Wg(a.Re)?LA(d):Yp(a.serializer,d)}(s,t)}function wx(s,t,e){return s instanceof pa?BA(s,t):s instanceof ya?zA(s,t):e}function UA(s,t){return s instanceof $o?function(r){return Wg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class Yo extends Zf{}class pa extends Zf{constructor(t){super(),this.elements=t}}function BA(s,t){const e=qA(t);for(const r of s.elements)e.some(a=>Ir(a,r))||e.push(r);return{arrayValue:{values:e}}}class ya extends Zf{constructor(t){super(),this.elements=t}}function zA(s,t){let e=qA(t);for(const r of s.elements)e=e.filter(a=>!Ir(a,r));return{arrayValue:{values:e}}}class $o extends Zf{constructor(t,e){super(),this.serializer=t,this.Re=e}}function WT(s){return le(s.integerValue||s.doubleValue)}function qA(s){return Ju(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,e){this.field=t,this.transform=e}}function Sx(s,t){return s.field.isEqual(t.field)&&function(r,a){return r instanceof pa&&a instanceof pa||r instanceof ya&&a instanceof ya?Bo(r.elements,a.elements,Ir):r instanceof $o&&a instanceof $o?Ir(r.Re,a.Re):r instanceof Yo&&a instanceof Yo}(s.transform,t.transform)}class Rx{constructor(t,e){this.version=t,this.transformResults=e}}class ce{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ce}static exists(t){return new ce(void 0,t)}static updateTime(t){return new ce(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function df(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Jf{}function FA(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new ul(s.key,ce.none()):new ll(s.key,s.data,ce.none());{const e=s.data,r=We.empty();let a=new Xt(ue.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new di(s.key,r,new Tn(a.toArray()),ce.none())}}function Ix(s,t,e){s instanceof ll?function(a,l,c){const d=a.value.clone(),m=e0(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(s,t,e):s instanceof di?function(a,l,c){if(!df(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=e0(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(jA(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(s,t,e):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function Bu(s,t,e,r){return s instanceof ll?function(l,c,d,m){if(!df(l.precondition,c))return d;const p=l.value.clone(),_=n0(l.fieldTransforms,m,c);return p.setAll(_),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(s,t,e,r):s instanceof di?function(l,c,d,m){if(!df(l.precondition,c))return d;const p=n0(l.fieldTransforms,m,c),_=c.data;return _.setAll(jA(l)),_.setAll(p),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(s,t,e,r):function(l,c,d){return df(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(s,t,e)}function Dx(s,t){let e=null;for(const r of s.fieldTransforms){const a=t.data.field(r.field),l=UA(r.transform,a||null);l!=null&&(e===null&&(e=We.empty()),e.set(r.field,l))}return e||null}function t0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Bo(r,a,(l,c)=>Sx(l,c))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ll extends Jf{constructor(t,e,r,a=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class di extends Jf{constructor(t,e,r,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function jA(s){const t=new Map;return s.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=s.data.field(e);t.set(e,r)}}),t}function e0(s,t,e){const r=new Map;pt(s.length===e.length,32656,{Ve:e.length,me:s.length});for(let a=0;a<e.length;a++){const l=s[a],c=l.transform,d=t.data.field(l.field);r.set(l.field,wx(c,d,e[a]))}return r}function n0(s,t,e){const r=new Map;for(const a of s){const l=a.transform,c=e.data.field(a.field);r.set(a.field,Ax(l,c,t))}return r}class ul extends Jf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $p extends Jf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,e,r,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&Ix(l,t,r[a])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Bu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Bu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=PA();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=e.has(a.key)?null:d;const m=FA(c,d);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),It())}isEqual(t){return this.batchId===t.batchId&&Bo(this.mutations,t.mutations,(e,r)=>t0(e,r))&&Bo(this.baseMutations,t.baseMutations,(e,r)=>t0(e,r))}}class Zp{constructor(t,e,r,a){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=a}static from(t,e,r){pt(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let a=function(){return Ex}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Zp(t,e,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,zt;function GA(s){switch(s){case K.OK:return dt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return dt(15467,{code:s})}}function HA(s){if(s===void 0)return Ae("GRPC error has no .code"),K.UNKNOWN;switch(s){case xe.OK:return K.OK;case xe.CANCELLED:return K.CANCELLED;case xe.UNKNOWN:return K.UNKNOWN;case xe.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case xe.INTERNAL:return K.INTERNAL;case xe.UNAVAILABLE:return K.UNAVAILABLE;case xe.UNAUTHENTICATED:return K.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case xe.NOT_FOUND:return K.NOT_FOUND;case xe.ALREADY_EXISTS:return K.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return K.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case xe.ABORTED:return K.ABORTED;case xe.OUT_OF_RANGE:return K.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return K.UNIMPLEMENTED;case xe.DATA_LOSS:return K.DATA_LOSS;default:return dt(39323,{code:s})}}(zt=xe||(xe={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=new Ji([4294967295,4294967295],0);function r0(s){const t=Lp().encode(s),e=new qb;return e.update(t),new Uint8Array(e.digest())}function i0(s){const t=new DataView(s.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Ji([e,r],0),new Ji([a,l],0)]}class Wp{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Ou(`Invalid padding: ${e}`);if(r<0)throw new Ou(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=Ji.fromNumber(this.pe)}we(t,e,r){let a=t.add(e.multiply(Ji.fromNumber(r)));return a.compare(xx)===1&&(a=new Ji([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=r0(t),[r,a]=i0(e);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);if(!this.be(c))return!1}return!0}static create(t,e,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Wp(l,a,e);return r.forEach(d=>c.insert(d)),c}insert(t){if(this.pe===0)return;const e=r0(t),[r,a]=i0(e);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,e,r,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const a=new Map;return a.set(t,_c.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new yc(yt.min(),a,new ie(wt),bn(),It())}}class _c{constructor(t,e,r,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new _c(r,e,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(t,e,r,a){this.De=t,this.removedTargetIds=e,this.key=r,this.ve=a}}class KA{constructor(t,e){this.targetId=t,this.Ce=e}}class QA{constructor(t,e,r=ve.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=a}}class s0{constructor(){this.Fe=0,this.Me=a0(),this.xe=ve.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=It(),e=It(),r=It();return this.Me.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:r=r.add(a);break;default:dt(38017,{changeType:l})}}),new _c(this.xe,this.Oe,t,e,r)}Qe(){this.Ne=!1,this.Me=a0()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,pt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Vx{constructor(t){this.ze=t,this.je=new Map,this.He=bn(),this.Je=Jh(),this.Ye=Jh(),this.Ze=new ie(wt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const r=this.rt(e);switch(t.state){case 0:this.it(e)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(e);break;case 3:this.it(e)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),r.ke(t.resumeToken));break;default:dt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((r,a)=>{this.it(a)&&e(a)})}ot(t){const e=t.targetId,r=t.Ce.count,a=this._t(e);if(a){const l=a.target;if(Df(l))if(r===0){const c=new lt(l.path);this.tt(e,c,se.newNoDocument(c,yt.min()))}else pt(r===1,20013,{expectedCount:r});else{const c=this.ut(e);if(c!==r){const d=this.ct(t),m=d?this.lt(d,t,c):1;if(m!==0){this.st(e);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,p)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=e;let c,d;try{c=li(r).toUint8Array()}catch(m){if(m instanceof dA)return Rr("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Wp(c,a,l)}catch(m){return Rr(m instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(t,e,r){return e.Ce.count===r-this.Tt(t,e.targetId)?0:2}Tt(t,e){const r=this.ze.getRemoteKeysForTarget(e);let a=0;return r.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.tt(e,l,null),a++)}),a}It(t){const e=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&Df(d.target)){const m=new lt(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,se.newNoDocument(m,t))}l.Le&&(e.set(c,l.qe()),l.Qe())}});let r=It();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.He.forEach((l,c)=>c.setReadTime(t));const a=new yc(t,e,this.Ze,this.He,r);return this.He=bn(),this.Je=Jh(),this.Ye=Jh(),this.Ze=new ie(wt),a}et(t,e){if(!this.it(t))return;const r=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,r),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,r){if(!this.it(t))return;const a=this.rt(t);this.dt(t,e)?a.$e(e,1):a.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),r&&(this.He=this.He.insert(e,r))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new s0,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Xt(wt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Xt(wt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||rt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new s0),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Jh(){return new ie(lt.comparator)}function a0(){return new ie(lt.comparator)}const Nx={asc:"ASCENDING",desc:"DESCENDING"},Ox={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mx={and:"AND",or:"OR"};class Px{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ip(s,t){return s.useProto3Json||hc(t)?t:{value:t}}function Xo(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function YA(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Lx(s,t){return Xo(s,t.toTimestamp())}function we(s){return pt(!!s,49232),yt.fromTimestamp(function(e){const r=oi(e);return new he(r.seconds,r.nanos)}(s))}function ty(s,t){return sp(s,t).canonicalString()}function sp(s,t){const e=function(a){return new Mt(["projects",a.projectId,"databases",a.database])}(s).child("documents");return t===void 0?e:e.child(t)}function $A(s){const t=Mt.fromString(s);return pt(sw(t),10190,{key:t.toString()}),t}function tc(s,t){return ty(s.databaseId,t.path)}function wr(s,t){const e=$A(t);if(e.get(1)!==s.databaseId.projectId)throw new nt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+s.databaseId.projectId);if(e.get(3)!==s.databaseId.database)throw new nt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+s.databaseId.database);return new lt(JA(e))}function XA(s,t){return ty(s.databaseId,t)}function ZA(s){const t=$A(s);return t.length===4?Mt.emptyPath():JA(t)}function ap(s){return new Mt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function JA(s){return pt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function o0(s,t,e){return{name:tc(s,t),fields:e.value.mapValue.fields}}function WA(s,t,e){const r=wr(s,t.name),a=we(t.updateTime),l=t.createTime?we(t.createTime):yt.min(),c=new We({mapValue:{fields:t.fields}}),d=se.newFoundDocument(r,a,l,c);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function kx(s,t){return"found"in t?function(r,a){pt(!!a.found,43571),a.found.name,a.found.updateTime;const l=wr(r,a.found.name),c=we(a.found.updateTime),d=a.found.createTime?we(a.found.createTime):yt.min(),m=new We({mapValue:{fields:a.found.fields}});return se.newFoundDocument(l,c,d,m)}(s,t):"missing"in t?function(r,a){pt(!!a.missing,3894),pt(!!a.readTime,22933);const l=wr(r,a.missing),c=we(a.readTime);return se.newNoDocument(l,c)}(s,t):dt(7234,{result:t})}function Ux(s,t){let e;if("targetChange"in t){t.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:dt(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(p,_){return p.useProto3Json?(pt(_===void 0||typeof _=="string",58123),ve.fromBase64String(_||"")):(pt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),ve.fromUint8Array(_||new Uint8Array))}(s,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const _=p.code===void 0?K.UNKNOWN:HA(p.code);return new nt(_,p.message||"")}(c);e=new QA(r,a,l,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=wr(s,r.document.name),l=we(r.document.updateTime),c=r.document.createTime?we(r.document.createTime):yt.min(),d=new We({mapValue:{fields:r.document.fields}}),m=se.newFoundDocument(a,l,c,d),p=r.targetIds||[],_=r.removedTargetIds||[];e=new mf(p,_,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=wr(s,r.document),l=r.readTime?we(r.readTime):yt.min(),c=se.newNoDocument(a,l),d=r.removedTargetIds||[];e=new mf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=wr(s,r.document),l=r.removedTargetIds||[];e=new mf([],l,a,null)}else{if(!("filter"in t))return dt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new Cx(a,l),d=r.targetId;e=new KA(d,c)}}return e}function ec(s,t){let e;if(t instanceof ll)e={update:o0(s,t.key,t.value)};else if(t instanceof ul)e={delete:tc(s,t.key)};else if(t instanceof di)e={update:o0(s,t.key,t.data),updateMask:Gx(t.fieldMask)};else{if(!(t instanceof $p))return dt(16599,{ft:t.type});e={verify:tc(s,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(l,c){const d=c.transform;if(d instanceof Yo)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof pa)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ya)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $o)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw dt(20930,{transform:c.transform})}(0,r))),t.precondition.isNone||(e.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:Lx(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:dt(27497)}(s,t.precondition)),e}function op(s,t){const e=t.currentDocument?function(l){return l.updateTime!==void 0?ce.updateTime(we(l.updateTime)):l.exists!==void 0?ce.exists(l.exists):ce.none()}(t.currentDocument):ce.none(),r=t.updateTransforms?t.updateTransforms.map(a=>function(c,d){let m=null;if("setToServerValue"in d)pt(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),m=new Yo;else if("appendMissingElements"in d){const _=d.appendMissingElements.values||[];m=new pa(_)}else if("removeAllFromArray"in d){const _=d.removeAllFromArray.values||[];m=new ya(_)}else"increment"in d?m=new $o(c,d.increment):dt(16584,{proto:d});const p=ue.fromServerFormat(d.fieldPath);return new pc(p,m)}(s,a)):[];if(t.update){t.update.name;const a=wr(s,t.update.name),l=new We({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=function(m){const p=m.fieldPaths||[];return new Tn(p.map(_=>ue.fromServerFormat(_)))}(t.updateMask);return new di(a,l,c,e,r)}return new ll(a,l,e,r)}if(t.delete){const a=wr(s,t.delete);return new ul(a,e)}if(t.verify){const a=wr(s,t.verify);return new $p(a,e)}return dt(1463,{proto:t})}function Bx(s,t){return s&&s.length>0?(pt(t!==void 0,14353),s.map(e=>function(a,l){let c=a.updateTime?we(a.updateTime):we(l);return c.isEqual(yt.min())&&(c=we(l)),new Rx(c,a.transformResults||[])}(e,t))):[]}function tw(s,t){return{documents:[XA(s,t.path)]}}function ew(s,t){const e={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=XA(s,a);const l=function(p){if(p.length!==0)return iw($t.create(p,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(_=>function(A){return{field:xo(A.field),direction:qx(A.dir)}}(_))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=ip(s,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{gt:e,parent:a}}function nw(s){let t=ZA(s.parent);const e=s.structuredQuery,r=e.from?e.from.length:0;let a=null;if(r>0){pt(r===1,65062);const _=e.from[0];_.allDescendants?a=_.collectionId:t=t.child(_.collectionId)}let l=[];e.where&&(l=function(T){const A=rw(T);return A instanceof $t&&Hp(A)?A.getFilters():[A]}(e.where));let c=[];e.orderBy&&(c=function(T){return T.map(A=>function(N){return new Wu(Vo(N.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(A))}(e.orderBy));let d=null;e.limit&&(d=function(T){let A;return A=typeof T=="object"?T.value:T,hc(A)?null:A}(e.limit));let m=null;e.startAt&&(m=function(T){const A=!!T.before,D=T.values||[];return new os(D,A)}(e.startAt));let p=null;return e.endAt&&(p=function(T){const A=!T.before,D=T.values||[];return new os(D,A)}(e.endAt)),CA(t,a,c,l,d,"F",m,p)}function zx(s,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:a})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function rw(s){return s.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Vo(e.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Vo(e.unaryFilter.field);return Pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Vo(e.unaryFilter.field);return Pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vo(e.unaryFilter.field);return Pt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(s):s.fieldFilter!==void 0?function(e){return Pt.create(Vo(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(e){return $t.create(e.compositeFilter.filters.map(r=>rw(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(e.compositeFilter.op))}(s):dt(30097,{filter:s})}function qx(s){return Nx[s]}function Fx(s){return Ox[s]}function jx(s){return Mx[s]}function xo(s){return{fieldPath:s.canonicalString()}}function Vo(s){return ue.fromServerFormat(s.fieldPath)}function iw(s){return s instanceof Pt?function(e){if(e.op==="=="){if(HT(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NAN"}};if(GT(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(HT(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NOT_NAN"}};if(GT(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(e.field),op:Fx(e.op),value:e.value}}}(s):s instanceof $t?function(e){const r=e.getFilters().map(a=>iw(a));return r.length===1?r[0]:{compositeFilter:{op:jx(e.op),filters:r}}}(s):dt(54877,{filter:s})}function Gx(s){const t=[];return s.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function sw(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t,e,r,a,l=yt.min(),c=yt.min(),d=ve.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new ni(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t){this.wt=t}}function Hx(s,t){let e;if(t.document)e=WA(s.wt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=lt.fromSegments(t.noDocument.path),a=va(t.noDocument.readTime);e=se.newNoDocument(r,a),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return dt(56709);{const r=lt.fromSegments(t.unknownDocument.path),a=va(t.unknownDocument.version);e=se.newUnknownDocument(r,a)}}return t.readTime&&e.setReadTime(function(a){const l=new he(a[0],a[1]);return yt.fromTimestamp(l)}(t.readTime)),e}function l0(s,t){const e=t.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Vf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(l,c){return{name:tc(l,c.key),fields:c.data.value.mapValue.fields,updateTime:Xo(l,c.version.toTimestamp()),createTime:Xo(l,c.createTime.toTimestamp())}}(s.wt,t);else if(t.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:_a(t.version)};else{if(!t.isUnknownDocument())return dt(57904,{document:t});r.unknownDocument={path:e.path.toArray(),version:_a(t.version)}}return r}function Vf(s){const t=s.toTimestamp();return[t.seconds,t.nanoseconds]}function _a(s){const t=s.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function va(s){const t=new he(s.seconds,s.nanoseconds);return yt.fromTimestamp(t)}function sa(s,t){const e=(t.baseMutations||[]).map(l=>op(s.wt,l));for(let l=0;l<t.mutations.length-1;++l){const c=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const d=t.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const r=t.mutations.map(l=>op(s.wt,l)),a=he.fromMillis(t.localWriteTimeMs);return new Xp(t.batchId,a,e,r)}function Mu(s){const t=va(s.readTime),e=s.lastLimboFreeSnapshotVersion!==void 0?va(s.lastLimboFreeSnapshotVersion):yt.min();let r;return r=function(l){return l.documents!==void 0}(s.query)?function(l){const c=l.documents.length;return pt(c===1,1966,{count:c}),gn(ol(ZA(l.documents[0])))}(s.query):function(l){return gn(nw(l))}(s.query),new ni(r,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,t,e,ve.fromBase64String(s.resumeToken))}function ow(s,t){const e=_a(t.snapshotVersion),r=_a(t.lastLimboFreeSnapshotVersion);let a;a=Df(t.target)?tw(s.wt,t.target):ew(s.wt,t.target).gt;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ga(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function ey(s){const t=nw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?xf(t,t.limit,"L"):t}function xg(s,t){return new Jp(t.largestBatchId,op(s.wt,t.overlayMutation))}function u0(s,t){const e=t.path.lastSegment();return[s,on(t.path.popLast()),e]}function c0(s,t,e,r){return{indexId:s,uid:t,sequenceNumber:e,readTime:_a(r.readTime),documentKey:on(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{getBundleMetadata(t,e){return h0(t).get(e).next(r=>{if(r)return function(l){return{id:l.bundleId,createTime:va(l.createTime),version:l.version}}(r)})}saveBundleMetadata(t,e){return h0(t).put(function(a){return{bundleId:a.id,createTime:_a(we(a.createTime)),version:a.version}}(e))}getNamedQuery(t,e){return f0(t).get(e).next(r=>{if(r)return function(l){return{name:l.name,query:ey(l.bundledQuery),readTime:va(l.readTime)}}(r)})}saveNamedQuery(t,e){return f0(t).put(function(a){return{name:a.name,readTime:_a(we(a.readTime)),bundledQuery:a.bundledQuery}}(e))}}function h0(s){return ke(s,Hf)}function f0(s){return ke(s,Kf)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,e){this.serializer=t,this.userId=e}static bt(t,e){const r=e.uid||"";return new Wf(t,r)}getOverlay(t,e){return Ru(t).get(u0(this.userId,e)).next(r=>r?xg(this.serializer,r):null)}getOverlays(t,e){const r=br();return z.forEach(e,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,e,r){const a=[];return r.forEach((l,c)=>{const d=new Jp(e,c);a.push(this.St(t,d))}),z.waitFor(a)}removeOverlaysForBatchId(t,e,r){const a=new Set;e.forEach(c=>a.add(on(c.getCollectionPath())));const l=[];return a.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(Ru(t).X(Xg,d))}),z.waitFor(l)}getOverlaysForCollection(t,e,r){const a=br(),l=on(e),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Ru(t).J(Xg,c).next(d=>{for(const m of d){const p=xg(this.serializer,m);a.set(p.getKey(),p)}return a})}getOverlaysForCollectionGroup(t,e,r,a){const l=br();let c;const d=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Ru(t).te({index:lA,range:d},(m,p,_)=>{const T=xg(this.serializer,p);l.size()<a||T.largestBatchId===c?(l.set(T.getKey(),T),c=T.largestBatchId):_.done()}).next(()=>l)}St(t,e){return Ru(t).put(function(a,l,c){const[d,m,p]=u0(l,c.mutation.key);return{userId:l,collectionPath:m,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:ec(a.wt,c.mutation)}}(this.serializer,this.userId,e))}}function Ru(s){return ke(s,Qf)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{Dt(t){return ke(t,qp)}getSessionToken(t){return this.Dt(t).get("sessionToken").next(e=>{const r=e==null?void 0:e.value;return r?ve.fromUint8Array(r):ve.EMPTY_BYTE_STRING})}setSessionToken(t,e){return this.Dt(t).put({name:"sessionToken",value:e.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){}vt(t,e){this.Ct(t,e),e.Ft()}Ct(t,e){if("nullValue"in t)this.Mt(e,5);else if("booleanValue"in t)this.Mt(e,10),e.xt(t.booleanValue?1:0);else if("integerValue"in t)this.Mt(e,15),e.xt(le(t.integerValue));else if("doubleValue"in t){const r=le(t.doubleValue);isNaN(r)?this.Mt(e,13):(this.Mt(e,15),Ku(r)?e.xt(0):e.xt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Mt(e,20),typeof r=="string"&&(r=oi(r)),e.Ot(`${r.seconds||""}`),e.xt(r.nanos||0)}else if("stringValue"in t)this.Nt(t.stringValue,e),this.Bt(e);else if("bytesValue"in t)this.Mt(e,30),e.Lt(li(t.bytesValue)),this.Bt(e);else if("referenceValue"in t)this.kt(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.Mt(e,45),e.xt(r.latitude||0),e.xt(r.longitude||0)}else"mapValue"in t?vA(t)?this.Mt(e,Number.MAX_SAFE_INTEGER):Xf(t)?this.qt(t.mapValue,e):(this.Qt(t.mapValue,e),this.Bt(e)):"arrayValue"in t?(this.$t(t.arrayValue,e),this.Bt(e)):dt(19022,{Ut:t})}Nt(t,e){this.Mt(e,25),this.Kt(t,e)}Kt(t,e){e.Ot(t)}Qt(t,e){const r=t.fields||{};this.Mt(e,55);for(const a of Object.keys(r))this.Nt(a,e),this.Ct(r[a],e)}qt(t,e){var r,a;const l=t.fields||{};this.Mt(e,53);const c=Ho,d=((a=(r=l[c].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.length)||0;this.Mt(e,15),e.xt(le(d)),this.Nt(c,e),this.Ct(l[c],e)}$t(t,e){const r=t.values||[];this.Mt(e,50);for(const a of r)this.Ct(a,e)}kt(t,e){this.Mt(e,37),lt.fromName(t).path.forEach(r=>{this.Mt(e,60),this.Kt(r,e)})}Mt(t,e){t.xt(e)}Bt(t){t.xt(2)}}aa.Wt=new aa;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=255;function Yx(s){if(s===0)return 8;let t=0;return s>>4||(t+=4,s<<=4),s>>6||(t+=2,s<<=2),s>>7||(t+=1),t}function d0(s){const t=64-function(r){let a=0;for(let l=0;l<8;++l){const c=Yx(255&r[l]);if(a+=c,c!==8)break}return a}(s);return Math.ceil(t/8)}class $x{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.zt(r.value),r=e.next();this.jt()}Ht(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Jt(r.value),r=e.next();this.Yt()}Zt(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(e<"\uD800"||"\uDBFF"<e)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const a=e.codePointAt(0);this.zt(240|a>>>18),this.zt(128|63&a>>>12),this.zt(128|63&a>>>6),this.zt(128|63&a)}}this.jt()}Xt(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(e<"\uD800"||"\uDBFF"<e)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const a=e.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Yt()}en(t){const e=this.tn(t),r=d0(e);this.nn(1+r),this.buffer[this.position++]=255&r;for(let a=e.length-r;a<e.length;++a)this.buffer[this.position++]=255&e[a]}rn(t){const e=this.tn(t),r=d0(e);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let a=e.length-r;a<e.length;++a)this.buffer[this.position++]=~(255&e[a])}sn(){this._n(wo),this._n(255)}an(){this.un(wo),this.un(255)}reset(){this.position=0}seed(t){this.nn(t.length),this.buffer.set(t,this.position),this.position+=t.length}cn(){return this.buffer.slice(0,this.position)}tn(t){const e=function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)}(t),r=!!(128&e[0]);e[0]^=r?255:128;for(let a=1;a<e.length;++a)e[a]^=r?255:0;return e}zt(t){const e=255&t;e===0?(this._n(0),this._n(255)):e===wo?(this._n(wo),this._n(0)):this._n(e)}Jt(t){const e=255&t;e===0?(this.un(0),this.un(255)):e===wo?(this.un(wo),this.un(0)):this.un(t)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(t){this.nn(1),this.buffer[this.position++]=t}un(t){this.nn(1),this.buffer[this.position++]=~t}nn(t){const e=t+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class Xx{constructor(t){this.ln=t}Lt(t){this.ln.Gt(t)}Ot(t){this.ln.Zt(t)}xt(t){this.ln.en(t)}Ft(){this.ln.sn()}}class Zx{constructor(t){this.ln=t}Lt(t){this.ln.Ht(t)}Ot(t){this.ln.Xt(t)}xt(t){this.ln.rn(t)}Ft(){this.ln.an()}}class Iu{constructor(){this.ln=new $x,this.hn=new Xx(this.ln),this.Pn=new Zx(this.ln)}seed(t){this.ln.seed(t)}Tn(t){return t===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,e,r,a){this.indexId=t,this.documentKey=e,this.arrayValue=r,this.directionalValue=a}In(){const t=this.directionalValue.length,e=t===0||this.directionalValue[t-1]===255?t+1:t,r=new Uint8Array(e);return r.set(this.directionalValue,0),e!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new oa(this.indexId,this.documentKey,this.arrayValue,r)}}function Gi(s,t){let e=s.indexId-t.indexId;return e!==0?e:(e=m0(s.arrayValue,t.arrayValue),e!==0?e:(e=m0(s.directionalValue,t.directionalValue),e!==0?e:lt.comparator(s.documentKey,t.documentKey)))}function m0(s,t){for(let e=0;e<s.length&&e<t.length;++e){const r=s[e]-t[e];if(r!==0)return r}return s.length-t.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t){this.En=new Xt((e,r)=>ue.comparator(e.field,r.field)),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.An=[];for(const e of t.filters){const r=e;r.isInequality()?this.En=this.En.add(r):this.An.push(r)}}get Rn(){return this.En.size>1}Vn(t){if(pt(t.collectionGroup===this.collectionId,49279),this.Rn)return!1;const e=Qg(t);if(e!==void 0&&!this.mn(e))return!1;const r=na(t);let a=new Set,l=0,c=0;for(;l<r.length&&this.mn(r[l]);++l)a=a.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.En.size>0){const d=this.En.getIterator().getNext();if(!a.has(d.field.canonicalString())){const m=r[l];if(!this.fn(d,m)||!this.gn(this.dn[c++],m))return!1}++l}for(;l<r.length;++l){const d=r[l];if(c>=this.dn.length||!this.gn(this.dn[c++],d))return!1}return!0}pn(){if(this.Rn)return null;let t=new Xt(ue.comparator);const e=[];for(const r of this.An)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")e.push(new of(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),e.push(new of(r.field,0))}for(const r of this.dn)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),e.push(new of(r.field,r.dir==="asc"?0:1)));return new Tf(Tf.UNKNOWN_ID,this.collectionId,e,Hu.empty())}mn(t){for(const e of this.An)if(this.fn(e,t))return!0;return!1}fn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===r}gn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(s){var t,e;if(pt(s instanceof Pt||s instanceof $t,20012),s instanceof Pt){if(s instanceof DA){const a=((e=(t=s.value.arrayValue)===null||t===void 0?void 0:t.values)===null||e===void 0?void 0:e.map(l=>Pt.create(s.field,"==",l)))||[];return $t.create(a,"or")}return s}const r=s.filters.map(a=>lw(a));return $t.create(r,s.op)}function Jx(s){if(s.getFilters().length===0)return[];const t=cp(lw(s));return pt(uw(t),7391),lp(t)||up(t)?[t]:t.getFilters()}function lp(s){return s instanceof Pt}function up(s){return s instanceof $t&&Hp(s)}function uw(s){return lp(s)||up(s)||function(e){if(e instanceof $t&&tp(e)){for(const r of e.getFilters())if(!lp(r)&&!up(r))return!1;return!0}return!1}(s)}function cp(s){if(pt(s instanceof Pt||s instanceof $t,34018),s instanceof Pt)return s;if(s.filters.length===1)return cp(s.filters[0]);const t=s.filters.map(r=>cp(r));let e=$t.create(t,s.op);return e=Nf(e),uw(e)?e:(pt(e instanceof $t,64498),pt(Qo(e),40251),pt(e.filters.length>1,57927),e.filters.reduce((r,a)=>ny(r,a)))}function ny(s,t){let e;return pt(s instanceof Pt||s instanceof $t,38388),pt(t instanceof Pt||t instanceof $t,25473),e=s instanceof Pt?t instanceof Pt?function(a,l){return $t.create([a,l],"and")}(s,t):p0(s,t):t instanceof Pt?p0(t,s):function(a,l){if(pt(a.filters.length>0&&l.filters.length>0,48005),Qo(a)&&Qo(l))return SA(a,l.getFilters());const c=tp(a)?a:l,d=tp(a)?l:a,m=c.filters.map(p=>ny(p,d));return $t.create(m,"or")}(s,t),Nf(e)}function p0(s,t){if(Qo(t))return SA(t,s.getFilters());{const e=t.filters.map(r=>ny(s,r));return $t.create(e,"or")}}function Nf(s){if(pt(s instanceof Pt||s instanceof $t,11850),s instanceof Pt)return s;const t=s.getFilters();if(t.length===1)return Nf(t[0]);if(AA(s))return s;const e=t.map(a=>Nf(a)),r=[];return e.forEach(a=>{a instanceof Pt?r.push(a):a instanceof $t&&(a.op===s.op?r.push(...a.filters):r.push(a))}),r.length===1?r[0]:$t.create(r,s.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.yn=new ry}addToCollectionParentIndex(t,e){return this.yn.add(e),z.resolve()}getCollectionParents(t,e){return z.resolve(this.yn.getEntries(e))}addFieldIndex(t,e){return z.resolve()}deleteFieldIndex(t,e){return z.resolve()}deleteAllFieldIndexes(t){return z.resolve()}createTargetIndexes(t,e){return z.resolve()}getDocumentsMatchingTarget(t,e){return z.resolve(null)}getIndexType(t,e){return z.resolve(0)}getFieldIndexes(t,e){return z.resolve([])}getNextCollectionGroupToUpdate(t){return z.resolve(null)}getMinOffset(t,e){return z.resolve(On.min())}getMinOffsetFromCollectionGroup(t,e){return z.resolve(On.min())}updateCollectionGroup(t,e,r){return z.resolve()}updateIndexEntries(t,e){return z.resolve()}}class ry{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e]||new Xt(Mt.comparator),l=!a.has(r);return this.index[e]=a.add(r),l}has(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e];return a&&a.has(r)}getEntries(t){return(this.index[t]||new Xt(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="IndexedDbIndexManager",Wh=new Uint8Array(0);class t2{constructor(t,e){this.databaseId=e,this.wn=new ry,this.bn=new fi(r=>ga(r),(r,a)=>dc(r,a)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.wn.has(e)){const r=e.lastSegment(),a=e.popLast();t.addOnCommittedListener(()=>{this.wn.add(e)});const l={collectionId:r,parent:on(a)};return _0(t).put(l)}return z.resolve()}getCollectionParents(t,e){const r=[],a=IDBKeyRange.bound([e,""],[Xb(e),""],!1,!0);return _0(t).J(a).next(l=>{for(const c of l){if(c.collectionId!==e)break;r.push(Tr(c.parent))}return r})}addFieldIndex(t,e){const r=Du(t),a=function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])}}(e);delete a.indexId;const l=r.add(a);if(e.indexState){const c=Ro(t);return l.next(d=>{c.put(c0(d,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return l.next()}deleteFieldIndex(t,e){const r=Du(t),a=Ro(t),l=So(t);return r.delete(e.indexId).next(()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=Du(t),r=So(t),a=Ro(t);return e.X().next(()=>r.X()).next(()=>a.X())}createTargetIndexes(t,e){return z.forEach(this.Sn(e),r=>this.getIndexType(t,r).next(a=>{if(a===0||a===1){const l=new g0(r).pn();if(l!=null)return this.addFieldIndex(t,l)}}))}getDocumentsMatchingTarget(t,e){const r=So(t);let a=!0;const l=new Map;return z.forEach(this.Sn(e),c=>this.Dn(t,c).next(d=>{a&&(a=!!d),l.set(c,d)})).next(()=>{if(a){let c=It();const d=[];return z.forEach(l,(m,p)=>{rt(y0,`Using index ${function(Z){return`id=${Z.indexId}|cg=${Z.collectionGroup}|f=${Z.fields.map(mt=>`${mt.fieldPath}:${mt.kind}`).join(",")}`}(m)} to execute ${ga(e)}`);const _=function(Z,mt){const ft=Qg(mt);if(ft===void 0)return null;for(const Et of Cf(Z,ft.fieldPath))switch(Et.op){case"array-contains-any":return Et.value.arrayValue.values||[];case"array-contains":return[Et.value]}return null}(p,m),T=function(Z,mt){const ft=new Map;for(const Et of na(mt))for(const x of Cf(Z,Et.fieldPath))switch(x.op){case"==":case"in":ft.set(Et.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return ft.set(Et.fieldPath.canonicalString(),x.value),Array.from(ft.values())}return null}(p,m),A=function(Z,mt){const ft=[];let Et=!0;for(const x of na(mt)){const S=x.kind===0?XT(Z,x.fieldPath,Z.startAt):ZT(Z,x.fieldPath,Z.startAt);ft.push(S.value),Et&&(Et=S.inclusive)}return new os(ft,Et)}(p,m),D=function(Z,mt){const ft=[];let Et=!0;for(const x of na(mt)){const S=x.kind===0?ZT(Z,x.fieldPath,Z.endAt):XT(Z,x.fieldPath,Z.endAt);ft.push(S.value),Et&&(Et=S.inclusive)}return new os(ft,Et)}(p,m),N=this.vn(m,p,A),G=this.vn(m,p,D),U=this.Cn(m,p,T),Y=this.Fn(m.indexId,_,N,A.inclusive,G,D.inclusive,U);return z.forEach(Y,st=>r.Z(st,e.limit).next(Z=>{Z.forEach(mt=>{const ft=lt.fromSegments(mt.documentKey);c.has(ft)||(c=c.add(ft),d.push(ft))})}))}).next(()=>d)}return z.resolve(null)})}Sn(t){let e=this.bn.get(t);return e||(t.filters.length===0?e=[t]:e=Jx($t.create(t.filters,"and")).map(r=>np(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt)),this.bn.set(t,e),e)}Fn(t,e,r,a,l,c,d){const m=(e!=null?e.length:1)*Math.max(r.length,l.length),p=m/(e!=null?e.length:1),_=[];for(let T=0;T<m;++T){const A=e?this.Mn(e[T/p]):Wh,D=this.xn(t,A,r[T%p],a),N=this.On(t,A,l[T%p],c),G=d.map(U=>this.xn(t,A,U,!0));_.push(...this.createRange(D,N,G))}return _}xn(t,e,r,a){const l=new oa(t,lt.empty(),e,r);return a?l:l.In()}On(t,e,r,a){const l=new oa(t,lt.empty(),e,r);return a?l.In():l}Dn(t,e){const r=new g0(e),a=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,a).next(l=>{let c=null;for(const d of l)r.Vn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(t,e){let r=2;const a=this.Sn(e);return z.forEach(a,l=>this.Dn(t,l).next(c=>{c?r!==0&&c.fields.length<function(m){let p=new Xt(ue.comparator),_=!1;for(const T of m.filters)for(const A of T.getFlattenedFilters())A.field.isKeyField()||(A.op==="array-contains"||A.op==="array-contains-any"?_=!0:p=p.add(A.field));for(const T of m.orderBy)T.field.isKeyField()||(p=p.add(T.field));return p.size+(_?1:0)}(l)&&(r=1):r=0})).next(()=>function(c){return c.limit!==null}(e)&&a.length>1&&r===2?1:r)}Nn(t,e){const r=new Iu;for(const a of na(t)){const l=e.data.field(a.fieldPath);if(l==null)return null;const c=r.Tn(a.kind);aa.Wt.vt(l,c)}return r.cn()}Mn(t){const e=new Iu;return aa.Wt.vt(t,e.Tn(0)),e.cn()}Bn(t,e){const r=new Iu;return aa.Wt.vt(ma(this.databaseId,e),r.Tn(function(l){const c=na(l);return c.length===0?0:c[c.length-1].kind}(t))),r.cn()}Cn(t,e,r){if(r===null)return[];let a=[];a.push(new Iu);let l=0;for(const c of na(t)){const d=r[l++];for(const m of a)if(this.Ln(e,c.fieldPath)&&Ju(d))a=this.kn(a,c,d);else{const p=m.Tn(c.kind);aa.Wt.vt(d,p)}}return this.qn(a)}vn(t,e,r){return this.Cn(t,e,r.position)}qn(t){const e=[];for(let r=0;r<t.length;++r)e[r]=t[r].cn();return e}kn(t,e,r){const a=[...t],l=[];for(const c of r.arrayValue.values||[])for(const d of a){const m=new Iu;m.seed(d.cn()),aa.Wt.vt(c,m.Tn(e.kind)),l.push(m)}return l}Ln(t,e){return!!t.filters.find(r=>r instanceof Pt&&r.field.isEqual(e)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(t,e){const r=Du(t),a=Ro(t);return(e?r.J($g,IDBKeyRange.bound(e,e)):r.J()).next(l=>{const c=[];return z.forEach(l,d=>a.get([d.indexId,this.uid]).next(m=>{c.push(function(_,T){const A=T?new Hu(T.sequenceNumber,new On(va(T.readTime),new lt(Tr(T.documentKey)),T.largestBatchId)):Hu.empty(),D=_.fields.map(([N,G])=>new of(ue.fromServerFormat(N),G));return new Tf(_.indexId,_.collectionGroup,D,A)}(d,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>e.length===0?null:(e.sort((r,a)=>{const l=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:wt(r.collectionGroup,a.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,r){const a=Du(t),l=Ro(t);return this.Qn(t).next(c=>a.J($g,IDBKeyRange.bound(e,e)).next(d=>z.forEach(d,m=>l.put(c0(m.indexId,this.uid,c,r)))))}updateIndexEntries(t,e){const r=new Map;return z.forEach(e,(a,l)=>{const c=r.get(a.collectionGroup);return(c?z.resolve(c):this.getFieldIndexes(t,a.collectionGroup)).next(d=>(r.set(a.collectionGroup,d),z.forEach(d,m=>this.$n(t,a,m).next(p=>{const _=this.Un(l,m);return p.isEqual(_)?z.resolve():this.Kn(t,l,m,p,_)}))))})}Wn(t,e,r,a){return So(t).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.Bn(r,e.key),documentKey:e.key.path.toArray()})}Gn(t,e,r,a){return So(t).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.Bn(r,e.key),e.key.path.toArray()])}$n(t,e,r){const a=So(t);let l=new Xt(Gi);return a.te({index:oA,range:IDBKeyRange.only([r.indexId,this.uid,this.Bn(r,e)])},(c,d)=>{l=l.add(new oa(r.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>l)}Un(t,e){let r=new Xt(Gi);const a=this.Nn(e,t);if(a==null)return r;const l=Qg(e);if(l!=null){const c=t.data.field(l.fieldPath);if(Ju(c))for(const d of c.arrayValue.values||[])r=r.add(new oa(e.indexId,t.key,this.Mn(d),a))}else r=r.add(new oa(e.indexId,t.key,Wh,a));return r}Kn(t,e,r,a,l){rt(y0,"Updating index entries for document '%s'",e.key);const c=[];return function(m,p,_,T,A){const D=m.getIterator(),N=p.getIterator();let G=Ao(D),U=Ao(N);for(;G||U;){let Y=!1,st=!1;if(G&&U){const Z=_(G,U);Z<0?st=!0:Z>0&&(Y=!0)}else G!=null?st=!0:Y=!0;Y?(T(U),U=Ao(N)):st?(A(G),G=Ao(D)):(G=Ao(D),U=Ao(N))}}(a,l,Gi,d=>{c.push(this.Wn(t,e,r,d))},d=>{c.push(this.Gn(t,e,r,d))}),z.waitFor(c)}Qn(t){let e=1;return Ro(t).te({index:aA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,a,l)=>{l.done(),e=a.sequenceNumber+1}).next(()=>e)}createRange(t,e,r){r=r.sort((c,d)=>Gi(c,d)).filter((c,d,m)=>!d||Gi(c,m[d-1])!==0);const a=[];a.push(t);for(const c of r){const d=Gi(c,t),m=Gi(c,e);if(d===0)a[0]=t.In();else if(d>0&&m<0)a.push(c),a.push(c.In());else if(m>0)break}a.push(e);const l=[];for(let c=0;c<a.length;c+=2){if(this.zn(a[c],a[c+1]))return[];const d=[a[c].indexId,this.uid,a[c].arrayValue,a[c].directionalValue,Wh,[]],m=[a[c+1].indexId,this.uid,a[c+1].arrayValue,a[c+1].directionalValue,Wh,[]];l.push(IDBKeyRange.bound(d,m))}return l}zn(t,e){return Gi(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(v0)}getMinOffset(t,e){return z.mapArray(this.Sn(e),r=>this.Dn(t,r).next(a=>a||dt(44426))).next(v0)}}function _0(s){return ke(s,$u)}function So(s){return ke(s,Rf)}function Du(s){return ke(s,zp)}function Ro(s){return ke(s,Sf)}function v0(s){pt(s.length!==0,28825);let t=s[0].indexState.offset,e=t.largestBatchId;for(let r=1;r<s.length;r++){const a=s[r].indexState.offset;kp(a,t)<0&&(t=a),e<a.largestBatchId&&(e=a.largestBatchId)}return new On(t.readTime,t.documentKey,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cw=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(s,t,e){const r=s.store(er),a=s.store(qo),l=[],c=IDBKeyRange.only(e.batchId);let d=0;const m=r.te({range:c},(_,T,A)=>(d++,A.delete()));l.push(m.next(()=>{pt(d===1,47070,{batchId:e.batchId})}));const p=[];for(const _ of e.mutations){const T=rA(t,_.key.path,e.batchId);l.push(a.delete(T)),p.push(_.key)}return z.waitFor(l).next(()=>p)}function Of(s){if(!s)return 0;let t;if(s.document)t=s.document;else if(s.unknownDocument)t=s.unknownDocument;else{if(!s.noDocument)throw dt(14731);t=s.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(cw,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);class td{constructor(t,e,r,a){this.userId=t,this.serializer=e,this.indexManager=r,this.referenceDelegate=a,this.jn={}}static bt(t,e,r,a){pt(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new td(l,e,r,a)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hi(t).te({index:ua,range:r},(a,l,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,r,a){const l=No(t),c=Hi(t);return c.add({}).next(d=>{pt(typeof d=="number",49019);const m=new Xp(d,e,r,a),p=function(D,N,G){const U=G.baseMutations.map(st=>ec(D.wt,st)),Y=G.mutations.map(st=>ec(D.wt,st));return{userId:N,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:U,mutations:Y}}(this.serializer,this.userId,m),_=[];let T=new Xt((A,D)=>wt(A.canonicalString(),D.canonicalString()));for(const A of a){const D=rA(this.userId,A.key.path,d);T=T.add(A.key.path.popLast()),_.push(c.put(p)),_.push(l.put(D,MC))}return T.forEach(A=>{_.push(this.indexManager.addToCollectionParentIndex(t,A))}),t.addOnCommittedListener(()=>{this.jn[d]=m.keys()}),z.waitFor(_).next(()=>m)})}lookupMutationBatch(t,e){return Hi(t).get(e).next(r=>r?(pt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:e}),sa(this.serializer,r)):null)}Hn(t,e){return this.jn[e]?z.resolve(this.jn[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const a=r.keys();return this.jn[e]=a,a}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Hi(t).te({index:ua,range:a},(c,d,m)=>{d.userId===this.userId&&(pt(d.batchId>=r,47524,{Jn:r}),l=sa(this.serializer,d)),m.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Wi;return Hi(t).te({index:ua,range:e,reverse:!0},(a,l,c)=>{r=l.batchId,c.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,Wi],[this.userId,Number.POSITIVE_INFINITY]);return Hi(t).J(ua,e).next(r=>r.map(a=>sa(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=lf(this.userId,e.path),a=IDBKeyRange.lowerBound(r),l=[];return No(t).te({range:a},(c,d,m)=>{const[p,_,T]=c,A=Tr(_);if(p===this.userId&&e.path.isEqual(A))return Hi(t).get(T).next(D=>{if(!D)throw dt(61480,{Yn:c,batchId:T});pt(D.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:D.userId,batchId:T}),l.push(sa(this.serializer,D))});m.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Xt(wt);const a=[];return e.forEach(l=>{const c=lf(this.userId,l.path),d=IDBKeyRange.lowerBound(c),m=No(t).te({range:d},(p,_,T)=>{const[A,D,N]=p,G=Tr(D);A===this.userId&&l.path.isEqual(G)?r=r.add(N):T.done()});a.push(m)}),z.waitFor(a).next(()=>this.Zn(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1,l=lf(this.userId,r),c=IDBKeyRange.lowerBound(l);let d=new Xt(wt);return No(t).te({range:c},(m,p,_)=>{const[T,A,D]=m,N=Tr(A);T===this.userId&&r.isPrefixOf(N)?N.length===a&&(d=d.add(D)):_.done()}).next(()=>this.Zn(t,d))}Zn(t,e){const r=[],a=[];return e.forEach(l=>{a.push(Hi(t).get(l).next(c=>{if(c===null)throw dt(35274,{batchId:l});pt(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),r.push(sa(this.serializer,c))}))}),z.waitFor(a).next(()=>r)}removeMutationBatch(t,e){return hw(t.he,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.Xn(e.batchId)}),z.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))}Xn(t){delete this.jn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return z.resolve();const r=IDBKeyRange.lowerBound(function(c){return[c]}(this.userId)),a=[];return No(t).te({range:r},(l,c,d)=>{if(l[0]===this.userId){const m=Tr(l[1]);a.push(m)}else d.done()}).next(()=>{pt(a.length===0,56720,{er:a.map(l=>l.canonicalString())})})})}containsKey(t,e){return fw(t,this.userId,e)}tr(t){return dw(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:Wi,lastStreamToken:""})}}function fw(s,t,e){const r=lf(t,e.path),a=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return No(s).te({range:l,ee:!0},(d,m,p)=>{const[_,T,A]=d;_===t&&T===a&&(c=!0),p.done()}).next(()=>c)}function Hi(s){return ke(s,er)}function No(s){return ke(s,qo)}function dw(s){return ke(s,Qu)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Ea(0)}static ir(){return new Ea(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.sr(t).next(e=>{const r=new Ea(e.highestTargetId);return e.highestTargetId=r.next(),this._r(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.sr(t).next(e=>yt.fromTimestamp(new he(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.sr(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.sr(t).next(a=>(a.highestListenSequenceNumber=e,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this._r(t,a)))}addTargetData(t,e){return this.ar(t,e).next(()=>this.sr(t).next(r=>(r.targetCount+=1,this.ur(e,r),this._r(t,r))))}updateTargetData(t,e){return this.ar(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Io(t).delete(e.targetId)).next(()=>this.sr(t)).next(r=>(pt(r.targetCount>0,8065),r.targetCount-=1,this._r(t,r)))}removeTargets(t,e,r){let a=0;const l=[];return Io(t).te((c,d)=>{const m=Mu(d);m.sequenceNumber<=e&&r.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(t,m)))}).next(()=>z.waitFor(l)).next(()=>a)}forEachTarget(t,e){return Io(t).te((r,a)=>{const l=Mu(a);e(l)})}sr(t){return T0(t).get(wf).next(e=>(pt(e!==null,2888),e))}_r(t,e){return T0(t).put(wf,e)}ar(t,e){return Io(t).put(ow(this.serializer,e))}ur(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.sr(t).next(e=>e.targetCount)}getTargetData(t,e){const r=ga(e),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Io(t).te({range:a,index:sA},(c,d,m)=>{const p=Mu(d);dc(e,p.target)&&(l=p,m.done())}).next(()=>l)}addMatchingKeys(t,e,r){const a=[],l=Yi(t);return e.forEach(c=>{const d=on(c.path);a.push(l.put({targetId:r,path:d})),a.push(this.referenceDelegate.addReference(t,r,c))}),z.waitFor(a)}removeMatchingKeys(t,e,r){const a=Yi(t);return z.forEach(e,l=>{const c=on(l.path);return z.waitFor([a.delete([r,c]),this.referenceDelegate.removeReference(t,r,l)])})}removeMatchingKeysForTargetId(t,e){const r=Yi(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),a=Yi(t);let l=It();return a.te({range:r,ee:!0},(c,d,m)=>{const p=Tr(c[1]),_=new lt(p);l=l.add(_)}).next(()=>l)}containsKey(t,e){const r=on(e.path),a=IDBKeyRange.bound([r],[Xb(r)],!1,!0);let l=0;return Yi(t).te({index:Bp,ee:!0,range:a},([c,d],m,p)=>{c!==0&&(l++,p.done())}).next(()=>l>0)}Rt(t,e){return Io(t).get(e).next(r=>r?Mu(r):null)}}function Io(s){return ke(s,Fo)}function T0(s){return ke(s,fa)}function Yi(s){return ke(s,jo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="LruGarbageCollector",n2=1048576;function A0([s,t],[e,r]){const a=wt(s,e);return a===0?wt(t,r):a}class r2{constructor(t){this.cr=t,this.buffer=new Xt(A0),this.lr=0}hr(){return++this.lr}Pr(t){const e=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();A0(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class mw{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){rt(b0,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ds(e)?rt(b0,"Ignoring IndexedDB error during garbage collection: ",e):await fs(e)}await this.Ir(3e5)})}}class i2{constructor(t,e){this.Er=t,this.params=e}calculateTargetCount(t,e){return this.Er.dr(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(e===0)return z.resolve(En.le);const r=new r2(e);return this.Er.forEachTarget(t,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.Er.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Er.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(E0)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E0):this.Rr(t,e))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,e){let r,a,l,c,d,m,p;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(t,a))).next(T=>(r=T,d=Date.now(),this.removeTargets(t,r,e))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(T=>(p=Date.now(),Do()<=Lt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-_}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function gw(s,t){return new i2(s,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t,e){this.db=t,this.garbageCollector=gw(this,e)}dr(t){const e=this.Vr(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(a=>r+a))}Vr(t){let e=0;return this.Ar(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ar(t,e){return this.mr(t,(r,a)=>e(a))}addReference(t,e,r){return tf(t,r)}removeReference(t,e,r){return tf(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return tf(t,e)}gr(t,e){return function(a,l){let c=!1;return dw(a).ne(d=>fw(a,d,l).next(m=>(m&&(c=!0),z.resolve(!m)))).next(()=>c)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.mr(t,(c,d)=>{if(d<=e){const m=this.gr(t,c).next(p=>{if(!p)return l++,r.getEntry(t,c).next(()=>(r.removeEntry(c,yt.min()),Yi(t).delete(function(T){return[0,on(T.path)]}(c))))});a.push(m)}}).next(()=>z.waitFor(a)).next(()=>r.apply(t)).next(()=>l)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return tf(t,e)}mr(t,e){const r=Yi(t);let a,l=En.le;return r.te({index:Bp},([c,d],{path:m,sequenceNumber:p})=>{c===0?(l!==En.le&&e(new lt(Tr(a)),l),l=p,a=m):l=En.le}).next(()=>{l!==En.le&&e(new lt(Tr(a)),l)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function tf(s,t){return Yi(s).put(function(r,a){return{targetId:0,path:on(r.path),sequenceNumber:a}}(t,s.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.changes=new fi(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,se.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?z.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,r){return ta(t).put(r)}removeEntry(t,e,r){return ta(t).delete(function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Vf(c),d[d.length-1]]}(e,r))}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.pr(t,r)))}getEntry(t,e){let r=se.newInvalidDocument(e);return ta(t).te({index:uf,range:IDBKeyRange.only(Cu(e))},(a,l)=>{r=this.yr(e,l)}).next(()=>r)}wr(t,e){let r={size:0,document:se.newInvalidDocument(e)};return ta(t).te({index:uf,range:IDBKeyRange.only(Cu(e))},(a,l)=>{r={document:this.yr(e,l),size:Of(l)}}).next(()=>r)}getEntries(t,e){let r=bn();return this.br(t,e,(a,l)=>{const c=this.yr(a,l);r=r.insert(a,c)}).next(()=>r)}Sr(t,e){let r=bn(),a=new ie(lt.comparator);return this.br(t,e,(l,c)=>{const d=this.yr(l,c);r=r.insert(l,d),a=a.insert(l,Of(c))}).next(()=>({documents:r,Dr:a}))}br(t,e,r){if(e.isEmpty())return z.resolve();let a=new Xt(R0);e.forEach(m=>a=a.add(m));const l=IDBKeyRange.bound(Cu(a.first()),Cu(a.last())),c=a.getIterator();let d=c.getNext();return ta(t).te({index:uf,range:l},(m,p,_)=>{const T=lt.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;d&&R0(d,T)<0;)r(d,null),d=c.getNext();d&&d.isEqual(T)&&(r(d,p),d=c.hasNext()?c.getNext():null),d?_.H(Cu(d)):_.done()}).next(()=>{for(;d;)r(d,null),d=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(t,e,r,a,l){const c=e.path,d=[c.popLast().toArray(),c.lastSegment(),Vf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ta(t).J(IDBKeyRange.bound(d,m,!0)).next(p=>{l==null||l.incrementDocumentReadCount(p.length);let _=bn();for(const T of p){const A=this.yr(lt.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);A.isFoundDocument()&&(gc(e,A)||a.has(A.key))&&(_=_.insert(A.key,A))}return _})}getAllFromCollectionGroup(t,e,r,a){let l=bn();const c=S0(e,r),d=S0(e,On.max());return ta(t).te({index:iA,range:IDBKeyRange.bound(c,d,!0)},(m,p,_)=>{const T=this.yr(lt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(T.key,T),l.size===a&&_.done()}).next(()=>l)}newChangeBuffer(t){return new o2(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return w0(t).get(Yg).next(e=>(pt(!!e,20021),e))}pr(t,e){return w0(t).put(Yg,e)}yr(t,e){if(e){const r=Hx(this.serializer,e);if(!(r.isNoDocument()&&r.version.isEqual(yt.min())))return r}return se.newInvalidDocument(t)}}function yw(s){return new a2(s)}class o2 extends pw{constructor(t,e){super(),this.vr=t,this.trackRemovals=e,this.Cr=new fi(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(t){const e=[];let r=0,a=new Xt((l,c)=>wt(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const d=this.Cr.get(l);if(e.push(this.vr.removeEntry(t,l,d.readTime)),c.isValidDocument()){const m=l0(this.vr.serializer,c);a=a.add(l.path.popLast());const p=Of(m);r+=p-d.size,e.push(this.vr.addEntry(t,l,m))}else if(r-=d.size,this.trackRemovals){const m=l0(this.vr.serializer,c.convertToNoDocument(yt.min()));e.push(this.vr.addEntry(t,l,m))}}),a.forEach(l=>{e.push(this.vr.indexManager.addToCollectionParentIndex(t,l))}),e.push(this.vr.updateMetadata(t,r)),z.waitFor(e)}getFromCache(t,e){return this.vr.wr(t,e).next(r=>(this.Cr.set(e,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,e){return this.vr.Sr(t,e).next(({documents:r,Dr:a})=>(a.forEach((l,c)=>{this.Cr.set(l,{size:c,readTime:r.get(l).readTime})}),r))}}function w0(s){return ke(s,Yu)}function ta(s){return ke(s,Af)}function Cu(s){const t=s.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function S0(s,t){const e=t.documentKey.path.toArray();return[s,Vf(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function R0(s,t){const e=s.path.toArray(),r=t.path.toArray();let a=0;for(let l=0;l<e.length-2&&l<r.length-2;++l)if(a=wt(e[l],r[l]),a)return a;return a=wt(e.length,r.length),a||(a=wt(e[e.length-2],r[r.length-2]),a||wt(e[e.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,e,r,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(r=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(r!==null&&Bu(r.mutation,a,Tn.empty(),he.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,It()).next(()=>r))}getLocalViewOfDocuments(t,e,r=It()){const a=br();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,r).next(l=>{let c=Nu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const r=br();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,It()))}populateOverlays(t,e,r){const a=[];return r.forEach(l=>{e.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,r,a){let l=bn();const c=Uu(),d=function(){return Uu()}();return e.forEach((m,p)=>{const _=r.get(p.key);a.has(p.key)&&(_===void 0||_.mutation instanceof di)?l=l.insert(p.key,p):_!==void 0?(c.set(p.key,_.mutation.getFieldMask()),Bu(_.mutation,p,_.mutation.getFieldMask(),he.now())):c.set(p.key,Tn.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,_)=>c.set(p,_)),e.forEach((p,_)=>{var T;return d.set(p,new l2(_,(T=c.get(p))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(t,e){const r=Uu();let a=new ie((c,d)=>c-d),l=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=e.get(m);if(p===null)return;let _=r.get(m)||Tn.empty();_=d.applyToLocalView(p,_),r.set(m,_);const T=(a.get(d.batchId)||It()).add(m);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,_=m.value,T=PA();_.forEach(A=>{if(!l.has(A)){const D=FA(e.get(A),r.get(A));D!==null&&T.set(A,D),l=l.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,T))}return z.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,a){return function(c){return lt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Kp(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,a):this.getDocumentsMatchingCollectionQuery(t,e,r,a)}getNextDocuments(t,e,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,a-l.size):z.resolve(br());let d=zo,m=l;return c.next(p=>z.forEach(p,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?z.resolve():this.remoteDocumentCache.getEntry(t,_).next(A=>{m=m.insert(_,A)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,It())).next(_=>({batchId:d,changes:MA(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new lt(e)).next(r=>{let a=Nu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,r,a){const l=e.collectionGroup;let c=Nu();return this.indexManager.getCollectionParents(t,l).next(d=>z.forEach(d,m=>{const p=function(T,A){return new hi(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(e,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next(_=>{_.forEach((T,A)=>{c=c.insert(T,A)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,l,a))).next(c=>{l.forEach((m,p)=>{const _=p.getKey();c.get(_)===null&&(c=c.insert(_,se.newInvalidDocument(_)))});let d=Nu();return c.forEach((m,p)=>{const _=l.get(m);_!==void 0&&Bu(_.mutation,p,Tn.empty(),he.now()),gc(e,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,e){return z.resolve(this.Fr.get(e))}saveBundleMetadata(t,e){return this.Fr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:we(a.createTime)}}(e)),z.resolve()}getNamedQuery(t,e){return z.resolve(this.Mr.get(e))}saveNamedQuery(t,e){return this.Mr.set(e.name,function(a){return{name:a.name,query:ey(a.bundledQuery),readTime:we(a.readTime)}}(e)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.overlays=new ie(lt.comparator),this.Or=new Map}getOverlay(t,e){return z.resolve(this.overlays.get(e))}getOverlays(t,e){const r=br();return z.forEach(e,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((a,l)=>{this.St(t,e,l)}),z.resolve()}removeOverlaysForBatchId(t,e,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(r)),z.resolve()}getOverlaysForCollection(t,e,r){const a=br(),l=e.length+1,c=new lt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return z.resolve(a)}getOverlaysForCollectionGroup(t,e,r,a){let l=new ie((p,_)=>p-_);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>r){let _=l.get(p.largestBatchId);_===null&&(_=br(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const d=br(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,_)=>d.set(p,_)),!(d.size()>=a)););return z.resolve(d)}St(t,e,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Jp(e,r));let l=this.Or.get(e);l===void 0&&(l=It(),this.Or.set(e,l)),this.Or.set(e,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.sessionToken=ve.EMPTY_BYTE_STRING}getSessionToken(t){return z.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this.Nr=new Xt(Ge.Br),this.Lr=new Xt(Ge.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,e){const r=new Ge(t,e);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Qr(new Ge(t,e))}$r(t,e){t.forEach(r=>this.removeReference(r,e))}Ur(t){const e=new lt(new Mt([])),r=new Ge(e,t),a=new Ge(e,t+1),l=[];return this.Lr.forEachInRange([r,a],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const e=new lt(new Mt([])),r=new Ge(e,t),a=new Ge(e,t+1);let l=It();return this.Lr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(t){const e=new Ge(t,0),r=this.Nr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Ge{constructor(t,e){this.key=t,this.Gr=e}static Br(t,e){return lt.comparator(t.key,e.key)||wt(t.Gr,e.Gr)}static kr(t,e){return wt(t.Gr,e.Gr)||lt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Jn=1,this.zr=new Xt(Ge.Br)}checkEmpty(t){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,a){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Xp(l,e,r,a);this.mutationQueue.push(c);for(const d of a)this.zr=this.zr.add(new Ge(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return z.resolve(c)}lookupMutationBatch(t,e){return z.resolve(this.jr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=this.Hr(r),l=a<0?0:a;return z.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Wi:this.Jn-1)}getAllMutationBatches(t){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Ge(e,0),a=new Ge(e,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([r,a],c=>{const d=this.jr(c.Gr);l.push(d)}),z.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Xt(wt);return e.forEach(a=>{const l=new Ge(a,0),c=new Ge(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],d=>{r=r.add(d.Gr)})}),z.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1;let l=r;lt.isDocumentKey(l)||(l=l.child(""));const c=new Ge(new lt(l),0);let d=new Xt(wt);return this.zr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Gr)),!0)},c),z.resolve(this.Jr(d))}Jr(t){const e=[];return t.forEach(r=>{const a=this.jr(r);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){pt(this.Yr(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return z.forEach(e.mutations,a=>{const l=new Ge(a.key,e.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=r})}Xn(t){}containsKey(t,e){const r=new Ge(e,0),a=this.zr.firstAfterOrEqual(r);return z.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,z.resolve()}Yr(t,e){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const e=this.Hr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t){this.Zr=t,this.docs=function(){return new ie(lt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,a=this.docs.get(r),l=a?a.size:0,c=this.Zr(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return z.resolve(r?r.document.mutableCopy():se.newInvalidDocument(e))}getEntries(t,e){let r=bn();return e.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():se.newInvalidDocument(a))}),z.resolve(r)}getDocumentsMatchingQuery(t,e,r,a){let l=bn();const c=e.path,d=new lt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:_}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||kp(Jb(_),r)<=0||(a.has(_.key)||gc(e,_))&&(l=l.insert(_.key,_.mutableCopy()))}return z.resolve(l)}getAllFromCollectionGroup(t,e,r,a){dt(9500)}Xr(t,e){return z.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new m2(this)}getSize(t){return z.resolve(this.size)}}class m2 extends pw{constructor(t){super(),this.vr=t}applyChanges(t){const e=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?e.push(this.vr.addEntry(t,a)):this.vr.removeEntry(r)}),z.waitFor(e)}getFromCache(t,e){return this.vr.getEntry(t,e)}getAllFromCache(t,e){return this.vr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(t){this.persistence=t,this.ei=new fi(e=>ga(e),dc),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ti=0,this.ni=new iy,this.targetCount=0,this.ri=Ea.rr()}forEachTarget(t,e){return this.ei.forEach((r,a)=>e(a)),z.resolve()}getLastRemoteSnapshotVersion(t){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return z.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.ti&&(this.ti=e),z.resolve()}ar(t){this.ei.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ri=new Ea(e),this.highestTargetId=e),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,e){return this.ar(e),this.targetCount+=1,z.resolve()}updateTargetData(t,e){return this.ar(e),z.resolve()}removeTargetData(t,e){return this.ei.delete(e.target),this.ni.Ur(e.targetId),this.targetCount-=1,z.resolve()}removeTargets(t,e,r){let a=0;const l=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=e&&r.get(d.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),z.waitFor(l).next(()=>a)}getTargetCount(t){return z.resolve(this.targetCount)}getTargetData(t,e){const r=this.ei.get(e)||null;return z.resolve(r)}addMatchingKeys(t,e,r){return this.ni.qr(e,r),z.resolve()}removeMatchingKeys(t,e,r){this.ni.$r(e,r);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),z.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.ni.Ur(e),z.resolve()}getMatchingKeysForTargetId(t,e){const r=this.ni.Wr(e);return z.resolve(r)}containsKey(t,e){return z.resolve(this.ni.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(t,e){this.ii={},this.overlays={},this.si=new En(0),this.oi=!1,this.oi=!0,this._i=new h2,this.referenceDelegate=t(this),this.ai=new g2(this),this.indexManager=new Wx,this.remoteDocumentCache=function(a){return new d2(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new aw(e),this.ci=new u2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new c2,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ii[t.toKey()];return r||(r=new f2(e,this.referenceDelegate),this.ii[t.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,e,r){rt("MemoryPersistence","Starting transaction:",t);const a=new p2(this.si.next());return this.referenceDelegate.li(),r(a).next(l=>this.referenceDelegate.hi(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Pi(t,e){return z.or(Object.values(this.ii).map(r=>()=>r.containsKey(t,e)))}}class p2 extends tA{constructor(t){super(),this.currentSequenceNumber=t}}class ed{constructor(t){this.persistence=t,this.Ti=new iy,this.Ii=null}static Ei(t){return new ed(t)}get di(){if(this.Ii)return this.Ii;throw dt(60996)}addReference(t,e,r){return this.Ti.addReference(r,e),this.di.delete(r.toString()),z.resolve()}removeReference(t,e,r){return this.Ti.removeReference(r,e),this.di.add(r.toString()),z.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),z.resolve()}removeTarget(t,e){this.Ti.Ur(e.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(l=>this.di.add(l.toString()))}).next(()=>r.removeTargetData(t,e))}li(){this.Ii=new Set}hi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.di,r=>{const a=lt.fromPath(r);return this.Ai(t,a).next(l=>{l||e.removeEntry(a,yt.min())})}).next(()=>(this.Ii=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ai(t,e).next(r=>{r?this.di.delete(e.toString()):this.di.add(e.toString())})}ui(t){return 0}Ai(t,e){return z.or([()=>z.resolve(this.Ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Pi(t,e)])}}class Mf{constructor(t,e){this.persistence=t,this.Ri=new fi(r=>on(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=gw(this,e)}static Ei(t,e){return new Mf(t,e)}li(){}hi(t){return z.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>e.next(a=>r+a))}Vr(t){let e=0;return this.Ar(t,r=>{e++}).next(()=>e)}Ar(t,e){return z.forEach(this.Ri,(r,a)=>this.gr(t,r,a).next(l=>l?z.resolve():e(a)))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.Xr(t,c=>this.gr(t,c,e).next(d=>{d||(r++,l.removeEntry(c,yt.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,e){return this.Ri.set(e,t.currentSequenceNumber),z.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.Ri.set(r,t.currentSequenceNumber),z.resolve()}removeReference(t,e,r){return this.Ri.set(r,t.currentSequenceNumber),z.resolve()}updateLimboDocument(t,e){return this.Ri.set(e,t.currentSequenceNumber),z.resolve()}ui(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=hf(t.data.value)),e}gr(t,e,r){return z.or([()=>this.persistence.Pi(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.Ri.get(e);return z.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t){this.serializer=t}q(t,e,r,a){const l=new Gf("createOrUpgrade",e);r<1&&a>=1&&(function(m){m.createObjectStore(fc)}(t),function(m){m.createObjectStore(Qu,{keyPath:OC}),m.createObjectStore(er,{keyPath:UT,autoIncrement:!0}).createIndex(ua,BT,{unique:!0}),m.createObjectStore(qo)}(t),I0(t),function(m){m.createObjectStore(ra)}(t));let c=z.resolve();return r<3&&a>=3&&(r!==0&&(function(m){m.deleteObjectStore(jo),m.deleteObjectStore(Fo),m.deleteObjectStore(fa)}(t),I0(t)),c=c.next(()=>function(m){const p=m.store(fa),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yt.min().toTimestamp(),targetCount:0};return p.put(wf,_)}(l))),r<4&&a>=4&&(r!==0&&(c=c.next(()=>function(m,p){return p.store(er).J().next(T=>{m.deleteObjectStore(er),m.createObjectStore(er,{keyPath:UT,autoIncrement:!0}).createIndex(ua,BT,{unique:!0});const A=p.store(er),D=T.map(N=>A.put(N));return z.waitFor(D)})}(t,l))),c=c.next(()=>{(function(m){m.createObjectStore(Go,{keyPath:FC})})(t)})),r<5&&a>=5&&(c=c.next(()=>this.Vi(l))),r<6&&a>=6&&(c=c.next(()=>(function(m){m.createObjectStore(Yu)}(t),this.mi(l)))),r<7&&a>=7&&(c=c.next(()=>this.fi(l))),r<8&&a>=8&&(c=c.next(()=>this.gi(t,l))),r<9&&a>=9&&(c=c.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(t)})),r<10&&a>=10&&(c=c.next(()=>this.pi(l))),r<11&&a>=11&&(c=c.next(()=>{(function(m){m.createObjectStore(Hf,{keyPath:jC})})(t),function(m){m.createObjectStore(Kf,{keyPath:GC})}(t)})),r<12&&a>=12&&(c=c.next(()=>{(function(m){const p=m.createObjectStore(Qf,{keyPath:ZC});p.createIndex(Xg,JC,{unique:!1}),p.createIndex(lA,WC,{unique:!1})})(t)})),r<13&&a>=13&&(c=c.next(()=>function(m){const p=m.createObjectStore(Af,{keyPath:PC});p.createIndex(uf,LC),p.createIndex(iA,kC)}(t)).next(()=>this.yi(t,l)).next(()=>t.deleteObjectStore(ra))),r<14&&a>=14&&(c=c.next(()=>this.wi(t,l))),r<15&&a>=15&&(c=c.next(()=>function(m){m.createObjectStore(zp,{keyPath:HC,autoIncrement:!0}).createIndex($g,KC,{unique:!1}),m.createObjectStore(Sf,{keyPath:QC}).createIndex(aA,YC,{unique:!1}),m.createObjectStore(Rf,{keyPath:$C}).createIndex(oA,XC,{unique:!1})}(t))),r<16&&a>=16&&(c=c.next(()=>{e.objectStore(Sf).clear()}).next(()=>{e.objectStore(Rf).clear()})),r<17&&a>=17&&(c=c.next(()=>{(function(m){m.createObjectStore(qp,{keyPath:tx})})(t)})),c}mi(t){let e=0;return t.store(ra).te((r,a)=>{e+=Of(a)}).next(()=>{const r={byteSize:e};return t.store(Yu).put(Yg,r)})}Vi(t){const e=t.store(Qu),r=t.store(er);return e.J().next(a=>z.forEach(a,l=>{const c=IDBKeyRange.bound([l.userId,Wi],[l.userId,l.lastAcknowledgedBatchId]);return r.J(ua,c).next(d=>z.forEach(d,m=>{pt(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const p=sa(this.serializer,m);return hw(t,l.userId,p).next(()=>{})}))}))}fi(t){const e=t.store(jo),r=t.store(ra);return t.store(fa).get(wf).next(a=>{const l=[];return r.te((c,d)=>{const m=new Mt(c),p=function(T){return[0,on(T)]}(m);l.push(e.get(p).next(_=>_?z.resolve():(T=>e.put({targetId:0,path:on(T),sequenceNumber:a.highestListenSequenceNumber}))(m)))}).next(()=>z.waitFor(l))})}gi(t,e){t.createObjectStore($u,{keyPath:qC});const r=e.store($u),a=new ry,l=c=>{if(a.add(c)){const d=c.lastSegment(),m=c.popLast();return r.put({collectionId:d,parent:on(m)})}};return e.store(ra).te({ee:!0},(c,d)=>{const m=new Mt(c);return l(m.popLast())}).next(()=>e.store(qo).te({ee:!0},([c,d,m],p)=>{const _=Tr(d);return l(_.popLast())}))}pi(t){const e=t.store(Fo);return e.te((r,a)=>{const l=Mu(a),c=ow(this.serializer,l);return e.put(c)})}yi(t,e){const r=e.store(ra),a=[];return r.te((l,c)=>{const d=e.store(Af),m=function(T){return T.document?new lt(Mt.fromString(T.document.name).popFirst(5)):T.noDocument?lt.fromSegments(T.noDocument.path):T.unknownDocument?lt.fromSegments(T.unknownDocument.path):dt(36783)}(c).path.toArray(),p={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(p))}).next(()=>z.waitFor(a))}wi(t,e){const r=e.store(er),a=yw(this.serializer),l=new sy(ed.Ei,this.serializer.wt);return r.J().next(c=>{const d=new Map;return c.forEach(m=>{var p;let _=(p=d.get(m.userId))!==null&&p!==void 0?p:It();sa(this.serializer,m).keys().forEach(T=>_=_.add(T)),d.set(m.userId,_)}),z.forEach(d,(m,p)=>{const _=new He(p),T=Wf.bt(this.serializer,_),A=l.getIndexManager(_),D=td.bt(_,this.serializer,A,l.referenceDelegate);return new _w(a,D,T,A).recalculateAndSaveOverlaysForDocumentKeys(new Zg(e,En.le),m).next()})})}}function I0(s){s.createObjectStore(jo,{keyPath:BC}).createIndex(Bp,zC,{unique:!0}),s.createObjectStore(Fo,{keyPath:"targetId"}).createIndex(sA,UC,{unique:!0}),s.createObjectStore(fa)}const Ki="IndexedDbPersistence",Vg=18e5,Ng=5e3,Og="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",vw="main";class ay{constructor(t,e,r,a,l,c,d,m,p,_,T=17){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.bi=l,this.window=c,this.document=d,this.Si=p,this.Di=_,this.Ci=T,this.si=null,this.oi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fi=null,this.inForeground=!1,this.Mi=null,this.xi=null,this.Oi=Number.NEGATIVE_INFINITY,this.Ni=A=>Promise.resolve(),!ay.C())throw new nt(K.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new s2(this,a),this.Bi=e+vw,this.serializer=new aw(m),this.Li=new Ar(this.Bi,this.Ci,new y2(this.serializer)),this._i=new Qx,this.ai=new e2(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yw(this.serializer),this.ci=new Kx,this.window&&this.window.localStorage?this.ki=this.window.localStorage:(this.ki=null,_===!1&&Ae(Ki,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.qi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new nt(K.FAILED_PRECONDITION,Og);return this.Qi(),this.$i(),this.Ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ai.getHighestSequenceNumber(t))}).then(t=>{this.si=new En(t,this.Si)}).then(()=>{this.oi=!0}).catch(t=>(this.Li&&this.Li.close(),Promise.reject(t)))}Ki(t){return this.Ni=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Li.U(async e=>{e.newVersion===null&&await t()})}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.bi.enqueueAndForget(async()=>{this.started&&await this.qi()}))}qi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ef(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Wi(t).next(e=>{e||(this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)))})}).next(()=>this.Gi(t)).next(e=>this.isPrimary&&!e?this.zi(t).next(()=>!1):!!e&&this.ji(t).next(()=>!0))).catch(t=>{if(ds(t))return rt(Ki,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return rt(Ki,"Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.bi.enqueueRetryable(()=>this.Ni(t)),this.isPrimary=t})}Wi(t){return xu(t).get(bo).next(e=>z.resolve(this.Hi(e)))}Ji(t){return ef(t).delete(this.clientId)}async Yi(){if(this.isPrimary&&!this.Zi(this.Oi,Vg)){this.Oi=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const r=ke(e,Go);return r.J().next(a=>{const l=this.Xi(a,Vg),c=a.filter(d=>l.indexOf(d)===-1);return z.forEach(c,d=>r.delete(d.clientId)).next(()=>c)})}).catch(()=>[]);if(this.ki)for(const e of t)this.ki.removeItem(this.es(e.clientId))}}Ui(){this.xi=this.bi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.qi().then(()=>this.Yi()).then(()=>this.Ui()))}Hi(t){return!!t&&t.ownerId===this.clientId}Gi(t){return this.Di?z.resolve(!0):xu(t).get(bo).next(e=>{if(e!==null&&this.Zi(e.leaseTimestampMs,Ng)&&!this.ts(e.ownerId)){if(this.Hi(e)&&this.networkEnabled)return!0;if(!this.Hi(e)){if(!e.allowTabSynchronization)throw new nt(K.FAILED_PRECONDITION,Og);return!1}}return!(!this.networkEnabled||!this.inForeground)||ef(t).J().next(r=>this.Xi(r,Ng).find(a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(l||c&&d)return!0}return!1})===void 0)}).next(e=>(this.isPrimary!==e&&rt(Ki,`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.oi=!1,this.ns(),this.xi&&(this.xi.cancel(),this.xi=null),this.rs(),this.ss(),await this.Li.runTransaction("shutdown","readwrite",[fc,Go],t=>{const e=new Zg(t,En.le);return this.zi(e).next(()=>this.Ji(e))}),this.Li.close(),this._s()}Xi(t,e){return t.filter(r=>this.Zi(r.updateTimeMs,e)&&!this.ts(r.clientId))}us(){return this.runTransaction("getActiveClients","readonly",t=>ef(t).J().next(e=>this.Xi(e,Vg).map(r=>r.clientId)))}get started(){return this.oi}getGlobalsCache(){return this._i}getMutationQueue(t,e){return td.bt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new t2(t,this.serializer.wt.databaseId)}getDocumentOverlayCache(t){return Wf.bt(this.serializer,t)}getBundleCache(){return this.ci}runTransaction(t,e,r){rt(Ki,"Starting transaction:",t);const a=e==="readonly"?"readonly":"readwrite",l=function(m){return m===17?rx:m===16?nx:m===15?Fp:m===14?hA:m===13?cA:m===12?ex:m===11?uA:void dt(60245)}(this.Ci);let c;return this.Li.runTransaction(t,a,l,d=>(c=new Zg(d,this.si?this.si.next():En.le),e==="readwrite-primary"?this.Wi(c).next(m=>!!m||this.Gi(c)).next(m=>{if(!m)throw Ae(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)),new nt(K.FAILED_PRECONDITION,Wb);return r(c)}).next(m=>this.ji(c).next(()=>m)):this.cs(c).next(()=>r(c)))).then(d=>(c.raiseOnCommittedEvent(),d))}cs(t){return xu(t).get(bo).next(e=>{if(e!==null&&this.Zi(e.leaseTimestampMs,Ng)&&!this.ts(e.ownerId)&&!this.Hi(e)&&!(this.Di||this.allowTabSynchronization&&e.allowTabSynchronization))throw new nt(K.FAILED_PRECONDITION,Og)})}ji(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xu(t).put(bo,e)}static C(){return Ar.C()}zi(t){const e=xu(t);return e.get(bo).next(r=>this.Hi(r)?(rt(Ki,"Releasing primary lease."),e.delete(bo)):z.resolve())}Zi(t,e){const r=Date.now();return!(t<r-e)&&(!(t>r)||(Ae(`Detected an update time that is in the future: ${t} > ${r}`),!1))}Qi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Mi=()=>{this.bi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.qi()))},this.document.addEventListener("visibilitychange",this.Mi),this.inForeground=this.document.visibilityState==="visible")}rs(){this.Mi&&(this.document.removeEventListener("visibilitychange",this.Mi),this.Mi=null)}$i(){var t;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Fi=()=>{this.ns();const e=/(?:Version|Mobile)\/1[456]/;Rb()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.bi.enterRestrictedMode(!0),this.bi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Fi))}ss(){this.Fi&&(this.window.removeEventListener("pagehide",this.Fi),this.Fi=null)}ts(t){var e;try{const r=((e=this.ki)===null||e===void 0?void 0:e.getItem(this.es(t)))!==null;return rt(Ki,`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ae(Ki,"Failed to get zombied client id.",r),!1}}ns(){if(this.ki)try{this.ki.setItem(this.es(this.clientId),String(Date.now()))}catch(t){Ae("Failed to set zombie client id.",t)}}_s(){if(this.ki)try{this.ki.removeItem(this.es(this.clientId))}catch{}}es(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function xu(s){return ke(s,fc)}function ef(s){return ke(s,Go)}function oy(s,t){let e=s.projectId;return s.isDefaultDatabase||(e+="."+s.database),"firestore/"+t+"/"+e+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(t,e,r,a){this.targetId=t,this.fromCache=e,this.ls=r,this.hs=a}static Ps(t,e){let r=It(),a=It();for(const l of e.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ly(t,e.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Rb()?8:eA(vf())>0?6:4}()}initialize(t,e){this.As=t,this.indexManager=e,this.Ts=!0}getDocumentsMatchingQuery(t,e,r,a){const l={result:null};return this.Rs(t,e).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(t,e,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new _2;return this.fs(t,e,c).next(d=>{if(l.result=d,this.Is)return this.gs(t,e,c,d.size)})}).next(()=>l.result)}gs(t,e,r,a){return r.documentReadCount<this.Es?(Do()<=Lt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Co(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),z.resolve()):(Do()<=Lt.DEBUG&&rt("QueryEngine","Query:",Co(e),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Do()<=Lt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Co(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gn(e))):z.resolve())}Rs(t,e){if(JT(e))return z.resolve(null);let r=gn(e);return this.indexManager.getIndexType(t,r).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=xf(e,null,"F"),r=gn(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const c=It(...l);return this.As.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,r).next(m=>{const p=this.ps(e,d);return this.ys(e,p,c,m.readTime)?this.Rs(t,xf(e,null,"F")):this.ws(t,p,e,m)}))})))}Vs(t,e,r,a){return JT(e)||a.isEqual(yt.min())?z.resolve(null):this.As.getDocuments(t,r).next(l=>{const c=this.ps(e,l);return this.ys(e,c,r,a)?z.resolve(null):(Do()<=Lt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Co(e)),this.ws(t,c,e,Zb(a,zo)).next(d=>d))})}ps(t,e){let r=new Xt(NA(t));return e.forEach((a,l)=>{gc(t,l)&&(r=r.add(l))}),r}ys(t,e,r,a){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}fs(t,e,r){return Do()<=Lt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Co(e)),this.As.getDocumentsMatchingQuery(t,e,On.min(),r)}ws(t,e,r,a){return this.As.getDocumentsMatchingQuery(t,r,a).next(l=>(e.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="LocalStore",v2=3e8;class E2{constructor(t,e,r,a){this.persistence=t,this.bs=e,this.serializer=a,this.Ss=new ie(wt),this.Ds=new fi(l=>ga(l),dc),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(r)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _w(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ss))}}function Tw(s,t,e,r){return new E2(s,t,e,r)}async function bw(s,t){const e=ct(s);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let a;return e.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,e.Fs(t),e.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],d=[];let m=It();for(const p of a){c.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}for(const p of l){d.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}return e.localDocuments.getDocuments(r,m).next(p=>({Ms:p,removedBatchIds:c,addedBatchIds:d}))})})}function T2(s,t){const e=ct(s);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=e.Cs.newChangeBuffer({trackRemovals:!0});return function(d,m,p,_){const T=p.batch,A=T.keys();let D=z.resolve();return A.forEach(N=>{D=D.next(()=>_.getEntry(m,N)).next(G=>{const U=p.docVersions.get(N);pt(U!==null,48541),G.version.compareTo(U)<0&&(T.applyToRemoteDocument(G,p),G.isValidDocument()&&(G.setReadTime(p.commitVersion),_.addEntry(G)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(e,r,t,l).next(()=>l.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=It();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(t))).next(()=>e.localDocuments.getDocuments(r,a))})}function Aw(s){const t=ct(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ai.getLastRemoteSnapshotVersion(e))}function b2(s,t){const e=ct(s),r=t.snapshotVersion;let a=e.Ss;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=e.Cs.newChangeBuffer({trackRemovals:!0});a=e.Ss;const d=[];t.targetChanges.forEach((_,T)=>{const A=a.get(T);if(!A)return;d.push(e.ai.removeMatchingKeys(l,_.removedDocuments,T).next(()=>e.ai.addMatchingKeys(l,_.addedDocuments,T)));let D=A.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?D=D.withResumeToken(ve.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,r)),a=a.insert(T,D),function(G,U,Y){return G.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=v2?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(A,D,_)&&d.push(e.ai.updateTargetData(l,D))});let m=bn(),p=It();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(ww(l,c,t.documentUpdates).next(_=>{m=_.xs,p=_.Os})),!r.isEqual(yt.min())){const _=e.ai.getLastRemoteSnapshotVersion(l).next(T=>e.ai.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(_)}return z.waitFor(d).next(()=>c.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(e.Ss=a,l))}function ww(s,t,e){let r=It(),a=It();return e.forEach(l=>r=r.add(l)),t.getEntries(s,r).next(l=>{let c=bn();return e.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(yt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):rt(uy,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{xs:c,Os:a}})}function A2(s,t){const e=ct(s);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Wi),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Zo(s,t){const e=ct(s);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return e.ai.getTargetData(r,t).next(l=>l?(a=l,z.resolve(a)):e.ai.allocateTargetId(r).next(c=>(a=new ni(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=e.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ss=e.Ss.insert(r.targetId,r),e.Ds.set(t,r.targetId)),r})}async function Jo(s,t,e){const r=ct(s),a=r.Ss.get(t),l=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!ds(c))throw c;rt(uy,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(a.target)}function Pf(s,t,e){const r=ct(s);let a=yt.min(),l=It();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,_){const T=ct(m),A=T.Ds.get(_);return A!==void 0?z.resolve(T.Ss.get(A)):T.ai.getTargetData(p,_)}(r,c,gn(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>r.bs.getDocumentsMatchingQuery(c,t,e?a:yt.min(),e?l:It())).next(d=>(Iw(r,VA(t),d),{documents:d,Ns:l})))}function Sw(s,t){const e=ct(s),r=ct(e.ai),a=e.Ss.get(t);return a?Promise.resolve(a.target):e.persistence.runTransaction("Get target data","readonly",l=>r.Rt(l,t).next(c=>c?c.target:null))}function Rw(s,t){const e=ct(s),r=e.vs.get(t)||yt.min();return e.persistence.runTransaction("Get new document changes","readonly",a=>e.Cs.getAllFromCollectionGroup(a,t,Zb(r,zo),Number.MAX_SAFE_INTEGER)).then(a=>(Iw(e,t,a),a))}function Iw(s,t,e){let r=s.vs.get(t)||yt.min();e.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),s.vs.set(t,r)}async function w2(s,t,e,r){const a=ct(s);let l=It(),c=bn();for(const p of e){const _=t.Bs(p.metadata.name);p.document&&(l=l.add(_));const T=t.Ls(p);T.setReadTime(t.ks(p.metadata.readTime)),c=c.insert(_,T)}const d=a.Cs.newChangeBuffer({trackRemovals:!0}),m=await Zo(a,function(_){return gn(ol(Mt.fromString(`__bundle__/docs/${_}`)))}(r));return a.persistence.runTransaction("Apply bundle documents","readwrite",p=>ww(p,d,c).next(_=>(d.apply(p),_)).next(_=>a.ai.removeMatchingKeysForTargetId(p,m.targetId).next(()=>a.ai.addMatchingKeys(p,l,m.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(p,_.xs,_.Os)).next(()=>_.xs)))}async function S2(s,t,e=It()){const r=await Zo(s,gn(ey(t.bundledQuery))),a=ct(s);return a.persistence.runTransaction("Save named query","readwrite",l=>{const c=we(t.readTime);if(r.snapshotVersion.compareTo(c)>=0)return a.ci.saveNamedQuery(l,t);const d=r.withResumeToken(ve.EMPTY_BYTE_STRING,c);return a.Ss=a.Ss.insert(d.targetId,d),a.ai.updateTargetData(l,d).next(()=>a.ai.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>a.ai.addMatchingKeys(l,e,r.targetId)).next(()=>a.ci.saveNamedQuery(l,t))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="firestore_clients";function D0(s,t){return`${Dw}_${s}_${t}`}const Cw="firestore_mutations";function C0(s,t,e){let r=`${Cw}_${s}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}const xw="firestore_targets";function Mg(s,t){return`${xw}_${s}_${t}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="SharedClientState";class Lf{constructor(t,e,r,a){this.user=t,this.batchId=e,this.state=r,this.error=a}static qs(t,e,r){const a=JSON.parse(r);let l,c=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return c&&a.error&&(c=typeof a.error.message=="string"&&typeof a.error.code=="string",c&&(l=new nt(a.error.code,a.error.message))),c?new Lf(t,e,a.state,l):(Ae(Er,`Failed to parse mutation state for ID '${e}': ${r}`),null)}Qs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class zu{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static qs(t,e){const r=JSON.parse(e);let a,l=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return l&&r.error&&(l=typeof r.error.message=="string"&&typeof r.error.code=="string",l&&(a=new nt(r.error.code,r.error.message))),l?new zu(t,r.state,a):(Ae(Er,`Failed to parse target state for ID '${t}': ${e}`),null)}Qs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class kf{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static qs(t,e){const r=JSON.parse(e);let a=typeof r=="object"&&r.activeTargetIds instanceof Array,l=Qp();for(let c=0;a&&c<r.activeTargetIds.length;++c)a=nA(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return a?new kf(t,l):(Ae(Er,`Failed to parse client data for instance '${t}': ${e}`),null)}}class cy{constructor(t,e){this.clientId=t,this.onlineState=e}static qs(t){const e=JSON.parse(t);return typeof e=="object"&&["Unknown","Online","Offline"].indexOf(e.onlineState)!==-1&&typeof e.clientId=="string"?new cy(e.clientId,e.onlineState):(Ae(Er,`Failed to parse online state: ${t}`),null)}}class hp{constructor(){this.activeTargetIds=Qp()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Pg{constructor(t,e,r,a,l){this.window=t,this.bi=e,this.persistenceKey=r,this.Ks=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ws=this.Gs.bind(this),this.zs=new ie(wt),this.started=!1,this.js=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Hs=D0(this.persistenceKey,this.Ks),this.Js=function(m){return`firestore_sequence_number_${m}`}(this.persistenceKey),this.zs=this.zs.insert(this.Ks,new hp),this.Ys=new RegExp(`^${Dw}_${c}_([^_]*)$`),this.Zs=new RegExp(`^${Cw}_${c}_(\\d+)(?:_(.*))?$`),this.Xs=new RegExp(`^${xw}_${c}_(\\d+)$`),this.eo=function(m){return`firestore_online_state_${m}`}(this.persistenceKey),this.no=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ws)}static C(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.us();for(const r of t){if(r===this.Ks)continue;const a=this.getItem(D0(this.persistenceKey,r));if(a){const l=kf.qs(r,a);l&&(this.zs=this.zs.insert(l.clientId,l))}}this.ro();const e=this.storage.getItem(this.eo);if(e){const r=this.io(e);r&&this.so(r)}for(const r of this.js)this.Gs(r);this.js=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(t){this.setItem(this.Js,JSON.stringify(t))}getAllActiveQueryTargets(){return this.oo(this.zs)}isActiveQueryTarget(t){let e=!1;return this.zs.forEach((r,a)=>{a.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this._o(t,"pending")}updateMutationState(t,e,r){this._o(t,e,r),this.ao(t)}addLocalQueryTarget(t,e=!0){let r="not-current";if(this.isActiveQueryTarget(t)){const a=this.storage.getItem(Mg(this.persistenceKey,t));if(a){const l=zu.qs(t,a);l&&(r=l.state)}}return e&&this.uo.$s(t),this.ro(),r}removeLocalQueryTarget(t){this.uo.Us(t),this.ro()}isLocalQueryTarget(t){return this.uo.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Mg(this.persistenceKey,t))}updateQueryState(t,e,r){this.co(t,e,r)}handleUserChange(t,e,r){e.forEach(a=>{this.ao(a)}),this.currentUser=t,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(t){this.lo(t)}notifyBundleLoaded(t){this.ho(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ws),this.removeItem(this.Hs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return rt(Er,"READ",t,e),e}setItem(t,e){rt(Er,"SET",t,e),this.storage.setItem(t,e)}removeItem(t){rt(Er,"REMOVE",t),this.storage.removeItem(t)}Gs(t){const e=t;if(e.storageArea===this.storage){if(rt(Er,"EVENT",e.key,e.newValue),e.key===this.Hs)return void Ae("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bi.enqueueRetryable(async()=>{if(this.started){if(e.key!==null){if(this.Ys.test(e.key)){if(e.newValue==null){const r=this.Po(e.key);return this.To(r,null)}{const r=this.Io(e.key,e.newValue);if(r)return this.To(r.clientId,r)}}else if(this.Zs.test(e.key)){if(e.newValue!==null){const r=this.Eo(e.key,e.newValue);if(r)return this.Ao(r)}}else if(this.Xs.test(e.key)){if(e.newValue!==null){const r=this.Ro(e.key,e.newValue);if(r)return this.Vo(r)}}else if(e.key===this.eo){if(e.newValue!==null){const r=this.io(e.newValue);if(r)return this.so(r)}}else if(e.key===this.Js){const r=function(l){let c=En.le;if(l!=null)try{const d=JSON.parse(l);pt(typeof d=="number",30636,{mo:l}),c=d}catch(d){Ae(Er,"Failed to read sequence number from WebStorage",d)}return c}(e.newValue);r!==En.le&&this.sequenceNumberHandler(r)}else if(e.key===this.no){const r=this.fo(e.newValue);await Promise.all(r.map(a=>this.syncEngine.po(a)))}}}else this.js.push(e)})}}get uo(){return this.zs.get(this.Ks)}ro(){this.setItem(this.Hs,this.uo.Qs())}_o(t,e,r){const a=new Lf(this.currentUser,t,e,r),l=C0(this.persistenceKey,this.currentUser,t);this.setItem(l,a.Qs())}ao(t){const e=C0(this.persistenceKey,this.currentUser,t);this.removeItem(e)}lo(t){const e={clientId:this.Ks,onlineState:t};this.storage.setItem(this.eo,JSON.stringify(e))}co(t,e,r){const a=Mg(this.persistenceKey,t),l=new zu(t,e,r);this.setItem(a,l.Qs())}ho(t){const e=JSON.stringify(Array.from(t));this.setItem(this.no,e)}Po(t){const e=this.Ys.exec(t);return e?e[1]:null}Io(t,e){const r=this.Po(t);return kf.qs(r,e)}Eo(t,e){const r=this.Zs.exec(t),a=Number(r[1]),l=r[2]!==void 0?r[2]:null;return Lf.qs(new He(l),a,e)}Ro(t,e){const r=this.Xs.exec(t),a=Number(r[1]);return zu.qs(a,e)}io(t){return cy.qs(t)}fo(t){return JSON.parse(t)}async Ao(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.yo(t.batchId,t.state,t.error);rt(Er,`Ignoring mutation for non-active user ${t.user.uid}`)}Vo(t){return this.syncEngine.wo(t.targetId,t.state,t.error)}To(t,e){const r=e?this.zs.insert(t,e):this.zs.remove(t),a=this.oo(this.zs),l=this.oo(r),c=[],d=[];return l.forEach(m=>{a.has(m)||c.push(m)}),a.forEach(m=>{l.has(m)||d.push(m)}),this.syncEngine.bo(c,d).then(()=>{this.zs=r})}so(t){this.zs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}oo(t){let e=Qp();return t.forEach((r,a)=>{e=e.unionWith(a.activeTargetIds)}),e}}class Vw{constructor(){this.So=new hp,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,e,r){this.Do[t]=e}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new hp,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="ConnectivityMonitor";class V0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){rt(x0,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){rt(x0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf=null;function fp(){return nf===null?nf=function(){return 268435456+Math.round(2147483648*Math.random())}():nf++,"0x"+nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="RestConnection",I2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D2{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=e+"://"+t.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===If?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(t,e,r,a,l){const c=fp(),d=this.$o(t,e.toUriEncodedString());rt(Lg,`Sending RPC '${t}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(m,a,l),this.Ko(t,d,m,r).then(p=>(rt(Lg,`Received RPC '${t}' ${c}: `,p),p),p=>{throw Rr(Lg,`RPC '${t}' ${c} failed with error: `,p,"url: ",d,"request:",r),p})}Wo(t,e,r,a,l,c){return this.Qo(t,e,r,a,l)}Uo(t,e,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+al}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}$o(t,e){const r=I2[t];return`${this.Lo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class x2 extends D2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,e,r,a){const l=fp();return new Promise((c,d)=>{const m=new Fb;m.setWithCredentials(!0),m.listenOnce(jb.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case af.NO_ERROR:const _=m.getResponseJson();rt(sn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(_)),c(_);break;case af.TIMEOUT:rt(sn,`RPC '${t}' ${l} timed out`),d(new nt(K.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:const T=m.getStatus();if(rt(sn,`RPC '${t}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A==null?void 0:A.error;if(D&&D.status&&D.message){const N=function(U){const Y=U.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Y)>=0?Y:K.UNKNOWN}(D.status);d(new nt(N,D.message))}else d(new nt(K.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new nt(K.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{s_:t,streamId:l,o_:m.getLastErrorCode(),__:m.getLastError()})}}finally{rt(sn,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(a);rt(sn,`RPC '${t}' ${l} sending request:`,a),m.send(e,"POST",p,r,15)})}a_(t,e,r){const a=fp(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Kb(),d=Hb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const _=l.join("");rt(sn,`Creating RPC '${t}' stream ${a}: ${_}`,m);const T=c.createWebChannel(_,m);let A=!1,D=!1;const N=new C2({Go:U=>{D?rt(sn,`Not sending because RPC '${t}' stream ${a} is closed:`,U):(A||(rt(sn,`Opening RPC '${t}' stream ${a} transport.`),T.open(),A=!0),rt(sn,`RPC '${t}' stream ${a} sending:`,U),T.send(U))},zo:()=>T.close()}),G=(U,Y,st)=>{U.listen(Y,Z=>{try{st(Z)}catch(mt){setTimeout(()=>{throw mt},0)}})};return G(T,Vu.EventType.OPEN,()=>{D||(rt(sn,`RPC '${t}' stream ${a} transport opened.`),N.t_())}),G(T,Vu.EventType.CLOSE,()=>{D||(D=!0,rt(sn,`RPC '${t}' stream ${a} transport closed`),N.r_())}),G(T,Vu.EventType.ERROR,U=>{D||(D=!0,Rr(sn,`RPC '${t}' stream ${a} transport errored. Name:`,U.name,"Message:",U.message),N.r_(new nt(K.UNAVAILABLE,"The operation could not be completed")))}),G(T,Vu.EventType.MESSAGE,U=>{var Y;if(!D){const st=U.data[0];pt(!!st,16349);const Z=st,mt=(Z==null?void 0:Z.error)||((Y=Z[0])===null||Y===void 0?void 0:Y.error);if(mt){rt(sn,`RPC '${t}' stream ${a} received error:`,mt);const ft=mt.status;let Et=function(R){const M=xe[R];if(M!==void 0)return HA(M)}(ft),x=mt.message;Et===void 0&&(Et=K.INTERNAL,x="Unknown error status: "+ft+" with message "+mt.message),D=!0,N.r_(new nt(Et,x)),T.close()}else rt(sn,`RPC '${t}' stream ${a} received:`,st),N.i_(st)}}),G(d,Gb.STAT_EVENT,U=>{U.stat===Hg.PROXY?rt(sn,`RPC '${t}' stream ${a} detected buffering proxy`):U.stat===Hg.NOPROXY&&rt(sn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{N.n_()},0),N}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(){return typeof window<"u"?window:null}function gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(s){return new Px(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(t,e,r=1e3,a=1.5,l=6e4){this.bi=t,this.timerId=e,this.u_=r,this.c_=a,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const e=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,e-r);a>0&&rt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="PersistentStream";class Ow{constructor(t,e,r,a,l,c,d,m){this.bi=t,this.R_=r,this.V_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new hy(t,e)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,e){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():e&&e.code===K.RESOURCE_EXHAUSTED?(Ae(e.toString()),Ae("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):e&&e.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(e)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),e=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===e&&this.B_(r,a)},r=>{t(()=>{const a=new nt(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(t,e){const r=this.N_(this.m_);this.stream=this.k_(t,e),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return rt(N0,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return e=>{this.bi.enqueueAndForget(()=>this.m_===t?e():(rt(N0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V2 extends Ow{constructor(t,e,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,a,c),this.serializer=l}k_(t,e){return this.connection.a_("Listen",t,e)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const e=Ux(this.serializer,t),r=function(l){if(!("targetChange"in l))return yt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?yt.min():c.readTime?we(c.readTime):yt.min()}(t);return this.listener.Q_(e,r)}U_(t){const e={};e.database=ap(this.serializer),e.addTarget=function(l,c){let d;const m=c.target;if(d=Df(m)?{documents:tw(l,m)}:{query:ew(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=YA(l,c.resumeToken);const p=ip(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(yt.min())>0){d.readTime=Xo(l,c.snapshotVersion.toTimestamp());const p=ip(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,t);const r=zx(this.serializer,t);r&&(e.labels=r),this.F_(e)}K_(t){const e={};e.database=ap(this.serializer),e.removeTarget=t,this.F_(e)}}class N2 extends Ow{constructor(t,e,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,a,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,e){return this.connection.a_("Write",t,e)}q_(t){return pt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,pt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){pt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const e=Bx(t.writeResults,t.commitTime),r=we(t.commitTime);return this.listener.j_(r,e)}H_(){const t={};t.database=ap(this.serializer),this.F_(t)}G_(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>ec(this.serializer,r))};this.F_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{}class M2 extends O2{constructor(t,e,r,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new nt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,e,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(t,sp(e,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new nt(K.UNKNOWN,l.toString())})}Wo(t,e,r,a,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(t,sp(e,r),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new nt(K.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class P2{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ae(e),this.ea=!1):rt("OnlineStateTracker",e)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class L2{constructor(t,e,r,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{r.enqueueAndForget(async()=>{gs(this)&&(rt(Ta,"Restarting streams for network reachability change."),await async function(m){const p=ct(m);p.aa.add(4),await cl(p),p.la.set("Unknown"),p.aa.delete(4),await Ec(p)}(this))})}),this.la=new P2(r,a)}}async function Ec(s){if(gs(s))for(const t of s.ua)await t(!0)}async function cl(s){for(const t of s.ua)await t(!1)}function nd(s,t){const e=ct(s);e._a.has(t.targetId)||(e._a.set(t.targetId,t),my(e)?dy(e):fl(e).b_()&&fy(e,t))}function Wo(s,t){const e=ct(s),r=fl(e);e._a.delete(t),r.b_()&&Mw(e,t),e._a.size===0&&(r.b_()?r.v_():gs(e)&&e.la.set("Unknown"))}function fy(s,t){if(s.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const e=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}fl(s).U_(t)}function Mw(s,t){s.ha.Ke(t),fl(s).K_(t)}function dy(s){s.ha=new Vx({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>s._a.get(t)||null,Pt:()=>s.datastore.serializer.databaseId}),fl(s).start(),s.la.ta()}function my(s){return gs(s)&&!fl(s).w_()&&s._a.size>0}function gs(s){return ct(s).aa.size===0}function Pw(s){s.ha=void 0}async function k2(s){s.la.set("Online")}async function U2(s){s._a.forEach((t,e)=>{fy(s,t)})}async function B2(s,t){Pw(s),my(s)?(s.la.ia(t),dy(s)):s.la.set("Unknown")}async function z2(s,t,e){if(s.la.set("Online"),t instanceof QA&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a._a.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a._a.delete(d),a.ha.removeTarget(d))}(s,t)}catch(r){rt(Ta,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Uf(s,r)}else if(t instanceof mf?s.ha.Xe(t):t instanceof KA?s.ha.ot(t):s.ha.nt(t),!e.isEqual(yt.min()))try{const r=await Aw(s.localStore);e.compareTo(r)>=0&&await function(l,c){const d=l.ha.It(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const _=l._a.get(p);_&&l._a.set(p,_.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const _=l._a.get(m);if(!_)return;l._a.set(m,_.withResumeToken(ve.EMPTY_BYTE_STRING,_.snapshotVersion)),Mw(l,m);const T=new ni(_.target,m,p,_.sequenceNumber);fy(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(s,e)}catch(r){rt(Ta,"Failed to raise snapshot:",r),await Uf(s,r)}}async function Uf(s,t,e){if(!ds(t))throw t;s.aa.add(1),await cl(s),s.la.set("Offline"),e||(e=()=>Aw(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{rt(Ta,"Retrying IndexedDB access"),await e(),s.aa.delete(1),await Ec(s)})}function Lw(s,t){return t().catch(e=>Uf(s,e,t))}async function hl(s){const t=ct(s),e=ls(t);let r=t.oa.length>0?t.oa[t.oa.length-1].batchId:Wi;for(;q2(t);)try{const a=await A2(t.localStore,r);if(a===null){t.oa.length===0&&e.v_();break}r=a.batchId,F2(t,a)}catch(a){await Uf(t,a)}kw(t)&&Uw(t)}function q2(s){return gs(s)&&s.oa.length<10}function F2(s,t){s.oa.push(t);const e=ls(s);e.b_()&&e.W_&&e.G_(t.mutations)}function kw(s){return gs(s)&&!ls(s).w_()&&s.oa.length>0}function Uw(s){ls(s).start()}async function j2(s){ls(s).H_()}async function G2(s){const t=ls(s);for(const e of s.oa)t.G_(e.mutations)}async function H2(s,t,e){const r=s.oa.shift(),a=Zp.from(r,t,e);await Lw(s,()=>s.remoteSyncer.applySuccessfulWrite(a)),await hl(s)}async function K2(s,t){t&&ls(s).W_&&await async function(r,a){if(function(c){return GA(c)&&c!==K.ABORTED}(a.code)){const l=r.oa.shift();ls(r).D_(),await Lw(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await hl(r)}}(s,t),kw(s)&&Uw(s)}async function O0(s,t){const e=ct(s);e.asyncQueue.verifyOperationInProgress(),rt(Ta,"RemoteStore received new credentials");const r=gs(e);e.aa.add(3),await cl(e),r&&e.la.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.aa.delete(3),await Ec(e)}async function dp(s,t){const e=ct(s);t?(e.aa.delete(2),await Ec(e)):t||(e.aa.add(2),await cl(e),e.la.set("Unknown"))}function fl(s){return s.Pa||(s.Pa=function(e,r,a){const l=ct(e);return l.Y_(),new V2(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(s.datastore,s.asyncQueue,{jo:k2.bind(null,s),Jo:U2.bind(null,s),Zo:B2.bind(null,s),Q_:z2.bind(null,s)}),s.ua.push(async t=>{t?(s.Pa.D_(),my(s)?dy(s):s.la.set("Unknown")):(await s.Pa.stop(),Pw(s))})),s.Pa}function ls(s){return s.Ta||(s.Ta=function(e,r,a){const l=ct(e);return l.Y_(),new N2(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(s.datastore,s.asyncQueue,{jo:()=>Promise.resolve(),Jo:j2.bind(null,s),Zo:K2.bind(null,s),z_:G2.bind(null,s),j_:H2.bind(null,s)}),s.ua.push(async t=>{t?(s.Ta.D_(),await hl(s)):(await s.Ta.stop(),s.oa.length>0&&(rt(Ta,`Stopping write stream with ${s.oa.length} pending writes`),s.oa=[]))})),s.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(t,e,r,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,a,l){const c=Date.now()+r,d=new gy(t,e,c,a,l);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dl(s,t){if(Ae("AsyncQueue",`${t}: ${s}`),ds(s))return new nt(K.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(t){return new Mo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||lt.comparator(e.key,r.key):(e,r)=>lt.comparator(e.key,r.key),this.keyedMap=Nu(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Mo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.Ia=new ie(lt.comparator)}track(t){const e=t.doc.key,r=this.Ia.get(e);r?t.type!==0&&r.type===3?this.Ia=this.Ia.insert(e,t):t.type===3&&r.type!==1?this.Ia=this.Ia.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Ia=this.Ia.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Ia=this.Ia.remove(e):t.type===1&&r.type===2?this.Ia=this.Ia.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):dt(63341,{Vt:t,Ea:r}):this.Ia=this.Ia.insert(e,t)}da(){const t=[];return this.Ia.inorderTraversal((e,r)=>{t.push(r)}),t}}class tl{constructor(t,e,r,a,l,c,d,m,p){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,e,r,a,l){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new tl(t,e,Mo.emptySet(e),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==r[a].type||!e[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class Y2{constructor(){this.queries=P0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(e,r){const a=ct(e),l=a.queries;a.queries=P0(),l.forEach((c,d)=>{for(const m of d.Ra)m.onError(r)})})(this,new nt(K.ABORTED,"Firestore shutting down"))}}function P0(){return new fi(s=>xA(s),mc)}async function py(s,t){const e=ct(s);let r=3;const a=t.query;let l=e.queries.get(a);l?!l.Va()&&t.ma()&&(r=2):(l=new Q2,r=t.ma()?0:1);try{switch(r){case 0:l.Aa=await e.onListen(a,!0);break;case 1:l.Aa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const d=dl(c,`Initialization of query '${Co(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,l),l.Ra.push(t),t.ga(e.onlineState),l.Aa&&t.pa(l.Aa)&&_y(e)}async function yy(s,t){const e=ct(s),r=t.query;let a=3;const l=e.queries.get(r);if(l){const c=l.Ra.indexOf(t);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?a=t.ma()?0:1:!l.Va()&&t.ma()&&(a=2))}switch(a){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function $2(s,t){const e=ct(s);let r=!1;for(const a of t){const l=a.query,c=e.queries.get(l);if(c){for(const d of c.Ra)d.pa(a)&&(r=!0);c.Aa=a}}r&&_y(e)}function X2(s,t,e){const r=ct(s),a=r.queries.get(t);if(a)for(const l of a.Ra)l.onError(e);r.queries.delete(t)}function _y(s){s.fa.forEach(t=>{t.next()})}var mp,L0;(L0=mp||(mp={})).ya="default",L0.Cache="cache";class vy{constructor(t,e,r){this.query=t,this.wa=e,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new tl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ba?this.Da(t)&&(this.wa.next(t),e=!0):this.va(t,this.onlineState)&&(this.Ca(t),e=!0),this.Sa=t,e}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let e=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),e=!0),e}va(t,e){if(!t.fromCache||!this.ma())return!0;const r=e!=="Offline";return(!this.options.Fa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const e=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ca(t){t=tl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,e){this.Ma=t,this.byteLength=e}xa(){return"metadata"in this.Ma}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t){this.serializer=t}Bs(t){return wr(this.serializer,t)}Ls(t){return t.metadata.exists?WA(this.serializer,t.document,!1):se.newNoDocument(this.Bs(t.metadata.name),this.ks(t.metadata.readTime))}ks(t){return we(t)}}class J2{constructor(t,e,r){this.Oa=t,this.localStore=e,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Bw(t)}Na(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Ma.namedQuery)this.queries.push(t.Ma.namedQuery);else if(t.Ma.documentMetadata){this.documents.push({metadata:t.Ma.documentMetadata}),t.Ma.documentMetadata.exists||++e;const r=Mt.fromString(t.Ma.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else t.Ma.document&&(this.documents[this.documents.length-1].document=t.Ma.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Ba(t){const e=new Map,r=new k0(this.serializer);for(const a of t)if(a.metadata.queries){const l=r.Bs(a.metadata.name);for(const c of a.metadata.queries){const d=(e.get(c)||It()).add(l);e.set(c,d)}}return e}async complete(){const t=await w2(this.localStore,new k0(this.serializer),this.documents,this.Oa.id),e=this.Ba(this.documents);for(const r of this.queries)await S2(this.localStore,r,e.get(r.name));return this.progress.taskState="Success",{progress:this.progress,La:this.collectionGroups,ka:t}}}function Bw(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t){this.key=t}}class qw{constructor(t){this.key=t}}class Fw{constructor(t,e){this.query=t,this.qa=e,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=It(),this.mutatedKeys=It(),this.Ua=NA(t),this.Ka=new Mo(this.Ua)}get Wa(){return this.qa}Ga(t,e){const r=e?e.za:new M0,a=e?e.Ka:this.Ka;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((_,T)=>{const A=a.get(_),D=gc(this.query,T)?T:null,N=!!A&&this.mutatedKeys.has(A.key),G=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;A&&D?A.data.isEqual(D.data)?N!==G&&(r.track({type:3,doc:D}),U=!0):this.ja(A,D)||(r.track({type:2,doc:D}),U=!0,(m&&this.Ua(D,m)>0||p&&this.Ua(D,p)<0)&&(d=!0)):!A&&D?(r.track({type:0,doc:D}),U=!0):A&&!D&&(r.track({type:1,doc:A}),U=!0,(m||p)&&(d=!0)),U&&(D?(c=c.add(D),l=G?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{Ka:c,za:r,ys:d,mutatedKeys:l}}ja(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,a){const l=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const c=t.za.da();c.sort((_,T)=>function(D,N){const G=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:U})}};return G(D)-G(N)}(_.type,T.type)||this.Ua(_.doc,T.doc)),this.Ha(r),a=a!=null&&a;const d=e&&!a?this.Ja():[],m=this.$a.size===0&&this.current&&!a?1:0,p=m!==this.Qa;return this.Qa=m,c.length!==0||p?{snapshot:new tl(this.query,t.Ka,l,c,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new M0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(e=>this.qa=this.qa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qa=this.qa.delete(e)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=It(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const e=[];return t.forEach(r=>{this.$a.has(r)||e.push(new qw(r))}),this.$a.forEach(r=>{t.has(r)||e.push(new zw(r))}),e}Xa(t){this.qa=t.Ns,this.$a=It();const e=this.Ga(t.documents);return this.applyChanges(e,!0)}eu(){return tl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const ps="SyncEngine";class W2{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class tV{constructor(t){this.key=t,this.tu=!1}}class eV{constructor(t,e,r,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new fi(d=>xA(d),mc),this.iu=new Map,this.su=new Set,this.ou=new ie(lt.comparator),this._u=new Map,this.au=new iy,this.uu={},this.cu=new Map,this.lu=Ea.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function nV(s,t,e=!0){const r=rd(s);let a;const l=r.ru.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.eu()):a=await jw(r,t,e,!0),a}async function rV(s,t){const e=rd(s);await jw(e,t,!0,!1)}async function jw(s,t,e,r){const a=await Zo(s.localStore,gn(t)),l=a.targetId,c=s.sharedClientState.addLocalQueryTarget(l,e);let d;return r&&(d=await Ey(s,t,l,c==="current",a.resumeToken)),s.isPrimaryClient&&e&&nd(s.remoteStore,a),d}async function Ey(s,t,e,r,a){s.Pu=(T,A,D)=>async function(G,U,Y,st){let Z=U.view.Ga(Y);Z.ys&&(Z=await Pf(G.localStore,U.query,!1).then(({documents:x})=>U.view.Ga(x,Z)));const mt=st&&st.targetChanges.get(U.targetId),ft=st&&st.targetMismatches.get(U.targetId)!=null,Et=U.view.applyChanges(Z,G.isPrimaryClient,mt,ft);return gp(G,U.targetId,Et.Ya),Et.snapshot}(s,T,A,D);const l=await Pf(s.localStore,t,!0),c=new Fw(t,l.Ns),d=c.Ga(l.documents),m=_c.createSynthesizedTargetChangeForCurrentChange(e,r&&s.onlineState!=="Offline",a),p=c.applyChanges(d,s.isPrimaryClient,m);gp(s,e,p.Ya);const _=new W2(t,e,c);return s.ru.set(t,_),s.iu.has(e)?s.iu.get(e).push(t):s.iu.set(e,[t]),p.snapshot}async function iV(s,t,e){const r=ct(s),a=r.ru.get(t),l=r.iu.get(a.targetId);if(l.length>1)return r.iu.set(a.targetId,l.filter(c=>!mc(c,t))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Jo(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),e&&Wo(r.remoteStore,a.targetId),el(r,a.targetId)}).catch(fs)):(el(r,a.targetId),await Jo(r.localStore,a.targetId,!0))}async function sV(s,t){const e=ct(s),r=e.ru.get(t),a=e.iu.get(r.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Wo(e.remoteStore,r.targetId))}async function aV(s,t,e){const r=wy(s);try{const a=await function(c,d){const m=ct(c),p=he.now(),_=d.reduce((D,N)=>D.add(N.key),It());let T,A;return m.persistence.runTransaction("Locally write mutations","readwrite",D=>{let N=bn(),G=It();return m.Cs.getEntries(D,_).next(U=>{N=U,N.forEach((Y,st)=>{st.isValidDocument()||(G=G.add(Y))})}).next(()=>m.localDocuments.getOverlayedDocuments(D,N)).next(U=>{T=U;const Y=[];for(const st of d){const Z=Dx(st,T.get(st.key).overlayedDocument);Z!=null&&Y.push(new di(st.key,Z,TA(Z.value.mapValue),ce.exists(!0)))}return m.mutationQueue.addMutationBatch(D,p,Y,d)}).next(U=>{A=U;const Y=U.applyToLocalDocumentSet(T,G);return m.documentOverlayCache.saveOverlays(D,U.batchId,Y)})}).then(()=>({batchId:A.batchId,changes:MA(T)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.uu[c.currentUser.toKey()];p||(p=new ie(wt)),p=p.insert(d,m),c.uu[c.currentUser.toKey()]=p}(r,a.batchId,e),await mi(r,a.changes),await hl(r.remoteStore)}catch(a){const l=dl(a,"Failed to persist write");e.reject(l)}}async function Gw(s,t){const e=ct(s);try{const r=await b2(e.localStore,t);t.targetChanges.forEach((a,l)=>{const c=e._u.get(l);c&&(pt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?pt(c.tu,14607):a.removedDocuments.size>0&&(pt(c.tu,42227),c.tu=!1))}),await mi(e,r,t)}catch(r){await fs(r)}}function U0(s,t,e){const r=ct(s);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const a=[];r.ru.forEach((l,c)=>{const d=c.view.ga(t);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=ct(c);m.onlineState=d;let p=!1;m.queries.forEach((_,T)=>{for(const A of T.Ra)A.ga(d)&&(p=!0)}),p&&_y(m)}(r.eventManager,t),a.length&&r.nu.Q_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function oV(s,t,e){const r=ct(s);r.sharedClientState.updateQueryState(t,"rejected",e);const a=r._u.get(t),l=a&&a.key;if(l){let c=new ie(lt.comparator);c=c.insert(l,se.newNoDocument(l,yt.min()));const d=It().add(l),m=new yc(yt.min(),new Map,new ie(wt),c,d);await Gw(r,m),r.ou=r.ou.remove(l),r._u.delete(t),Ay(r)}else await Jo(r.localStore,t,!1).then(()=>el(r,t,e)).catch(fs)}async function lV(s,t){const e=ct(s),r=t.batch.batchId;try{const a=await T2(e.localStore,t);by(e,r,null),Ty(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await mi(e,a)}catch(a){await fs(a)}}async function uV(s,t,e){const r=ct(s);try{const a=await function(c,d){const m=ct(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return m.mutationQueue.lookupMutationBatch(p,d).next(T=>(pt(T!==null,37113),_=T.keys(),m.mutationQueue.removeMutationBatch(p,T))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>m.localDocuments.getDocuments(p,_))})}(r.localStore,t);by(r,t,e),Ty(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await mi(r,a)}catch(a){await fs(a)}}async function cV(s,t){const e=ct(s);gs(e.remoteStore)||rt(ps,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(c){const d=ct(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(e.localStore);if(r===Wi)return void t.resolve();const a=e.cu.get(r)||[];a.push(t),e.cu.set(r,a)}catch(r){const a=dl(r,"Initialization of waitForPendingWrites() operation failed");t.reject(a)}}function Ty(s,t){(s.cu.get(t)||[]).forEach(e=>{e.resolve()}),s.cu.delete(t)}function by(s,t,e){const r=ct(s);let a=r.uu[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),r.uu[r.currentUser.toKey()]=a}}function el(s,t,e=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.iu.get(t))s.ru.delete(r),e&&s.nu.Tu(r,e);s.iu.delete(t),s.isPrimaryClient&&s.au.Ur(t).forEach(r=>{s.au.containsKey(r)||Hw(s,r)})}function Hw(s,t){s.su.delete(t.path.canonicalString());const e=s.ou.get(t);e!==null&&(Wo(s.remoteStore,e),s.ou=s.ou.remove(t),s._u.delete(e),Ay(s))}function gp(s,t,e){for(const r of e)r instanceof zw?(s.au.addReference(r.key,t),hV(s,r)):r instanceof qw?(rt(ps,"Document no longer in limbo: "+r.key),s.au.removeReference(r.key,t),s.au.containsKey(r.key)||Hw(s,r.key)):dt(19791,{Iu:r})}function hV(s,t){const e=t.key,r=e.path.canonicalString();s.ou.get(e)||s.su.has(r)||(rt(ps,"New document in limbo: "+e),s.su.add(r),Ay(s))}function Ay(s){for(;s.su.size>0&&s.ou.size<s.maxConcurrentLimboResolutions;){const t=s.su.values().next().value;s.su.delete(t);const e=new lt(Mt.fromString(t)),r=s.lu.next();s._u.set(r,new tV(e)),s.ou=s.ou.insert(e,r),nd(s.remoteStore,new ni(gn(ol(e.path)),r,"TargetPurposeLimboResolution",En.le))}}async function mi(s,t,e){const r=ct(s),a=[],l=[],c=[];r.ru.isEmpty()||(r.ru.forEach((d,m)=>{c.push(r.Pu(m,t,e).then(p=>{var _;if((p||e)&&r.isPrimaryClient){const T=p?!p.fromCache:(_=e==null?void 0:e.targetChanges.get(m.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(p){a.push(p);const T=ly.Ps(m.targetId,p);l.push(T)}}))}),await Promise.all(c),r.nu.Q_(a),await async function(m,p){const _=ct(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>z.forEach(p,A=>z.forEach(A.ls,D=>_.persistence.referenceDelegate.addReference(T,A.targetId,D)).next(()=>z.forEach(A.hs,D=>_.persistence.referenceDelegate.removeReference(T,A.targetId,D)))))}catch(T){if(!ds(T))throw T;rt(uy,"Failed to update sequence numbers: "+T)}for(const T of p){const A=T.targetId;if(!T.fromCache){const D=_.Ss.get(A),N=D.snapshotVersion,G=D.withLastLimboFreeSnapshotVersion(N);_.Ss=_.Ss.insert(A,G)}}}(r.localStore,l))}async function fV(s,t){const e=ct(s);if(!e.currentUser.isEqual(t)){rt(ps,"User change. New user:",t.toKey());const r=await bw(e.localStore,t);e.currentUser=t,function(l,c){l.cu.forEach(d=>{d.forEach(m=>{m.reject(new nt(K.CANCELLED,c))})}),l.cu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await mi(e,r.Ms)}}function dV(s,t){const e=ct(s),r=e._u.get(t);if(r&&r.tu)return It().add(r.key);{let a=It();const l=e.iu.get(t);if(!l)return a;for(const c of l){const d=e.ru.get(c);a=a.unionWith(d.view.Wa)}return a}}async function mV(s,t){const e=ct(s),r=await Pf(e.localStore,t.query,!0),a=t.view.Xa(r);return e.isPrimaryClient&&gp(e,t.targetId,a.Ya),a}async function gV(s,t){const e=ct(s);return Rw(e.localStore,t).then(r=>mi(e,r))}async function pV(s,t,e,r){const a=ct(s),l=await function(d,m){const p=ct(d),_=ct(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",T=>_.Hn(T,m).next(A=>A?p.localDocuments.getDocuments(T,A):z.resolve(null)))}(a.localStore,t);l!==null?(e==="pending"?await hl(a.remoteStore):e==="acknowledged"||e==="rejected"?(by(a,t,r||null),Ty(a,t),function(d,m){ct(ct(d).mutationQueue).Xn(m)}(a.localStore,t)):dt(6720,"Unknown batchState",{Eu:e}),await mi(a,l)):rt(ps,"Cannot apply mutation batch with id: "+t)}async function yV(s,t){const e=ct(s);if(rd(e),wy(e),t===!0&&e.hu!==!0){const r=e.sharedClientState.getAllActiveQueryTargets(),a=await B0(e,r.toArray());e.hu=!0,await dp(e.remoteStore,!0);for(const l of a)nd(e.remoteStore,l)}else if(t===!1&&e.hu!==!1){const r=[];let a=Promise.resolve();e.iu.forEach((l,c)=>{e.sharedClientState.isLocalQueryTarget(c)?r.push(c):a=a.then(()=>(el(e,c),Jo(e.localStore,c,!0))),Wo(e.remoteStore,c)}),await a,await B0(e,r),function(c){const d=ct(c);d._u.forEach((m,p)=>{Wo(d.remoteStore,p)}),d.au.Kr(),d._u=new Map,d.ou=new ie(lt.comparator)}(e),e.hu=!1,await dp(e.remoteStore,!1)}}async function B0(s,t,e){const r=ct(s),a=[],l=[];for(const c of t){let d;const m=r.iu.get(c);if(m&&m.length!==0){d=await Zo(r.localStore,gn(m[0]));for(const p of m){const _=r.ru.get(p),T=await mV(r,_);T.snapshot&&l.push(T.snapshot)}}else{const p=await Sw(r.localStore,c);d=await Zo(r.localStore,p),await Ey(r,Kw(p),c,!1,d.resumeToken)}a.push(d)}return r.nu.Q_(l),a}function Kw(s){return CA(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function _V(s){return function(e){return ct(ct(e).persistence).us()}(ct(s).localStore)}async function vV(s,t,e,r){const a=ct(s);if(a.hu)return void rt(ps,"Ignoring unexpected query state notification.");const l=a.iu.get(t);if(l&&l.length>0)switch(e){case"current":case"not-current":{const c=await Rw(a.localStore,VA(l[0])),d=yc.createSynthesizedRemoteEventForCurrentChange(t,e==="current",ve.EMPTY_BYTE_STRING);await mi(a,c,d);break}case"rejected":await Jo(a.localStore,t,!0),el(a,t,r);break;default:dt(64155,e)}}async function EV(s,t,e){const r=rd(s);if(r.hu){for(const a of t){if(r.iu.has(a)&&r.sharedClientState.isActiveQueryTarget(a)){rt(ps,"Adding an already active target "+a);continue}const l=await Sw(r.localStore,a),c=await Zo(r.localStore,l);await Ey(r,Kw(l),c.targetId,!1,c.resumeToken),nd(r.remoteStore,c)}for(const a of e)r.iu.has(a)&&await Jo(r.localStore,a,!1).then(()=>{Wo(r.remoteStore,a),el(r,a)}).catch(fs)}}function rd(s){const t=ct(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oV.bind(null,t),t.nu.Q_=$2.bind(null,t.eventManager),t.nu.Tu=X2.bind(null,t.eventManager),t}function wy(s){const t=ct(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uV.bind(null,t),t}function TV(s,t,e){const r=ct(s);(async function(l,c,d){try{const m=await c.getMetadata();if(await function(D,N){const G=ct(D),U=we(N.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",Y=>G.ci.getBundleMetadata(Y,N.id)).then(Y=>!!Y&&Y.createTime.compareTo(U)>=0)}(l.localStore,m))return await c.close(),d._completeWith(function(D){return{taskState:"Success",documentsLoaded:D.totalDocuments,bytesLoaded:D.totalBytes,totalDocuments:D.totalDocuments,totalBytes:D.totalBytes}}(m)),Promise.resolve(new Set);d._updateProgress(Bw(m));const p=new J2(m,l.localStore,c.serializer);let _=await c.du();for(;_;){const A=await p.Na(_);A&&d._updateProgress(A),_=await c.du()}const T=await p.complete();return await mi(l,T.ka,void 0),await function(D,N){const G=ct(D);return G.persistence.runTransaction("Save bundle","readwrite",U=>G.ci.saveBundleMetadata(U,N))}(l.localStore,m),d._completeWith(T.progress),Promise.resolve(T.La)}catch(m){return Rr(ps,`Loading bundle failed with ${m}`),d._failWith(m),Promise.resolve(new Set)}})(r,t,e).then(a=>{r.sharedClientState.notifyBundleLoaded(a)})}class nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vc(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,e){return null}fu(t,e){return null}Vu(t){return Tw(this.persistence,new Ew,t.initialUser,this.serializer)}Ru(t){return new sy(ed.Ei,this.serializer)}Au(t){return new Vw}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nc.provider={build:()=>new nc};class bV extends nc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,e){pt(this.persistence.referenceDelegate instanceof Mf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mw(r,t.asyncQueue,e)}Ru(t){const e=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new sy(r=>Mf.Ei(r,e),this.serializer)}}class Qw extends nc{constructor(t,e,r){super(),this.gu=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.gu.initialize(this,t),await wy(this.gu.syncEngine),await hl(this.gu.remoteStore),await this.persistence.Ki(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Vu(t){return Tw(this.persistence,new Ew,t.initialUser,this.serializer)}mu(t,e){const r=this.persistence.referenceDelegate.garbageCollector;return new mw(r,t.asyncQueue,e)}fu(t,e){const r=new VC(e,this.persistence);return new xC(t.asyncQueue,r)}Ru(t){const e=oy(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new ay(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,Nw(),gf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Au(t){return new Vw}}class AV extends Qw{constructor(t,e){super(t,e,!1),this.gu=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const e=this.gu.syncEngine;this.sharedClientState instanceof Pg&&(this.sharedClientState.syncEngine={yo:pV.bind(null,e),wo:vV.bind(null,e),bo:EV.bind(null,e),us:_V.bind(null,e),po:gV.bind(null,e)},await this.sharedClientState.start()),await this.persistence.Ki(async r=>{await yV(this.gu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Au(t){const e=Nw();if(!Pg.C(e))throw new nt(K.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=oy(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Pg(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class rc{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fV.bind(null,this.syncEngine),await dp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Y2}()}createDatastore(t){const e=vc(t.databaseInfo.databaseId),r=function(l){return new x2(l)}(t.databaseInfo);return function(l,c,d,m){return new M2(l,c,d,m)}(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return function(r,a,l,c,d){return new L2(r,a,l,c,d)}(this.localStore,this.datastore,t.asyncQueue,e=>U0(this.syncEngine,e,0),function(){return V0.C()?new V0:new R2}())}createSyncEngine(t,e){return function(a,l,c,d,m,p,_){const T=new eV(a,l,c,d,m,p);return _&&(T.hu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(a){const l=ct(a);rt(Ta,"RemoteStore shutting down."),l.aa.add(5),await cl(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}rc.provider={build:()=>new rc};function z0(s,t=10240){let e=0;return{async read(){if(e<s.byteLength){const r={value:s.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Ae("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(t,e){this.wu=t,this.serializer=e,this.metadata=new tn,this.buffer=new Uint8Array,this.bu=function(){return new TextDecoder("utf-8")}(),this.Su().then(r=>{r&&r.xa()?this.metadata.resolve(r.Ma.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ma)}`))},r=>this.metadata.reject(r))}close(){return this.wu.cancel()}async getMetadata(){return this.metadata.promise}async du(){return await this.getMetadata(),this.Su()}async Su(){const t=await this.Du();if(t===null)return null;const e=this.bu.decode(t),r=Number(e);isNaN(r)&&this.vu(`length string (${e}) is not valid number`);const a=await this.Cu(r);return new Z2(JSON.parse(a),t.length+r)}Fu(){return this.buffer.findIndex(t=>t===123)}async Du(){for(;this.Fu()<0&&!await this.Mu(););if(this.buffer.length===0)return null;const t=this.Fu();t<0&&this.vu("Reached the end of bundle when a length string is expected.");const e=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),e}async Cu(t){for(;this.buffer.length<t;)await this.Mu()&&this.vu("Reached the end of bundle when more is expected.");const e=this.bu.decode(this.buffer.slice(0,t));return this.buffer=this.buffer.slice(t),e}vu(t){throw this.wu.cancel(),new Error(`Invalid bundle format: ${t}`)}async Mu(){const t=await this.wu.read();if(!t.done){const e=new Uint8Array(this.buffer.length+t.value.length);e.set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e}return t.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new nt(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const e=await async function(a,l){const c=ct(a),d={documents:l.map(T=>tc(c.serializer,T))},m=await c.Wo("BatchGetDocuments",c.serializer.databaseId,Mt.emptyPath(),d,l.length),p=new Map;m.forEach(T=>{const A=kx(c.serializer,T);p.set(A.key.toString(),A)});const _=[];return l.forEach(T=>{const A=p.get(T.toString());pt(!!A,55234,{key:T}),_.push(A)}),_}(this.datastore,t);return e.forEach(r=>this.recordVersion(r)),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new ul(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((e,r)=>{const a=lt.fromPath(r);this.mutations.push(new $p(a,this.precondition(a)))}),await async function(r,a){const l=ct(r),c={writes:a.map(d=>ec(l.serializer,d))};await l.Qo("Commit",l.serializer.databaseId,Mt.emptyPath(),c)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw dt(50498,{xu:t.constructor.name});e=yt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new nt(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(yt.min())?ce.exists(!1):ce.updateTime(e):ce.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(yt.min()))throw new nt(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ce.updateTime(e)}return ce.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(t,e,r,a,l){this.asyncQueue=t,this.datastore=e,this.options=r,this.updateFunction=a,this.deferred=l,this.Ou=r.maxAttempts,this.y_=new hy(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){this.y_.E_(async()=>{const t=new SV(this.datastore),e=this.Lu(t);e&&e.then(r=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(r)}).catch(a=>{this.ku(a)}))}).catch(r=>{this.ku(r)})})}Lu(t){try{const e=this.updateFunction(t);return!hc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ku(t){this.Ou>0&&this.qu(t)?(this.Ou-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bu(),Promise.resolve()))):this.deferred.reject(t)}qu(t){if(t.name==="FirebaseError"){const e=t.code;return e==="aborted"||e==="failed-precondition"||e==="already-exists"||!GA(e)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class IV{constructor(t,e,r,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=a,this.user=He.UNAUTHENTICATED,this.clientId=$b.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{rt(us,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(rt(us,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=dl(e,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function kg(s,t){s.asyncQueue.verifyOperationInProgress(),rt(us,"Initializing OfflineComponentProvider");const e=s.configuration;await t.initialize(e);let r=e.initialUser;s.setCredentialChangeListener(async a=>{r.isEqual(a)||(await bw(t.localStore,a),r=a)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function q0(s,t){s.asyncQueue.verifyOperationInProgress();const e=await Sy(s);rt(us,"Initializing OnlineComponentProvider"),await t.initialize(e,s.configuration),s.setCredentialChangeListener(r=>O0(t.remoteStore,r)),s.setAppCheckTokenChangeListener((r,a)=>O0(t.remoteStore,a)),s._onlineComponents=t}async function Sy(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(us,"Using user provided OfflineComponentProvider");try{await kg(s,s._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===K.FAILED_PRECONDITION||a.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;Rr("Error using user provided cache. Falling back to memory cache: "+e),await kg(s,new nc)}}else rt(us,"Using default OfflineComponentProvider"),await kg(s,new bV(void 0));return s._offlineComponents}async function sd(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(us,"Using user provided OnlineComponentProvider"),await q0(s,s._uninitializedComponentsProvider._online)):(rt(us,"Using default OnlineComponentProvider"),await q0(s,new rc))),s._onlineComponents}function Yw(s){return Sy(s).then(t=>t.persistence)}function Ry(s){return Sy(s).then(t=>t.localStore)}function $w(s){return sd(s).then(t=>t.remoteStore)}function Iy(s){return sd(s).then(t=>t.syncEngine)}function DV(s){return sd(s).then(t=>t.datastore)}async function nl(s){const t=await sd(s),e=t.eventManager;return e.onListen=nV.bind(null,t.syncEngine),e.onUnlisten=iV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=rV.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=sV.bind(null,t.syncEngine),e}function CV(s){return s.asyncQueue.enqueue(async()=>{const t=await Yw(s),e=await $w(s);return t.setNetworkEnabled(!0),function(a){const l=ct(a);return l.aa.delete(0),Ec(l)}(e)})}function xV(s){return s.asyncQueue.enqueue(async()=>{const t=await Yw(s),e=await $w(s);return t.setNetworkEnabled(!1),async function(a){const l=ct(a);l.aa.add(0),await cl(l),l.la.set("Offline")}(e)})}function VV(s,t){const e=new tn;return s.asyncQueue.enqueueAndForget(async()=>async function(a,l,c){try{const d=await function(p,_){const T=ct(p);return T.persistence.runTransaction("read document","readonly",A=>T.localDocuments.getDocument(A,_))}(a,l);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new nt(K.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const m=dl(d,`Failed to get document '${l} from cache`);c.reject(m)}}(await Ry(s),t,e)),e.promise}function Xw(s,t,e={}){const r=new tn;return s.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const _=new id({next:A=>{_.yu(),c.enqueueAndForget(()=>yy(l,T));const D=A.docs.has(d);!D&&A.fromCache?p.reject(new nt(K.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&A.fromCache&&m&&m.source==="server"?p.reject(new nt(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new vy(ol(d.path),_,{includeMetadataChanges:!0,Fa:!0});return py(l,T)}(await nl(s),s.asyncQueue,t,e,r)),r.promise}function NV(s,t){const e=new tn;return s.asyncQueue.enqueueAndForget(async()=>async function(a,l,c){try{const d=await Pf(a,l,!0),m=new Fw(l,d.Ns),p=m.Ga(d.documents),_=m.applyChanges(p,!1);c.resolve(_.snapshot)}catch(d){const m=dl(d,`Failed to execute query '${l} against cache`);c.reject(m)}}(await Ry(s),t,e)),e.promise}function Zw(s,t,e={}){const r=new tn;return s.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const _=new id({next:A=>{_.yu(),c.enqueueAndForget(()=>yy(l,T)),A.fromCache&&m.source==="server"?p.reject(new nt(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new vy(d,_,{includeMetadataChanges:!0,Fa:!0});return py(l,T)}(await nl(s),s.asyncQueue,t,e,r)),r.promise}function OV(s,t){const e=new id(t);return s.asyncQueue.enqueueAndForget(async()=>function(a,l){ct(a).fa.add(l),l.next()}(await nl(s),e)),()=>{e.yu(),s.asyncQueue.enqueueAndForget(async()=>function(a,l){ct(a).fa.delete(l)}(await nl(s),e))}}function MV(s,t,e,r){const a=function(c,d){let m;return m=typeof c=="string"?Lp().encode(c):c,function(_,T){return new wV(_,T)}(function(_,T){if(_ instanceof Uint8Array)return z0(_,T);if(_ instanceof ArrayBuffer)return z0(new Uint8Array(_),T);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),d)}(e,vc(t));s.asyncQueue.enqueueAndForget(async()=>{TV(await Iy(s),a,r)})}function PV(s,t){return s.asyncQueue.enqueue(async()=>function(r,a){const l=ct(r);return l.persistence.runTransaction("Get named query","readonly",c=>l.ci.getNamedQuery(c,a))}(await Ry(s),t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(s,t,e){if(!e)throw new nt(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Ww(s,t,e,r){if(t===!0&&r===!0)throw new nt(K.INVALID_ARGUMENT,`${s} and ${e} cannot be used together.`)}function j0(s){if(!lt.isDocumentKey(s))throw new nt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function G0(s){if(lt.isDocumentKey(s))throw new nt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ad(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":dt(12329,{type:typeof s})}function Ft(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new nt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ad(s);throw new nt(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return s}function tS(s,t){if(t<=0)throw new nt(K.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="firestore.googleapis.com",H0=!0;class K0{constructor(t){var e,r;if(t.host===void 0){if(t.ssl!==void 0)throw new nt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eS,this.ssl=H0}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:H0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<n2)throw new nt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ww("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jw((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new nt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new nt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new nt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Tc{constructor(t,e,r,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new nt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vC;switch(r.type){case"firstParty":return new AC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new nt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=F0.get(e);r&&(rt("ComponentProvider","Removing Datastore"),F0.delete(e),r.terminate())}(this),Promise.resolve()}}function nS(s,t,e,r={}){var a;const l=(s=Ft(s,Tc))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:s._getEmulatorOptions()}),d=`${t}:${e}`;l.host!==eS&&l.host!==d&&Rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:r});if(!Po(m,c)&&(s._setSettings(m),r.mockUserToken)){let p,_;if(typeof r.mockUserToken=="string")p=r.mockUserToken,_=He.MOCK_USER;else{p=$1(r.mockUserToken,(a=s._app)===null||a===void 0?void 0:a.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new nt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new He(T)}s._authCredentials=new EC(new Yb(p,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pn=class rS{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new rS(this.firestore,t,this._query)}},me=class iS{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new iS(this.firestore,t,this._key)}},ts=class sS extends pn{constructor(t,e,r){super(t,e,ol(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new me(this.firestore,null,new lt(t))}withConverter(t){return new sS(this.firestore,t,this._path)}};function aS(s,t,...e){if(s=Ve(s),Dy("collection","path",t),s instanceof Tc){const r=Mt.fromString(t,...e);return G0(r),new ts(s,null,r)}{if(!(s instanceof me||s instanceof ts))throw new nt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Mt.fromString(t,...e));return G0(r),new ts(s.firestore,null,r)}}function LV(s,t){if(s=Ft(s,Tc),Dy("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new nt(K.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new pn(s,null,function(r){return new hi(Mt.emptyPath(),r)}(t))}function Bf(s,t,...e){if(s=Ve(s),arguments.length===1&&(t=$b.newId()),Dy("doc","path",t),s instanceof Tc){const r=Mt.fromString(t,...e);return j0(r),new me(s,null,new lt(r))}{if(!(s instanceof me||s instanceof ts))throw new nt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Mt.fromString(t,...e));return j0(r),new me(s.firestore,s instanceof ts?s.converter:null,new lt(r))}}function oS(s,t){return s=Ve(s),t=Ve(t),(s instanceof me||s instanceof ts)&&(t instanceof me||t instanceof ts)&&s.firestore===t.firestore&&s.path===t.path&&s.converter===t.converter}function lS(s,t){return s=Ve(s),t=Ve(t),s instanceof pn&&t instanceof pn&&s.firestore===t.firestore&&mc(s._query,t._query)&&s.converter===t.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="AsyncQueue";class Y0{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new hy(this,"async_queue_retry"),this.ju=()=>{const r=gf();r&&rt(Q0,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=t;const e=gf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const e=gf();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const e=new tn;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!ds(t))throw t;rt(Q0,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const e=this.Hu.then(()=>(this.Wu=!0,t().catch(r=>{throw this.Ku=r,this.Wu=!1,Ae("INTERNAL UNHANDLED ERROR: ",$0(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=e,e}enqueueAfterDelay(t,e,r){this.Ju(),this.zu.indexOf(t)>-1&&(e=0);const a=gy.createAndSchedule(this,t,e,r,l=>this.Xu(l));return this.Uu.push(a),a}Ju(){this.Ku&&dt(47125,{ec:$0(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const e of this.Uu)if(e.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.Uu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const e=this.Uu.indexOf(t);this.Uu.splice(e,1)}}function $0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(s){return function(e,r){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(s,["next","error","complete"])}class kV{constructor(){this._progressObserver={},this._taskCompletionResolver=new tn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=-1;let Se=class extends Tc{constructor(t,e,r,a){super(t,e,r,a),this.type="firestore",this._queue=new Y0,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Y0(t),this._firestoreClient=void 0,await t}}};function BV(s,t){const e=typeof s=="object"?s:Lb(),r=typeof s=="string"?s:If,a=Vp(e,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=Q1("firestore");l&&nS(a,...l)}return a}function ln(s){if(s._terminated)throw new nt(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||uS(s),s._firestoreClient}function uS(s){var t,e,r;const a=s._freezeSettings(),l=function(d,m,p,_){return new ax(d,m,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Jw(_.experimentalLongPollingOptions),_.useFetchStreams)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,a);s._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),s._firestoreClient=new IV(s._authCredentials,s._appCheckCredentials,s._queue,l,s._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(s._componentsProvider))}function zV(s,t){Rr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=s._freezeSettings();return cS(s,rc.provider,{build:r=>new Qw(r,e.cacheSizeBytes,t==null?void 0:t.forceOwnership)}),Promise.resolve()}async function qV(s){Rr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=s._freezeSettings();cS(s,rc.provider,{build:e=>new AV(e,t.cacheSizeBytes)})}function cS(s,t,e){if((s=Ft(s,Se))._firestoreClient||s._terminated)throw new nt(K.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(s._componentsProvider||s._getSettings().localCache)throw new nt(K.FAILED_PRECONDITION,"SDK cache is already specified.");s._componentsProvider={_online:t,_offline:e},uS(s)}function FV(s){if(s._initialized&&!s._terminated)throw new nt(K.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new tn;return s._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Ar.C())return Promise.resolve();const a=r+vw;await Ar.delete(a)}(oy(s._databaseId,s._persistenceKey)),t.resolve()}catch(e){t.reject(e)}}),t.promise}function jV(s){return function(e){const r=new tn;return e.asyncQueue.enqueueAndForget(async()=>cV(await Iy(e),r)),r.promise}(ln(s=Ft(s,Se)))}function GV(s){return CV(ln(s=Ft(s,Se)))}function HV(s){return xV(ln(s=Ft(s,Se)))}function KV(s,t){const e=ln(s=Ft(s,Se)),r=new kV;return MV(e,s._databaseId,t,r),r}function QV(s,t){return PV(ln(s=Ft(s,Se)),t).then(e=>e?new pn(s,null,e.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dr(ve.fromBase64String(t))}catch(e){throw new nt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Dr(ve.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cs=class{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new nt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ue(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa=class{constructor(t){this._methodName=t}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new nt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new nt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return wt(this._lat,t._lat)||wt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=/^__.*__$/;class $V{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new di(t,this.data,this.fieldMask,e,this.fieldTransforms):new ll(t,this.data,e,this.fieldTransforms)}}class hS{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new di(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function fS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{oc:s})}}class ld{constructor(t,e,r,a,l,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new ld(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.ac({path:r,cc:!1});return a.lc(t),a}hc(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return zf(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(fS(this.oc)&&YV.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class XV{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||vc(t)}dc(t,e,r,a=!1){return new ld({oc:t,methodName:e,Ec:r,path:ue.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ra(s){const t=s._freezeSettings(),e=vc(s._databaseId);return new XV(s._databaseId,!!t.ignoreUndefinedProperties,e)}function ud(s,t,e,r,a,l={}){const c=s.dc(l.merge||l.mergeFields?2:0,t,e,a);Ly("Data must be an object, but it was:",c,r);const d=gS(r,c);let m,p;if(l.merge)m=new Tn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const A=yp(t,T,e);if(!c.contains(A))throw new nt(K.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);yS(_,A)||_.push(A)}m=new Tn(_),p=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,p=c.fieldTransforms;return new $V(new We(d),m,p)}class bc extends Sa{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bc}}function dS(s,t,e){return new ld({oc:3,Ec:t.settings.Ec,methodName:s._methodName,cc:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class xy extends Sa{_toFieldTransform(t){return new pc(t.path,new Yo)}isEqual(t){return t instanceof xy}}class Vy extends Sa{constructor(t,e){super(t),this.Ac=e}_toFieldTransform(t){const e=dS(this,t,!0),r=this.Ac.map(l=>Ia(l,e)),a=new pa(r);return new pc(t.path,a)}isEqual(t){return t instanceof Vy&&Po(this.Ac,t.Ac)}}class Ny extends Sa{constructor(t,e){super(t),this.Ac=e}_toFieldTransform(t){const e=dS(this,t,!0),r=this.Ac.map(l=>Ia(l,e)),a=new ya(r);return new pc(t.path,a)}isEqual(t){return t instanceof Ny&&Po(this.Ac,t.Ac)}}class Oy extends Sa{constructor(t,e){super(t),this.Rc=e}_toFieldTransform(t){const e=new $o(t.serializer,kA(t.serializer,this.Rc));return new pc(t.path,e)}isEqual(t){return t instanceof Oy&&this.Rc===t.Rc}}function My(s,t,e,r){const a=s.dc(1,t,e);Ly("Data must be an object, but it was:",a,r);const l=[],c=We.empty();ms(r,(m,p)=>{const _=ky(t,m,e);p=Ve(p);const T=a.hc(_);if(p instanceof bc)l.push(_);else{const A=Ia(p,T);A!=null&&(l.push(_),c.set(_,A))}});const d=new Tn(l);return new hS(c,d,a.fieldTransforms)}function Py(s,t,e,r,a,l){const c=s.dc(1,t,e),d=[yp(t,r,e)],m=[a];if(l.length%2!=0)throw new nt(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)d.push(yp(t,l[A])),m.push(l[A+1]);const p=[],_=We.empty();for(let A=d.length-1;A>=0;--A)if(!yS(p,d[A])){const D=d[A];let N=m[A];N=Ve(N);const G=c.hc(D);if(N instanceof bc)p.push(D);else{const U=Ia(N,G);U!=null&&(p.push(D),_.set(D,U))}}const T=new Tn(p);return new hS(_,T,c.fieldTransforms)}function mS(s,t,e,r=!1){return Ia(e,s.dc(r?4:3,t))}function Ia(s,t){if(pS(s=Ve(s)))return Ly("Unsupported field value:",t,s),gS(s,t);if(s instanceof Sa)return function(r,a){if(!fS(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const d of r){let m=Ia(d,a.Pc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(s,t)}return function(r,a){if((r=Ve(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kA(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=he.fromDate(r);return{timestampValue:Xo(a.serializer,l)}}if(r instanceof he){const l=new he(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xo(a.serializer,l)}}if(r instanceof od)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dr)return{bytesValue:YA(a.serializer,r._byteString)};if(r instanceof me){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ty(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Cy)return function(c,d){return{mapValue:{fields:{[jp]:{stringValue:Gp},[Ho]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Tc("VectorValues must only contain numeric values.");return Yp(d.serializer,p)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${ad(r)}`)}(s,t)}function gS(s,t){const e={};return fA(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ms(s,(r,a)=>{const l=Ia(a,t.uc(r));l!=null&&(e[r]=l)}),{mapValue:{fields:e}}}function pS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof he||s instanceof od||s instanceof Dr||s instanceof me||s instanceof Sa||s instanceof Cy)}function Ly(s,t,e){if(!pS(e)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(e)){const r=ad(e);throw r==="an object"?t.Tc(s+" a custom object"):t.Tc(s+" "+r)}}function yp(s,t,e){if((t=Ve(t))instanceof cs)return t._internalPath;if(typeof t=="string")return ky(s,t);throw zf("Field path arguments must be of type string or ",s,!1,void 0,e)}const ZV=new RegExp("[~\\*/\\[\\]]");function ky(s,t,e){if(t.search(ZV)>=0)throw zf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,e);try{return new cs(...t.split("."))._internalPath}catch{throw zf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,e)}}function zf(s,t,e,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new nt(K.INVALID_ARGUMENT,d+s+m)}function yS(s,t){return s.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,e,r,a,l){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(cd("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class JV extends ic{data(){return super.data()}}function cd(s,t){return typeof t=="string"?ky(s,t):t instanceof cs?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new nt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uy{}class Ac extends Uy{}function Qi(s,t,...e){let r=[];t instanceof Uy&&r.push(t),r=r.concat(e),function(l){const c=l.filter(m=>m instanceof By).length,d=l.filter(m=>m instanceof hd).length;if(c>1||c>0&&d>0)throw new nt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)s=a._apply(s);return s}class hd extends Ac{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new hd(t,e,r)}_apply(t){const e=this._parse(t);return ES(t._query,e),new pn(t.firestore,t.converter,rp(t._query,e))}_parse(t){const e=Ra(t.firestore);return function(l,c,d,m,p,_,T){let A;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new nt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Z0(T,_);const N=[];for(const G of T)N.push(X0(m,l,G));A={arrayValue:{values:N}}}else A=X0(m,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Z0(T,_),A=mS(d,c,T,_==="in"||_==="not-in");return Pt.create(p,_,A)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function WV(s,t,e){const r=t,a=cd("where",s);return hd._create(a,r,e)}class By extends Uy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new By(t,e)}_parse(t){const e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return e.length===1?e[0]:$t.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)ES(c,m),c=rp(c,m)}(t._query,e),new pn(t.firestore,t.converter,rp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zy extends Ac{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new zy(t,e)}_apply(t){const e=function(a,l,c){if(a.startAt!==null)throw new nt(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new nt(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wu(l,c)}(t._query,this._field,this._direction);return new pn(t.firestore,t.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new hi(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,e))}}function tN(s,t="asc"){const e=t,r=cd("orderBy",s);return zy._create(r,e)}class fd extends Ac{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new fd(t,e,r)}_apply(t){return new pn(t.firestore,t.converter,xf(t._query,this._limit,this._limitType))}}function eN(s){return tS("limit",s),fd._create("limit",s,"F")}function nN(s){return tS("limitToLast",s),fd._create("limitToLast",s,"L")}class dd extends Ac{constructor(t,e,r){super(),this.type=t,this._docOrFields=e,this._inclusive=r}static _create(t,e,r){return new dd(t,e,r)}_apply(t){const e=vS(t,this.type,this._docOrFields,this._inclusive);return new pn(t.firestore,t.converter,function(a,l){return new hi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)}(t._query,e))}}function rN(...s){return dd._create("startAt",s,!0)}function iN(...s){return dd._create("startAfter",s,!1)}class md extends Ac{constructor(t,e,r){super(),this.type=t,this._docOrFields=e,this._inclusive=r}static _create(t,e,r){return new md(t,e,r)}_apply(t){const e=vS(t,this.type,this._docOrFields,this._inclusive);return new pn(t.firestore,t.converter,function(a,l){return new hi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)}(t._query,e))}}function sN(...s){return md._create("endBefore",s,!1)}function aN(...s){return md._create("endAt",s,!0)}function vS(s,t,e,r){if(e[0]=Ve(e[0]),e[0]instanceof ic)return function(l,c,d,m,p){if(!m)throw new nt(K.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const _=[];for(const T of Oo(l))if(T.field.isKeyField())_.push(ma(c,m.key));else{const A=m.data.field(T.field);if(Yf(A))throw new nt(K.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const D=T.field.canonicalString();throw new nt(K.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}_.push(A)}return new os(_,p)}(s._query,s.firestore._databaseId,t,e[0]._document,r);{const a=Ra(s.firestore);return function(c,d,m,p,_,T){const A=c.explicitOrderBy;if(_.length>A.length)throw new nt(K.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let N=0;N<_.length;N++){const G=_[N];if(A[N].field.isKeyField()){if(typeof G!="string")throw new nt(K.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof G}`);if(!Kp(c)&&G.indexOf("/")!==-1)throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${G}' contains a slash.`);const U=c.path.child(Mt.fromString(G));if(!lt.isDocumentKey(U))throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${U}' is not because it contains an odd number of segments.`);const Y=new lt(U);D.push(ma(d,Y))}else{const U=mS(m,p,G);D.push(U)}}return new os(D,T)}(s._query,s.firestore._databaseId,a,t,e,r)}}function X0(s,t,e){if(typeof(e=Ve(e))=="string"){if(e==="")throw new nt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kp(t)&&e.indexOf("/")!==-1)throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(Mt.fromString(e));if(!lt.isDocumentKey(r))throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ma(s,new lt(r))}if(e instanceof me)return ma(s,e._key);throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ad(e)}.`)}function Z0(s,t){if(!Array.isArray(s)||s.length===0)throw new nt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ES(s,t){const e=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(s.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new nt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new nt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class qy{convertValue(t,e="none"){switch(ss(t)){case 0:return null;case 1:return t.booleanValue;case 2:return le(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(li(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return ms(t,(a,l)=>{r[a]=this.convertValue(l,e)}),r}convertVectorValue(t){var e,r,a;const l=(a=(r=(e=t.fields)===null||e===void 0?void 0:e[Ho].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>le(c.doubleValue));return new Cy(l)}convertGeoPoint(t){return new od(le(t.latitude),le(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=$f(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Xu(t));default:return null}}convertTimestamp(t){const e=oi(t);return new he(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Mt.fromString(t);pt(sw(r),9688,{name:t});const a=new is(r.get(1),r.get(3)),l=new lt(r.popFirst(5));return a.isEqual(e)||Ae(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(s,t,e){let r;return r=s?e&&(e.merge||e.mergeFields)?s.toFirestore(t,e):s.toFirestore(t):t,r}class oN extends qy{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dr(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new me(this.firestore,null,e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}let ui=class extends ic{constructor(t,e,r,a,l,c){super(t,e,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(cd("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}},qu=class extends ui{data(t={}){return super.data(t)}},hs=class{constructor(t,e,r,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new ca(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new qu(this._firestore,this._userDataWriter,r.key,r,new ca(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new nt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new qu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ca(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new qu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ca(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,_=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:lN(d.type),doc:m,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}};function lN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:s})}}function TS(s,t){return s instanceof ui&&t instanceof ui?s._firestore===t._firestore&&s._key.isEqual(t._key)&&(s._document===null?t._document===null:s._document.isEqual(t._document))&&s._converter===t._converter:s instanceof hs&&t instanceof hs&&s._firestore===t._firestore&&lS(s.query,t.query)&&s.metadata.isEqual(t.metadata)&&s._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(s){s=Ft(s,me);const t=Ft(s.firestore,Se);return Xw(ln(t),s._key).then(e=>Fy(t,s,e))}class Da extends qy{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dr(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new me(this.firestore,null,e)}}function cN(s){s=Ft(s,me);const t=Ft(s.firestore,Se),e=ln(t),r=new Da(t);return VV(e,s._key).then(a=>new ui(t,r,s._key,a,new ca(a!==null&&a.hasLocalMutations,!0),s.converter))}function hN(s){s=Ft(s,me);const t=Ft(s.firestore,Se);return Xw(ln(t),s._key,{source:"server"}).then(e=>Fy(t,s,e))}function fN(s){s=Ft(s,pn);const t=Ft(s.firestore,Se),e=ln(t),r=new Da(t);return _S(s._query),Zw(e,s._query).then(a=>new hs(t,r,s,a))}function dN(s){s=Ft(s,pn);const t=Ft(s.firestore,Se),e=ln(t),r=new Da(t);return NV(e,s._query).then(a=>new hs(t,r,s,a))}function mN(s){s=Ft(s,pn);const t=Ft(s.firestore,Se),e=ln(t),r=new Da(t);return Zw(e,s._query,{source:"server"}).then(a=>new hs(t,r,s,a))}function J0(s,t,e){s=Ft(s,me);const r=Ft(s.firestore,Se),a=gd(s.converter,t,e);return wc(r,[ud(Ra(r),"setDoc",s._key,a,s.converter!==null,e).toMutation(s._key,ce.none())])}function W0(s,t,e,...r){s=Ft(s,me);const a=Ft(s.firestore,Se),l=Ra(a);let c;return c=typeof(t=Ve(t))=="string"||t instanceof cs?Py(l,"updateDoc",s._key,t,e,r):My(l,"updateDoc",s._key,t),wc(a,[c.toMutation(s._key,ce.exists(!0))])}function gN(s){return wc(Ft(s.firestore,Se),[new ul(s._key,ce.none())])}function pN(s,t){const e=Ft(s.firestore,Se),r=Bf(s),a=gd(s.converter,t);return wc(e,[ud(Ra(s.firestore),"addDoc",r._key,a,s.converter!==null,{}).toMutation(r._key,ce.exists(!1))]).then(()=>r)}function bS(s,...t){var e,r,a;s=Ve(s);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||pp(t[c])||(l=t[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(pp(t[c])){const T=t[c];t[c]=(e=T.next)===null||e===void 0?void 0:e.bind(T),t[c+1]=(r=T.error)===null||r===void 0?void 0:r.bind(T),t[c+2]=(a=T.complete)===null||a===void 0?void 0:a.bind(T)}let m,p,_;if(s instanceof me)p=Ft(s.firestore,Se),_=ol(s._key.path),m={next:T=>{t[c]&&t[c](Fy(p,s,T))},error:t[c+1],complete:t[c+2]};else{const T=Ft(s,pn);p=Ft(T.firestore,Se),_=T._query;const A=new Da(p);m={next:D=>{t[c]&&t[c](new hs(p,A,T,D))},error:t[c+1],complete:t[c+2]},_S(s._query)}return function(A,D,N,G){const U=new id(G),Y=new vy(D,U,N);return A.asyncQueue.enqueueAndForget(async()=>py(await nl(A),Y)),()=>{U.yu(),A.asyncQueue.enqueueAndForget(async()=>yy(await nl(A),Y))}}(ln(p),_,d,m)}function yN(s,t){return OV(ln(s=Ft(s,Se)),pp(t)?t:{next:t})}function wc(s,t){return function(r,a){const l=new tn;return r.asyncQueue.enqueueAndForget(async()=>aV(await Iy(r),a,l)),l.promise}(ln(s),t)}function Fy(s,t,e){const r=e.docs.get(t._key),a=new Da(s);return new ui(s,a,t._key,r,new ca(e.hasPendingWrites,e.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vN=class{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ra(t)}set(t,e,r){this._verifyNotCommitted();const a=Xi(t,this._firestore),l=gd(a.converter,e,r),c=ud(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,ce.none())),this}update(t,e,r,...a){this._verifyNotCommitted();const l=Xi(t,this._firestore);let c;return c=typeof(e=Ve(e))=="string"||e instanceof cs?Py(this._dataReader,"WriteBatch.update",l._key,e,r,a):My(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(c.toMutation(l._key,ce.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Xi(t,this._firestore);return this._mutations=this._mutations.concat(new ul(e._key,ce.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new nt(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Xi(s,t){if((s=Ve(s)).firestore!==t)throw new nt(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ra(t)}get(t){const e=Xi(t,this._firestore),r=new oN(this._firestore);return this._transaction.lookup([e._key]).then(a=>{if(!a||a.length!==1)return dt(24041);const l=a[0];if(l.isFoundDocument())return new ic(this._firestore,r,l.key,l,e.converter);if(l.isNoDocument())return new ic(this._firestore,r,e._key,null,e.converter);throw dt(18433,{doc:l})})}set(t,e,r){const a=Xi(t,this._firestore),l=gd(a.converter,e,r),c=ud(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,r);return this._transaction.set(a._key,c),this}update(t,e,r,...a){const l=Xi(t,this._firestore);let c;return c=typeof(e=Ve(e))=="string"||e instanceof cs?Py(this._dataReader,"Transaction.update",l._key,e,r,a):My(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,c),this}delete(t){const e=Xi(t,this._firestore);return this._transaction.delete(e._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TN=class extends EN{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Xi(t,this._firestore),r=new Da(this._firestore);return super.get(t).then(a=>new ui(this._firestore,r,e._key,a._document,new ca(!1,!1),e.converter))}};function bN(s,t,e){s=Ft(s,Se);const r=Object.assign(Object.assign({},_N),e);return function(l){if(l.maxAttempts<1)throw new nt(K.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(l,c,d){const m=new tn;return l.asyncQueue.enqueueAndForget(async()=>{const p=await DV(l);new RV(l.asyncQueue,p,d,c,m).Nu()}),m.promise}(ln(s),a=>t(new TN(s,a)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(){return new bc("deleteField")}function wN(){return new xy("serverTimestamp")}function SN(...s){return new Vy("arrayUnion",s)}function RN(...s){return new Ny("arrayRemove",s)}function IN(s){return new Oy("increment",s)}(function(t,e=!0){(function(a){al=a})(Np),Uo(new da("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Se(new TC(r.getProvider("auth-internal")),new wC(c,r.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new nt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new is(p.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:e},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),ii(CT,xT,t),ii(CT,xT,"esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t,e){this._delegate=t,this.firebase=e,ju(t,new da("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Mp(this._delegate)))}_getService(t,e=es){var r;this._delegate.checkDestroyed();const a=this._delegate.container.getProvider(t);return!a.isInitialized()&&((r=a.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&a.initialize(),a.getImmediate({identifier:e})}_removeServiceInstance(t,e=es){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){ju(this._delegate,t)}_addOrOverwriteComponent(t){Nb(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},tb=new jf("app-compat","Firebase",CN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(s){const t={},e={__esModule:!0,initializeApp:l,app:a,registerVersion:ii,setLogLevel:Ub,onLog:kb,apps:null,SDK_VERSION:Np,INTERNAL:{registerComponent:d,removeApp:r,useAsService:m,modularAPIs:pC}};e.default=e,Object.defineProperty(e,"apps",{get:c});function r(p){delete t[p]}function a(p){if(p=p||es,!vT(t,p))throw tb.create("no-app",{appName:p});return t[p]}a.App=s;function l(p,_={}){const T=Op(p,_);if(vT(t,T.name))return t[T.name];const A=new s(T,e);return t[T.name]=A,A}function c(){return Object.keys(t).map(p=>t[p])}function d(p){const _=p.name,T=_.replace("-compat","");if(Uo(p)&&p.type==="PUBLIC"){const A=(D=a())=>{if(typeof D[T]!="function")throw tb.create("invalid-app-argument",{appName:_});return D[T]()};p.serviceProps!==void 0&&_f(A,p.serviceProps),e[T]=A,s.prototype[T]=function(...D){return this._getService.bind(this,_).apply(this,p.multipleInstances?D:[])}}return p.type==="PUBLIC"?e[T]:null}function m(p,_){return _==="serverAuth"?null:_}return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){const s=xN(DN);s.INTERNAL=Object.assign(Object.assign({},s.INTERNAL),{createFirebaseNamespace:AS,extendNamespace:t,createSubscribe:nD,ErrorFactory:jf,deepExtend:_f});function t(e){_f(s,e)}return s}const VN=AS();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Cp("@firebase/app-compat"),NN="@firebase/app-compat",ON="0.2.54";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(s){ii(NN,ON,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const s=Rp();if(s.firebase!==void 0){eb.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const t=s.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&eb.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const jy=VN;MN();var PN="firebase",LN="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jy.registerVersion(PN,LN,"app-compat");const kN="@firebase/firestore-compat",UN="0.3.46";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(s,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new nt("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(){if(typeof Uint8Array>"u")throw new nt("unimplemented","Uint8Arrays are not available in this environment.")}function rb(){if(!ix())throw new nt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class sc{constructor(t){this._delegate=t}static fromBase64String(t){return rb(),new sc(Dr.fromBase64String(t))}static fromUint8Array(t){return nb(),new sc(Dr.fromUint8Array(t))}toBase64(){return rb(),this._delegate.toBase64()}toUint8Array(){return nb(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(s){return BN(s,["next","error","complete"])}function BN(s,t){if(typeof s!="object"||s===null)return!1;const e=s;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{enableIndexedDbPersistence(t,e){return zV(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return qV(t._delegate)}clearIndexedDbPersistence(t){return FV(t._delegate)}}class wS{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof is||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Rr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&(t=Object.assign(Object.assign({},e),t),delete t.merge),this._delegate._setSettings(t)}useEmulator(t,e,r={}){nS(this._delegate,t,e,r)}enableNetwork(){return GV(this._delegate)}disableNetwork(){return HV(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,Ww("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return jV(this._delegate)}onSnapshotsInSync(t){return yN(this._delegate,t)}get app(){if(!this._appCompat)throw new nt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new rl(this,aS(this._delegate,t))}catch(e){throw mn(e,"collection()","Firestore.collection()")}}doc(t){try{return new Qn(this,Bf(this._delegate,t))}catch(e){throw mn(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new dn(this,LV(this._delegate,t))}catch(e){throw mn(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return bN(this._delegate,e=>t(new SS(this,e)))}batch(){return ln(this._delegate),new RS(new vN(this._delegate,t=>wc(this._delegate,t)))}loadBundle(t){return KV(this._delegate,t)}namedQuery(t){return QV(this._delegate,t).then(e=>e?new dn(this,e):null)}}class pd extends qy{constructor(t){super(),this.firestore=t}convertBytes(t){return new sc(new Dr(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Qn.forKey(e,this.firestore,null)}}function qN(s){yC(s)}class SS{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new pd(t)}get(t){const e=ha(t);return this._delegate.get(e).then(r=>new ac(this._firestore,new ui(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const a=ha(t);return r?(Gy("Transaction.set",r),this._delegate.set(a,e,r)):this._delegate.set(a,e),this}update(t,e,r,...a){const l=ha(t);return arguments.length===2?this._delegate.update(l,e):this._delegate.update(l,e,r,...a),this}delete(t){const e=ha(t);return this._delegate.delete(e),this}}class RS{constructor(t){this._delegate=t}set(t,e,r){const a=ha(t);return r?(Gy("WriteBatch.set",r),this._delegate.set(a,e,r)):this._delegate.set(a,e),this}update(t,e,r,...a){const l=ha(t);return arguments.length===2?this._delegate.update(l,e):this._delegate.update(l,e,r,...a),this}delete(t){const e=ha(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class ba{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new qu(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new oc(this._firestore,r),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=ba.INSTANCES;let a=r.get(t);a||(a=new WeakMap,r.set(t,a));let l=a.get(e);return l||(l=new ba(t,new pd(t),e),a.set(e,l)),l}}ba.INSTANCES=new WeakMap;class Qn{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new pd(t)}static forPath(t,e,r){if(t.length%2!==0)throw new nt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Qn(e,new me(e._delegate,r,new lt(t)))}static forKey(t,e,r){return new Qn(e,new me(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new rl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new rl(this.firestore,aS(this._delegate,t))}catch(e){throw mn(e,"collection()","DocumentReference.collection()")}}isEqual(t){return t=Ve(t),t instanceof me?oS(this._delegate,t):!1}set(t,e){e=Gy("DocumentReference.set",e);try{return e?J0(this._delegate,t,e):J0(this._delegate,t)}catch(r){throw mn(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return arguments.length===1?W0(this._delegate,t):W0(this._delegate,t,e,...r)}catch(a){throw mn(a,"updateDoc()","DocumentReference.update()")}}delete(){return gN(this._delegate)}onSnapshot(...t){const e=IS(t),r=DS(t,a=>new ac(this.firestore,new ui(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return bS(this._delegate,e,r)}get(t){let e;return(t==null?void 0:t.source)==="cache"?e=cN(this._delegate):(t==null?void 0:t.source)==="server"?e=hN(this._delegate):e=uN(this._delegate),e.then(r=>new ac(this.firestore,new ui(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new Qn(this.firestore,t?this._delegate.withConverter(ba.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function mn(s,t,e){return s.message=s.message.replace(t,e),s}function IS(s){for(const t of s)if(typeof t=="object"&&!_p(t))return t;return{}}function DS(s,t){var e,r;let a;return _p(s[0])?a=s[0]:_p(s[1])?a=s[1]:typeof s[0]=="function"?a={next:s[0],error:s[1],complete:s[2]}:a={next:s[1],error:s[2],complete:s[3]},{next:l=>{a.next&&a.next(t(l))},error:(e=a.error)===null||e===void 0?void 0:e.bind(a),complete:(r=a.complete)===null||r===void 0?void 0:r.bind(a)}}class ac{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Qn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return TS(this._delegate,t._delegate)}}class oc extends ac{data(t){const e=this._delegate.data(t);return this._delegate._converter||_C(e!==void 0,"Document in a QueryDocumentSnapshot should exist"),e}}class dn{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new pd(t)}where(t,e,r){try{return new dn(this.firestore,Qi(this._delegate,WV(t,e,r)))}catch(a){throw mn(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new dn(this.firestore,Qi(this._delegate,tN(t,e)))}catch(r){throw mn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new dn(this.firestore,Qi(this._delegate,eN(t)))}catch(e){throw mn(e,"limit()","Query.limit()")}}limitToLast(t){try{return new dn(this.firestore,Qi(this._delegate,nN(t)))}catch(e){throw mn(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new dn(this.firestore,Qi(this._delegate,rN(...t)))}catch(e){throw mn(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new dn(this.firestore,Qi(this._delegate,iN(...t)))}catch(e){throw mn(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new dn(this.firestore,Qi(this._delegate,sN(...t)))}catch(e){throw mn(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new dn(this.firestore,Qi(this._delegate,aN(...t)))}catch(e){throw mn(e,"endAt()","Query.endAt()")}}isEqual(t){return lS(this._delegate,t._delegate)}get(t){let e;return(t==null?void 0:t.source)==="cache"?e=dN(this._delegate):(t==null?void 0:t.source)==="server"?e=mN(this._delegate):e=fN(this._delegate),e.then(r=>new vp(this.firestore,new hs(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=IS(t),r=DS(t,a=>new vp(this.firestore,new hs(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return bS(this._delegate,e,r)}withConverter(t){return new dn(this.firestore,t?this._delegate.withConverter(ba.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}class FN{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new oc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vp{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new dn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new oc(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new FN(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new oc(this._firestore,r))})}isEqual(t){return TS(this._delegate,t._delegate)}}class rl extends dn{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Qn(this.firestore,t):null}doc(t){try{return t===void 0?new Qn(this.firestore,Bf(this._delegate)):new Qn(this.firestore,Bf(this._delegate,t))}catch(e){throw mn(e,"doc()","CollectionReference.doc()")}}add(t){return pN(this._delegate,t).then(e=>new Qn(this.firestore,e))}isEqual(t){return oS(this._delegate,t._delegate)}withConverter(t){return new rl(this.firestore,t?this._delegate.withConverter(ba.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function ha(s){return Ft(s,me)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(...t){this._delegate=new cs(...t)}static documentId(){return new Hy(ue.keyField().canonicalString())}isEqual(t){return t=Ve(t),t instanceof cs?this._delegate._internalPath.isEqual(t._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{static serverTimestamp(){const t=wN();return t._methodName="FieldValue.serverTimestamp",new la(t)}static delete(){const t=AN();return t._methodName="FieldValue.delete",new la(t)}static arrayUnion(...t){const e=SN(...t);return e._methodName="FieldValue.arrayUnion",new la(e)}static arrayRemove(...t){const e=RN(...t);return e._methodName="FieldValue.arrayRemove",new la(e)}static increment(t){const e=IN(t);return e._methodName="FieldValue.increment",new la(e)}constructor(t){this._delegate=t}isEqual(t){return this._delegate.isEqual(t._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={Firestore:wS,GeoPoint:od,Timestamp:he,Blob:sc,Transaction:SS,WriteBatch:RS,DocumentReference:Qn,DocumentSnapshot:ac,Query:dn,QueryDocumentSnapshot:oc,QuerySnapshot:vp,CollectionReference:rl,FieldPath:Hy,FieldValue:la,setLogLevel:qN,CACHE_SIZE_UNLIMITED:UV};function GN(s,t){s.INTERNAL.registerComponent(new da("firestore-compat",e=>{const r=e.getProvider("app-compat").getImmediate(),a=e.getProvider("firestore").getImmediate();return t(r,a)},"PUBLIC").setServiceProps(Object.assign({},jN)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(s){GN(s,(t,e)=>new wS(t,e,new zN)),s.registerVersion(kN,UN)}HN(jy);const KN=jy.initializeApp({apiKey:"AIzaSyB3s6QjYWR6EL45XSK7ANP-D_1I-DZ9eYg",authDomain:"taxis-e44d6.firebaseapp.com",projectId:"taxis-e44d6",storageBucket:"taxis-e44d6.appspot.com",messagingSenderId:"603667662446",appId:"1:603667662446:web:0014b763a2a4acca92487f"});BV(KN);function QN(){const[s,t]=tt.useState("1"),[e,r]=tt.useState("5");return it.jsxs(it.Fragment,{children:[it.jsxs("div",{className:"inicioContainer",children:[it.jsxs("div",{className:"titulo",children:[it.jsx("h4",{children:"Notas Sueltas"}),it.jsx("h2",{children:"Titulo 1"})]}),it.jsxs("div",{className:"buttonsContainer",children:[it.jsx("button",{className:s==="1"?"bg-dark":"bg-ligth",onClick:()=>t("1"),children:"info 1"}),it.jsx("button",{className:s==="2"?"bg-dark":"bg-ligth",onClick:()=>t("2"),children:"info 2"}),it.jsx("button",{className:s==="3"?"bg-dark":"bg-ligth",onClick:()=>t("3"),children:"info 3"})]}),it.jsx("div",{className:s!=="1"?"d-none":"displayX",children:it.jsx("div",{children:it.jsxs("h3",{children:["texto1",it.jsx("br",{}),"texto",it.jsx("br",{})," informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion"]})})}),it.jsx("div",{className:s!=="2"?"d-none":"displayX",children:it.jsx("div",{children:it.jsxs("h3",{children:["texto2",it.jsx("br",{})," info ",it.jsx("br",{})," es como el sistema de aspersin con lquido pero esparce partculas mucho ms finas que forman una especie de nube fra, lo cual le confiere gran poder de penetracin. Ideal para el control de insectos voladores."]})})}),it.jsx("div",{className:s!=="3"?"d-none":"displayX",children:it.jsx("div",{children:it.jsxs("h3",{children:["texto 3",it.jsx("br",{}),"  informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion"]})})})]}),it.jsxs("div",{className:"inicioContainer",children:[it.jsx("div",{className:"titulo",children:it.jsx("h2",{children:"Titulo 2"})}),it.jsxs("div",{className:"buttonsContainer",children:[it.jsx("button",{className:s==="4"?"bg-dark":"bg-ligth",onClick:()=>r("4"),children:"info 4"}),it.jsx("button",{className:s==="5"?"bg-dark":"bg-ligth",onClick:()=>r("5"),children:"info 5"}),it.jsx("button",{className:s==="6"?"bg-dark":"bg-ligth",onClick:()=>r("6"),children:"info 6"})]}),it.jsx("div",{className:e!=="4"?"d-none":"displayX",children:it.jsx("div",{children:it.jsxs("h3",{children:["texto4",it.jsx("br",{}),"texto",it.jsx("br",{})," informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion"]})})}),it.jsx("div",{className:e!=="5"?"d-none":"displayX",children:it.jsx("div",{children:it.jsxs("h3",{children:["texto5",it.jsx("br",{})," info ",it.jsx("br",{})," es como el sistema de aspersin con lquido pero esparce partculas mucho ms finas que forman una especie de nube fra, lo cual le confiere gran poder de penetracin. Ideal para el control de insectos voladores."]})})}),it.jsx("div",{className:e!=="6"?"d-none":"displayX",children:it.jsx("div",{children:it.jsxs("h3",{children:["texto 6",it.jsx("br",{}),"  informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion informacion"]})})})]})]})}function YN(){return it.jsxs("div",{className:"containerApp",children:[it.jsx(M1,{}),it.jsxs(WI,{children:[it.jsx(Bg,{path:"/notassueltas/",element:it.jsx(k1,{})}),it.jsx(Bg,{path:"/notassueltas/CENACULOS",element:it.jsx(QN,{})})]}),it.jsx("div",{className:"sombra",children:it.jsx("img",{src:N1,style:{marginBottom:"20px"}})}),it.jsx(O1,{})]})}lI.createRoot(document.getElementById("root")).render(it.jsx(A1,{children:it.jsx(YN,{})}));
